{"version":3,"sources":["assets/logo.png","../node_modules/@elastic/eui/es/components/icon/assets lazy /^/.*/.js$/ groupOptions: {} namespace object","utils/momentInit.ts","utils/accessLevel.ts","contexts/GlobalUIContext.tsx","utils/enums.ts","utils/api/index.ts","utils/api/unilog/instance.ts","utils/api/unilog/index.ts","contexts/GlobalStateContext.tsx","pages/Login.tsx","layouts/PageLayout.tsx","layouts/ContentLayout.tsx","pages/EditProfile.tsx","components/PasswordInput.tsx","pages/ChangePassword.tsx","components/UserManagement/ControlBar.tsx","components/UserManagement/ManagementTable.tsx","components/Modal.tsx","components/UserManagement/EditFormModal.tsx","pages/UserManagement.tsx","pages/AuthorityManagement.tsx","components/TimePickerDropButton.tsx","components/TimeRangePicker.tsx","layouts/DashboardLayout.tsx","components/SingleItemTimeBarChart.tsx","components/DonutChart.tsx","components/DataTable.tsx","utils/api/kibana/instance.ts","utils/api/kibana/index.ts","pages/unilog/Dashboard1.tsx","pages/unilog/Dashboard2.tsx","pages/unilog/Dashboard3.tsx","pages/unilog/PortalStatistics1.tsx","pages/unilog/PortalStatistics2.tsx","pages/unilog/PortalStatistics3.tsx","pages/unilog/Discover.tsx","components/MonitorChecklist/DeleteModal.tsx","utils/api/uniwatch/index.ts","components/Watch/HostGroupEditModal.tsx","components/CustomTable.tsx","hooks/useCustomTable.tsx","hooks/useCustomPagination.tsx","pages/uniwatch/HostGroup.tsx","hooks/useEuiSelect.tsx","utils/api/uninoc/instance.ts","utils/api/uninoc/index.ts","components/Entry/NOC/ControlArea.tsx","components/Entry/NOC/NocChart.tsx","pages/uninoc/Dashboard.tsx","hooks/useNocTimeRange.tsx","components/AppLoading.tsx","layouts/Header.tsx","components/TextIcon.tsx","layouts/SideNav.tsx","utils/logReport.ts","hooks/useEuiInput.tsx","components/Log/Backup/RecoverModal.tsx","components/FlexControl.tsx","hooks/useDelayValue.tsx","components/SingleChoiceCheckBox.tsx","utils/scripts.ts","pages/unilog/Backup.tsx","hooks/useBackupRequestTable.tsx","components/Log/Backup/IndexEditModal.tsx","pages/unilog/BackupList.tsx","utils/regex.ts","components/MonitorChecklist/EditModal.tsx","pages/uniwatch/index.tsx","components/InnerLoading.tsx","components/Entry/FileMonitor/FileMonitorTable.tsx","components/Entry/FileMonitor/index.tsx","pages/unilog/WatchLog.tsx","components/ResultLink.tsx","pages/unilog/LogReport.tsx","components/Log/Backup/PolicyEditModal.tsx","pages/unilog/BackupPolicy.tsx","layouts/BasicLayout.tsx","components/GlobalUI.tsx","App.tsx","index.tsx"],"names":["module","exports","map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","all","slice","keys","Object","moment","locale","months","split","monthsShort","weekdays","weekdaysShort","weekdaysMin","longDateFormat","LT","LTS","L","LL","LLL","LLLL","l","ll","lll","llll","meridiemHour","hour","meridiem","minute","MainAccessType","SubAccessType","GlobalUIContext","createContext","GlobalUIProvider","props","children","toast","useState","values","setValues","addToast","useCallback","type","title","toastMap","get","toString","newToast","prev","removeToast","filter","useToast","confirmModal","active","setActive","onCancel","open","close","useConfirmModal","Provider","value","useGlobalUI","useContext","RoutePath","UniLogMainAccess","UniLogSubAccess","Map","color","iconType","defaultResInterceptor","res","err","temp","status","message","content","request","response","window","location","protocol","_hostname","hostname","axiosLOG","axios","create","baseURL","getAccessLevel","groupId","url","accessLevel","JSON","parse","data","entity","console","log","updateAccessLevel","uuid","defaults","params","put","getGroups","item","text","groupcnname","getAccount","targetUUID","getKibanaDataTemplate","kibanaName","getConfig","configName","getBackupPolicies","from","policyName","post","getBackupIndexList","indexName","interceptors","use","statusInfo","errorMessage","GlobalStateContext","GlobalStateProvider","hasBackend","_uuid","localStorage","getItem","checkUUID","isLoggedIn","setIsLoggedIn","isLocal","setIsLocal","groupID","setGroupID","accessLevels","setAccessLevels","read","write","length","idGroup","Number","find","mainTitleId","subTitleId","isRead","isWrite","isMainTitleReadable","useAccessLevel","useGlobalState","Login","useForm","defaultValues","username","password","register","handleSubmit","errors","submitting","setSubmitting","onSubmit","loginData","account","mima","kibanaToken","setItem","String","login","catch","useLoginForm","style","height","component","verticalPosition","horizontalPosition","width","size","textAlign","label","isInvalid","Boolean","error","name","inputRef","required","icon","compressed","disabled","fullWidth","fill","isLoading","PageLayout","useEffect","scrollTo","top","className","ContentLayout","maxBodyWidth","maxWidth","EditProfile","reset","loading","setLoading","userLastName","userFirstName","userEmail","profile","editProfile","finally","useEditProfile","grow","PasswordInput","ChangePassword","setError","passwords","hasError","new","current","confirm","checkPasswords","body","sha256","newmima","changePassword","useChangePwdForm","ControlBar","inputValue","onInputChange","onAddButtonClick","User","justifyContent","margin","display","onChange","placeholder","isClearable","marginLeft","onClick","ManagementTable","columns","items","pagination","sort","onTableChange","sorting","Modal","header","footer","onClose","minWidth","ev","preventDefault","EditFormModal","mode","editId","groups","accountInfo","form","onAddSubmit","onEditSubmit","alarmSwitch","defaultChecked","checked","setChecked","target","useEuiSwitch","isOnAlarm","submitValue","isDelete","options","defaultValue","float","useEditFormModal","toggle","useModal","others","setMode","setId","setGroups","setAccountInfo","openAddFormModal","openEditFormModal","closeModal","undefined","UserManagement","pageIndex","pageSize","totalItemCount","pageSizeOptions","setPagination","field","direction","setSort","page","index","setTotal","total","useManagementTable","formModalParas","dataItems","setDataItems","selectedItems","setSelectedItems","updateDataItems","addDataItem","addAccount","editDataItem","deleteDataItem","delete","useMemo","sortable","render","actions","description","enabled","buttonColor","confirmButtonText","cancelButtonText","onConfirm","showDeleteButton","useUserManagement","setValue","useSearchInput","itemsOfPage","stringify","includes","groupCNName","a","b","result","sortFields","start","end","useItemsOfPage","onSelectionChange","姓名","告警","AuthorityManagement","Authority","setGroupId","onSelectChange","parseInt","useGroups","selectLoading","groupAccessLevel","setGroupAccessLevel","useGroupAccessLevel","tableLoading","useAuthManagementForm","setData","key","accessLevelId","useColumns","DropButtonWrapper","styled","div","onItemClick","ownFocus","button","isOpen","closePopover","anchorPosition","flush","listItems","TimeRangePicker","startTime","onChangeStart","endTime","onChangeEnd","onListItemClick","hideListBtn","startDateControl","dateFormat","selected","startDate","endDate","unix","aria-label","showTimeSelect","endDateControl","TimePickerDropButton","useTimeRangePicker","setEndTime","clone","subtract","setStartTime","time","newUnix","now","DashboardLayout","SingleItemTimeBarChart","showLegend","legendPosition","itemName","xAccessor","yAccessors","xScaleType","ScaleType","Time","position","tickFormat","timeFormatter","timeFormat","showGridLines","DonutChart","euiChartTheme","EUI_CHARTS_THEME_LIGHT","legendMaxDepth","valueAccessor","layers","groupByRollup","shape","fillColor","config","partition","emptySizeRatio","clockwiseSectors","colors","sortIndex","DataTable","rows","inputPagination","initializePagination","onChangeItemsPerPage","onChangePage","paginatedRows","rowStart","rowEnd","Math","min","usePagination","sortingColumns","setSortingColumns","onSort","sortedRows","i","column","aValue","bValue","useSorting","visibleColumns","renderCellValue","cellProps","adjustedRowIndex","rowIndex","columnId","useCellRender","toolbarVisibility","columnVisibility","setVisibleColumns","rowCount","axiosKibana","method","headers","auth","rawResponse","sheet","reject","getKibanaData","hits","list","aggregations","buckets","doc_count","fields","_source","jsonString","replace","Date","deviceName","keyword","Dashboard1","KibanaArea","byServiceColumns","schema","initialWidth","defaultSortDirection","showSortAsc","showSortDesc","showMoveLeft","showMoveRight","showHide","byIpColumns","setIsLoading","totalLinks","setTotalLinks","loadOutTotalLinks","useTotalLinks","isLoading1","linksByTime","setLinksByTime","loadOutLinksByTime","useLinksByTime","isLoading2","linksByService","setLinksByService","loadOutLinksByService","useLinksByService","isLoading3","linksByIp","setLinksByIp","loadOutLinksByIp","useLinksByIp","isLoading4","useKibanaData","format","paddingSize","hasShadow","reverse","Dashboard2","loadInTotalLinks","loadInLinksByTime","loadInLinksByService","loadInLinksByIp","bySrcColumns","byDstColumns","totalBlocks","setTotalBlocks","loadTotalBlocks","useTotalBlocks","blocksByTime","setBlocksByTime","loadBlocksByTime","useBlocksByTime","blocksBySrc","setBlocksBySrc","loadBlocksBySrc","useBlocksBySrc","blocksByDst","setBlocksByDst","loadBlocksByDst","useBlocksByDst","PortalStatistics1","byUserColumns","totalLogins","setTotalLogins","loadPortalLoginsTotal","useTotalLogins","loginsByTime","setLoginsByTime","loadPortalLoginsByTime","dataList","useLoginsByTime","loginsByIp","setLoginsByIp","loadPortalLoginsByIp","useLoginsByIp","loginsByUser","setLoginsByUser","loadPortalLoginsByUser","useLoginsByUser","PortalStatistics2","totalLoginBlocks","setTotalLoginBlocks","loadPortalLoginBlocksTotal","useTotalLoginBlocks","loginBlocksByTime","setLoginBlocksByTime","loadPortalLoginBlocksByTime","useLoginBlocksByTime","loginBlocksByIp","setLoginBlocksByIp","loadPortalLoginBlocksByIp","useLoginBlocksByIp","PortalStatistics3","totalLoginSuccesses","setTotalLoginSuccesses","loadPortalLoginSuccessesTotal","useTotalLoginSuccesses","loginSuccessesByTime","setLoginSuccessesByTime","loadPortalLoginSuccessesByTime","useLoginSuccessesByTime","loginSuccessesByIp","setLoginSuccessesByIp","loadPortalLoginSuccessesByIp","useLoginSuccessesByIp","loginSuccessesByUser","setLoginSuccessesByUser","loadPortalLoginSuccessesByUser","useLoginSuccessesByUser","Discover","setDeviceName","setKeyword","onChangeDeviceName","event","inputString","currentTarget","onChangeKeyword","useSearchParams","hitsByTime","setHitsByTime","loadDiscoverHitsByTime","useHitsByTime","tableDataList","setTableDataList","loadDiscoverTableDataList","useTableDataList","DeleteModal","delRequest","onDelete","getGroupData","getWatchIpList","group_id","getGroupList","addHostGroup","groupName","ip","note","join","editHostGroup","HostGroupEditModal","control","watch","state","setState","hostMember","setOptions","useHostMemberOptions","group_name","shouldDirty","action","Footer","isDisabled","selectedOptions","CustomTable","loadingState","hasPrev","hasNext","gotoPrev","gotoNext","tableProps","useCustomTable","setLoadingState","fetcher","sortField","defaultSize","setIndex","setSize","ceil","gotoStart","useCustomPagination","setItems","setSorting","displayItems","_items","desc","range","_","onUpdate","update","criteria","selection","HostGroup","useRef","useHostGroupTable","push","useHistory","onCancelBtnClick","UniWatch","onCreateBtnClick","handleModalClose","useHostGroupActions","useEuiSelect","Array","isArray","getFirstOption","axiosNOC","jsonrpc","setUniNocBaseUrl","getNocApiKey","user","getNocHostItem","host","output","sortfield","webitems","value_type","search","getNocItemTimeline","itemids","isNetWork","time_from","time_till","history","sortorder","ControlArea","timeRange","hostGroup","hostName","refreshRate","node","refreshRateArray","NocChart","unit","fixed","domainX","domainY","yScaleType","Linear","fit","labelFormat","max","domain","padding","toFixed","getMinValue","getMaxValue","reduce","getAvgValue","getCurrentValue","local","NOC","hosts","setRange","updateTimeRange","useNocTimeRange","hostGroups","real_hosts","res_1","useNocHostGroups","group","groupid","hostNames","setHosts","groupids","useNocHosts","floor","valueOf","upload","useNocData","download","memory","cpu","storage","useNocDataSet","updater","clearInterval","setInterval","useNocUpdater","isNetwork","itemid","res_2","clock","Wrapper","p","backgroundColor","AppLoading","Header","onMenuButtonClick","pathname","userMenuActive","setUserMenuActive","handleUserMenuClose","removeItem","logout","useUserMenu","sizes","border","href","logo","Profile","ChangePW","UserMenu","SideNavTextIcon","marginRight","TextIcon","SideNav","navDrawerRef","subItems","Dashboard_1","Dashboard_2","Dashboard_3","PortalStatistics_1","PortalStatistics_2","PortalStatistics_3","LogReport","LogBackup","LogAlert","WatchLog","UniNOC","mainItems","flyoutMenu","UniLOG","useDrawer","ref","setLogReportURL","getLogReport","time_range_start","dateMinus8Hours","time_range_end","executions","date","millisecond","useEuiInput","initValue","RecoverModal","formEl","pwInput","nameInput","input","zipPwd","useFormEl","zipName","backupRestore","el","FlexControl","controls","ctrl","useDelayValue","delay","newValue","setNewValue","timeout","clearTimeout","setTimeout","SingleChoiceCheckBox","checkedId","setCheckedId","dateTimeToString","dateTime","Backup","trigger","setTrigger","modalActive","setModalActive","onRefreshClick","onPolicyBtnClick","LogBackupPolicy","onBackupBtnClick","LogBackupList","onRecoverBtnClick","useBackupActions","fileName","delayValue","useInput","refreshBtnProps","useFlexControl","zip_name","getBackupMain","useBackupTable","itemId","BackupList","BackupPolicy","useBackupRequestTable","getLoadingStateByValue","IndexEditModal","timeType","validate","backupFreqOptions","editType","selectedItem","setSelectedItem","useIndexActions","backupIndexDelete","index_name","policy_name","ipRegex","EditModal","getValues","testResult","setTestResult","handleClose","onFormSubmit","hash","watchPath","addWatchData","handleTest","match","testWatchIP","useSubmitForm","pattern","gutterSize","option","WatchList","pid","delInfo","setDelInfo","unshift","useFilters","getWatchData","useWatchTable","onListBtnClick","useWatchActions","info","InnerLoading","StyledPanel","EuiPanel","FileMonitorTable","ipList","hostIp","encryption","count","setCount","tableRef","observer","observedEl","loadWatchLog","getElementsByClassName","unobserve","last","observe","IntersectionObserver","entries","isIntersecting","FileMonitor","useTimeRange","select","useHostGroup","setIpList","setSelectedOptions","useHostIp","useEncryption","group_ip","ResultLink","rel","lastIndexOf","toUpperCase","timeRangePicker","toISOString","useSWR","isValidating","useLogReportData","scheduled_time","toLocaleString","PolicyEditModal","policyDesc","primaryTerm","primary_term","seqNo","seq_no","backupPolicyEdit","usePolicyActions","backupPolicyDelete","BasicLayout","kibanaUrl","logReportUrl","uniNocUrl","init","useDataInit","routes","path","Statistics1","Statistics2","Statistics3","Dashboard3","useRoutes","toggleOpen","exact","to","GlobalUI","toasts","dismissToast","toastLifeTimeMs","App","initialized","setInitialized","interceptor","eject","useAxiosLogInit","Routes","ReactDOM","document","getElementById"],"mappings":"uGAAAA,EAAOC,QAAU,01O,gFCAjB,IAAIC,EAAM,CACT,qBAAsB,CACrB,IACA,GAED,iBAAkB,CACjB,IACA,GAED,aAAc,CACb,IACA,GAED,qBAAsB,CACrB,IACA,GAED,kBAAmB,CAClB,IACA,GAED,iBAAkB,CACjB,IACA,GAED,oBAAqB,CACpB,IACA,GAED,6BAA8B,CAC7B,IACA,GAED,eAAgB,CACf,IACA,GAED,sBAAuB,CACtB,IACA,GAED,qBAAsB,CACrB,IACA,IAED,kBAAmB,CAClB,IACA,IAED,gBAAiB,CAChB,IACA,IAED,mBAAoB,CACnB,IACA,IAED,qCAAsC,CACrC,IACA,IAED,qBAAsB,CACrB,IACA,IAED,oBAAqB,CACpB,IACA,IAED,oBAAqB,CACpB,IACA,IAED,eAAgB,CACf,IACA,IAED,oBAAqB,CACpB,IACA,IAED,eAAgB,CACf,IACA,IAED,iBAAkB,CACjB,IACA,IAED,gBAAiB,CAChB,IACA,IAED,qBAAsB,CACrB,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,yBAA0B,CACzB,IACA,IAED,wBAAyB,CACxB,IACA,IAED,gBAAiB,CAChB,IACA,IAED,gBAAiB,CAChB,IACA,IAED,sBAAuB,CACtB,IACA,IAED,sBAAuB,CACtB,IACA,IAED,mBAAoB,CACnB,IACA,IAED,cAAe,CACd,IACA,IAED,sBAAuB,CACtB,IACA,IAED,oBAAqB,CACpB,IACA,IAED,sBAAuB,CACtB,IACA,IAED,oBAAqB,CACpB,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,qBAAsB,CACrB,IACA,IAED,yBAA0B,CACzB,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,oBAAqB,CACpB,IACA,IAED,8BAA+B,CAC9B,IACA,IAED,kBAAmB,CAClB,IACA,IAED,eAAgB,CACf,IACA,IAED,oBAAqB,CACpB,IACA,IAED,6BAA8B,CAC7B,IACA,IAED,kBAAmB,CAClB,IACA,IAED,uBAAwB,CACvB,IACA,IAED,qBAAsB,CACrB,IACA,IAED,mBAAoB,CACnB,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,YAAa,CACZ,IACA,IAED,kBAAmB,CAClB,IACA,IAED,kBAAmB,CAClB,IACA,IAED,mBAAoB,CACnB,IACA,IAED,gBAAiB,CAChB,IACA,IAED,gBAAiB,CAChB,IACA,IAED,cAAe,CACd,IACA,IAED,YAAa,CACZ,IACA,IAED,iBAAkB,CACjB,IACA,IAED,YAAa,CACZ,IACA,IAED,wBAAyB,CACxB,IACA,IAED,sBAAuB,CACtB,IACA,IAED,cAAe,CACd,IACA,IAED,aAAc,CACb,IACA,IAED,aAAc,CACb,IACA,IAED,WAAY,CACX,IACA,IAED,gBAAiB,CAChB,IACA,IAED,gBAAiB,CAChB,IACA,IAED,aAAc,CACb,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,aAAc,CACb,IACA,IAED,aAAc,CACb,IACA,IAED,oBAAqB,CACpB,IACA,IAED,mBAAoB,CACnB,IACA,IAED,kBAAmB,CAClB,IACA,IAED,eAAgB,CACf,IACA,IAED,eAAgB,CACf,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,yBAA0B,CACzB,IACA,IAED,YAAa,CACZ,IACA,IAED,sBAAuB,CACtB,IACA,IAED,aAAc,CACb,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,kBAAmB,CAClB,IACA,IAED,gBAAiB,CAChB,IACA,IAED,WAAY,CACX,IACA,IAED,gBAAiB,CAChB,IACA,IAED,gBAAiB,CAChB,IACA,IAED,oBAAqB,CACpB,IACA,IAED,iBAAkB,CACjB,IACA,IAED,WAAY,CACX,IACA,IAED,gBAAiB,CAChB,IACA,IAED,kCAAmC,CAClC,IACA,IAED,gCAAiC,CAChC,IACA,IAED,6BAA8B,CAC7B,IACA,IAED,6BAA8B,CAC7B,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,6BAA8B,CAC7B,IACA,IAED,4BAA6B,CAC5B,IACA,KAED,0BAA2B,CAC1B,IACA,KAED,gCAAiC,CAChC,IACA,KAED,iCAAkC,CACjC,IACA,KAED,6BAA8B,CAC7B,IACA,KAED,8BAA+B,CAC9B,IACA,KAED,2BAA4B,CAC3B,IACA,KAED,yBAA0B,CACzB,IACA,KAED,0BAA2B,CAC1B,IACA,KAED,mBAAoB,CACnB,IACA,KAED,yBAA0B,CACzB,IACA,KAED,sBAAuB,CACtB,IACA,KAED,sBAAuB,CACtB,IACA,KAED,qBAAsB,CACrB,IACA,KAED,mBAAoB,CACnB,IACA,KAED,2BAA4B,CAC3B,IACA,KAED,mBAAoB,CACnB,IACA,KAED,qBAAsB,CACrB,IACA,KAED,oBAAqB,CACpB,IACA,KAED,wBAAyB,CACxB,IACA,KAED,mBAAoB,CACnB,IACA,KAED,6BAA8B,CAC7B,IACA,KAED,aAAc,CACb,IACA,KAED,aAAc,CACb,KAED,YAAa,CACZ,IACA,KAED,cAAe,CACd,IACA,KAED,kBAAmB,CAClB,IACA,KAED,cAAe,CACd,IACA,KAED,WAAY,CACX,IACA,KAED,kBAAmB,CAClB,IACA,KAED,mBAAoB,CACnB,IACA,KAED,kBAAmB,CAClB,IACA,KAED,oBAAqB,CACpB,IACA,KAED,gBAAiB,CAChB,IACA,KAED,cAAe,CACd,IACA,KAED,YAAa,CACZ,IACA,KAED,YAAa,CACZ,IACA,KAED,oBAAqB,CACpB,IACA,KAED,qBAAsB,CACrB,IACA,KAED,0BAA2B,CAC1B,IACA,KAED,mBAAoB,CACnB,IACA,KAED,mBAAoB,CACnB,IACA,KAED,YAAa,CACZ,IACA,KAED,eAAgB,CACf,IACA,KAED,aAAc,CACb,IACA,KAED,YAAa,CACZ,KACA,KAED,uBAAwB,CACvB,KACA,KAED,YAAa,CACZ,KACA,KAED,aAAc,CACb,KACA,KAED,eAAgB,CACf,KACA,KAED,YAAa,CACZ,KACA,KAED,YAAa,CACZ,KACA,KAED,iBAAkB,CACjB,KACA,KAED,aAAc,CACb,KACA,KAED,cAAe,CACd,KACA,KAED,mBAAoB,CACnB,KACA,KAED,kBAAmB,CAClB,KACA,KAED,mBAAoB,CACnB,KACA,KAED,qBAAsB,CACrB,KACA,KAED,kBAAmB,CAClB,KACA,KAED,sBAAuB,CACtB,KACA,KAED,mBAAoB,CACnB,KACA,KAED,eAAgB,CACf,KACA,KAED,cAAe,CACd,KACA,KAED,UAAW,CACV,KACA,KAED,yBAA0B,CACzB,KACA,KAED,iBAAkB,CACjB,KACA,KAED,oBAAqB,CACpB,KACA,KAED,mBAAoB,CACnB,KACA,KAED,oBAAqB,CACpB,KACA,KAED,iBAAkB,CACjB,KACA,KAED,YAAa,CACZ,KACA,KAED,YAAa,CACZ,KACA,KAED,gBAAiB,CAChB,KACA,KAED,YAAa,CACZ,KACA,KAED,gBAAiB,CAChB,KACA,KAED,sBAAuB,CACtB,KACA,KAED,mBAAoB,CACnB,KACA,KAED,gBAAiB,CAChB,KACA,KAED,uBAAwB,CACvB,KACA,KAED,gBAAiB,CAChB,KACA,KAED,qBAAsB,CACrB,KACA,KAED,kBAAmB,CAClB,KACA,KAED,uBAAwB,CACvB,KACA,KAED,kBAAmB,CAClB,KACA,KAED,+BAAgC,CAC/B,KACA,KAED,iBAAkB,CACjB,KACA,KAED,kBAAmB,CAClB,KACA,KAED,sBAAuB,CACtB,KACA,KAED,iBAAkB,CACjB,KACA,KAED,wBAAyB,CACxB,KACA,KAED,sBAAuB,CACtB,KACA,KAED,mBAAoB,CACnB,KACA,KAED,uBAAwB,CACvB,KACA,KAED,oBAAqB,CACpB,KACA,KAED,0BAA2B,CAC1B,KACA,KAED,0BAA2B,CAC1B,KACA,KAED,8BAA+B,CAC9B,KACA,KAED,iBAAkB,CACjB,KACA,KAED,gBAAiB,CAChB,KACA,KAED,qBAAsB,CACrB,KACA,KAED,mBAAoB,CACnB,KACA,KAED,kBAAmB,CAClB,KACA,KAED,mBAAoB,CACnB,KACA,KAED,qBAAsB,CACrB,KACA,KAED,oBAAqB,CACpB,KACA,KAED,gBAAiB,CAChB,KACA,KAED,qBAAsB,CACrB,KACA,KAED,kBAAmB,CAClB,KACA,KAED,mBAAoB,CACnB,KACA,KAED,uBAAwB,CACvB,KACA,KAED,oBAAqB,CACpB,KACA,KAED,qBAAsB,CACrB,KACA,KAED,iBAAkB,CACjB,KACA,KAED,sBAAuB,CACtB,KACA,KAED,oBAAqB,CACpB,KACA,KAED,oBAAqB,CACpB,KACA,KAED,kBAAmB,CAClB,KACA,KAED,kBAAmB,CAClB,KACA,KAED,0BAA2B,CAC1B,KACA,KAED,oBAAqB,CACpB,KACA,KAED,gBAAiB,CAChB,KACA,KAED,qBAAsB,CACrB,KACA,KAED,uBAAwB,CACvB,KACA,KAED,qBAAsB,CACrB,KACA,KAED,kBAAmB,CAClB,KACA,KAED,qBAAsB,CACrB,KACA,KAED,wBAAyB,CACxB,KACA,KAED,mBAAoB,CACnB,KACA,KAED,kBAAmB,CAClB,KACA,KAED,mBAAoB,CACnB,KACA,KAED,oBAAqB,CACpB,KACA,KAED,oBAAqB,CACpB,KACA,KAED,6BAA8B,CAC7B,KACA,KAED,uBAAwB,CACvB,KACA,KAED,mBAAoB,CACnB,KACA,KAED,sBAAuB,CACtB,KACA,KAED,uBAAwB,CACvB,KACA,KAED,sBAAuB,CACtB,KACA,KAED,cAAe,CACd,KACA,KAED,wBAAyB,CACxB,KACA,KAED,uBAAwB,CACvB,KACA,KAED,kBAAmB,CAClB,KACA,KAED,cAAe,CACd,KACA,KAED,YAAa,CACZ,KACA,KAED,gBAAiB,CAChB,KACA,KAED,iBAAkB,CACjB,KACA,KAED,aAAc,CACb,KACA,KAED,gBAAiB,CAChB,KACA,KAED,uBAAwB,CACvB,KACA,KAED,8BAA+B,CAC9B,KACA,KAED,6BAA8B,CAC7B,KACA,KAED,8BAA+B,CAC9B,KACA,KAED,kCAAmC,CAClC,KACA,KAED,gCAAiC,CAChC,KACA,KAED,mCAAoC,CACnC,KACA,KAED,0BAA2B,CAC1B,KACA,KAED,gCAAiC,CAChC,KACA,KAED,yBAA0B,CACzB,KACA,KAED,YAAa,CACZ,KACA,KAED,cAAe,CACd,KACA,KAED,YAAa,CACZ,KACA,KAED,cAAe,CACd,KACA,KAED,eAAgB,CACf,KACA,KAED,cAAe,CACd,KACA,KAED,eAAgB,CACf,KACA,KAED,kBAAmB,CAClB,KACA,KAED,mBAAoB,CACnB,KACA,KAED,aAAc,CACb,KACA,KAED,kBAAmB,CAClB,KACA,KAED,eAAgB,CACf,KACA,KAED,aAAc,CACb,KACA,KAED,cAAe,CACd,KACA,KAED,WAAY,CACX,KACA,KAED,kBAAmB,CAClB,KACA,KAED,YAAa,CACZ,KACA,KAED,sBAAuB,CACtB,KACA,KAED,6BAA8B,CAC7B,KACA,KAED,cAAe,CACd,KACA,KAED,YAAa,CACZ,KACA,KAED,0BAA2B,CAC1B,KACA,KAED,aAAc,CACb,KACA,KAED,eAAgB,CACf,KACA,KAED,gBAAiB,CAChB,KACA,KAED,kBAAmB,CAClB,KACA,KAED,YAAa,CACZ,KACA,KAED,aAAc,CACb,KACA,KAED,cAAe,CACd,KACA,KAED,sBAAuB,CACtB,KACA,KAED,8BAA+B,CAC9B,KACA,KAED,8BAA+B,CAC9B,KACA,KAED,aAAc,CACb,KACA,KAED,aAAc,CACb,KACA,KAED,iBAAkB,CACjB,KACA,KAED,gBAAiB,CAChB,KACA,KAED,iBAAkB,CACjB,KACA,KAED,iBAAkB,CACjB,KACA,KAED,eAAgB,CACf,KACA,KAED,gBAAiB,CAChB,KACA,KAED,qBAAsB,CACrB,KACA,KAED,sBAAuB,CACtB,KACA,KAED,kBAAmB,CAClB,KACA,KAED,wBAAyB,CACxB,KACA,KAED,mBAAoB,CACnB,KACA,KAED,yBAA0B,CACzB,KACA,KAED,wBAAyB,CACxB,KACA,KAED,yBAA0B,CACzB,KACA,KAED,aAAc,CACb,KACA,KAED,YAAa,CACZ,KACA,KAED,mBAAoB,CACnB,KACA,KAED,kBAAmB,CAClB,KACA,KAED,eAAgB,CACf,KACA,KAED,cAAe,CACd,KACA,KAED,iBAAkB,CACjB,KACA,KAED,oBAAqB,CACpB,KACA,KAED,eAAgB,CACf,KACA,KAED,uBAAwB,CACvB,KACA,KAED,6BAA8B,CAC7B,KACA,KAED,8BAA+B,CAC9B,KACA,KAED,4BAA6B,CAC5B,KACA,KAED,WAAY,CACX,KACA,KAED,YAAa,CACZ,KACA,KAED,mBAAoB,CACnB,KACA,KAED,gBAAiB,CAChB,KACA,KAED,yBAA0B,CACzB,KACA,KAED,8BAA+B,CAC9B,KACA,KAED,yBAA0B,CACzB,KACA,KAED,0BAA2B,CAC1B,KACA,KAED,2BAA4B,CAC3B,KACA,KAED,yBAA0B,CACzB,KACA,KAED,uCAAwC,CACvC,KACA,KAED,4BAA6B,CAC5B,KACA,KAED,wBAAyB,CACxB,KACA,KAED,+BAAgC,CAC/B,KACA,KAED,2BAA4B,CAC3B,KACA,KAED,wBAAyB,CACxB,KACA,KAED,8BAA+B,CAC9B,KACA,KAED,yBAA0B,CACzB,KACA,KAED,6BAA8B,CAC7B,KACA,KAED,yBAA0B,CACzB,KACA,KAED,wBAAyB,CACxB,KACA,KAED,6BAA8B,CAC7B,KACA,KAED,4BAA6B,CAC5B,KACA,KAED,uBAAwB,CACvB,KACA,KAED,6BAA8B,CAC7B,KACA,KAED,sBAAuB,CACtB,KACA,KAED,6BAA8B,CAC7B,KACA,KAED,wBAAyB,CACxB,KACA,KAED,uBAAwB,CACvB,KACA,KAED,2BAA4B,CAC3B,KACA,KAED,0BAA2B,CAC1B,KACA,KAED,0BAA2B,CAC1B,KACA,KAED,6BAA8B,CAC7B,KACA,KAED,0BAA2B,CAC1B,KACA,KAED,wBAAyB,CACxB,KACA,KAED,0BAA2B,CAC1B,KACA,KAED,0BAA2B,CAC1B,KACA,KAED,4BAA6B,CAC5B,KACA,KAED,2BAA4B,CAC3B,KACA,KAED,6BAA8B,CAC7B,KACA,KAED,8BAA+B,CAC9B,KACA,KAED,4BAA6B,CAC5B,KACA,KAED,yBAA0B,CACzB,KACA,KAED,+BAAgC,CAC/B,KACA,KAED,gCAAiC,CAChC,KACA,KAED,wBAAyB,CACxB,KACA,KAED,8BAA+B,CAC9B,KACA,KAED,yBAA0B,CACzB,KACA,KAED,0BAA2B,CAC1B,KACA,KAED,0BAA2B,CAC1B,KACA,KAED,0BAA2B,CAC1B,KACA,KAED,wBAAyB,CACxB,KACA,KAED,8BAA+B,CAC9B,KACA,KAED,4BAA6B,CAC5B,K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","file":"static/js/main.3299b04a.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","var map = {\n\t\"./accessibility.js\": [\n\t\t857,\n\t\t0\n\t],\n\t\"./aggregate.js\": [\n\t\t858,\n\t\t1\n\t],\n\t\"./alert.js\": [\n\t\t859,\n\t\t2\n\t],\n\t\"./analyze_event.js\": [\n\t\t860,\n\t\t3\n\t],\n\t\"./annotation.js\": [\n\t\t861,\n\t\t4\n\t],\n\t\"./apm_trace.js\": [\n\t\t862,\n\t\t5\n\t],\n\t\"./app_add_data.js\": [\n\t\t863,\n\t\t6\n\t],\n\t\"./app_advanced_settings.js\": [\n\t\t864,\n\t\t7\n\t],\n\t\"./app_apm.js\": [\n\t\t865,\n\t\t8\n\t],\n\t\"./app_app_search.js\": [\n\t\t866,\n\t\t9\n\t],\n\t\"./app_auditbeat.js\": [\n\t\t867,\n\t\t10\n\t],\n\t\"./app_canvas.js\": [\n\t\t868,\n\t\t11\n\t],\n\t\"./app_code.js\": [\n\t\t869,\n\t\t12\n\t],\n\t\"./app_console.js\": [\n\t\t870,\n\t\t13\n\t],\n\t\"./app_cross_cluster_replication.js\": [\n\t\t871,\n\t\t14\n\t],\n\t\"./app_dashboard.js\": [\n\t\t872,\n\t\t15\n\t],\n\t\"./app_devtools.js\": [\n\t\t873,\n\t\t16\n\t],\n\t\"./app_discover.js\": [\n\t\t874,\n\t\t17\n\t],\n\t\"./app_ems.js\": [\n\t\t875,\n\t\t18\n\t],\n\t\"./app_filebeat.js\": [\n\t\t876,\n\t\t19\n\t],\n\t\"./app_gis.js\": [\n\t\t877,\n\t\t20\n\t],\n\t\"./app_graph.js\": [\n\t\t878,\n\t\t21\n\t],\n\t\"./app_grok.js\": [\n\t\t879,\n\t\t22\n\t],\n\t\"./app_heartbeat.js\": [\n\t\t880,\n\t\t23\n\t],\n\t\"./app_index_management.js\": [\n\t\t881,\n\t\t24\n\t],\n\t\"./app_index_pattern.js\": [\n\t\t882,\n\t\t25\n\t],\n\t\"./app_index_rollup.js\": [\n\t\t883,\n\t\t26\n\t],\n\t\"./app_lens.js\": [\n\t\t884,\n\t\t27\n\t],\n\t\"./app_logs.js\": [\n\t\t885,\n\t\t28\n\t],\n\t\"./app_management.js\": [\n\t\t886,\n\t\t29\n\t],\n\t\"./app_metricbeat.js\": [\n\t\t887,\n\t\t30\n\t],\n\t\"./app_metrics.js\": [\n\t\t888,\n\t\t31\n\t],\n\t\"./app_ml.js\": [\n\t\t889,\n\t\t32\n\t],\n\t\"./app_monitoring.js\": [\n\t\t890,\n\t\t33\n\t],\n\t\"./app_notebook.js\": [\n\t\t891,\n\t\t34\n\t],\n\t\"./app_packetbeat.js\": [\n\t\t892,\n\t\t35\n\t],\n\t\"./app_pipeline.js\": [\n\t\t893,\n\t\t36\n\t],\n\t\"./app_recently_viewed.js\": [\n\t\t894,\n\t\t37\n\t],\n\t\"./app_reporting.js\": [\n\t\t895,\n\t\t38\n\t],\n\t\"./app_saved_objects.js\": [\n\t\t896,\n\t\t39\n\t],\n\t\"./app_search_profiler.js\": [\n\t\t897,\n\t\t40\n\t],\n\t\"./app_security.js\": [\n\t\t898,\n\t\t41\n\t],\n\t\"./app_security_analytics.js\": [\n\t\t899,\n\t\t42\n\t],\n\t\"./app_spaces.js\": [\n\t\t900,\n\t\t43\n\t],\n\t\"./app_sql.js\": [\n\t\t901,\n\t\t44\n\t],\n\t\"./app_timelion.js\": [\n\t\t902,\n\t\t45\n\t],\n\t\"./app_upgrade_assistant.js\": [\n\t\t903,\n\t\t46\n\t],\n\t\"./app_uptime.js\": [\n\t\t904,\n\t\t47\n\t],\n\t\"./app_users_roles.js\": [\n\t\t905,\n\t\t48\n\t],\n\t\"./app_visualize.js\": [\n\t\t906,\n\t\t49\n\t],\n\t\"./app_watches.js\": [\n\t\t907,\n\t\t50\n\t],\n\t\"./app_workplace_search.js\": [\n\t\t908,\n\t\t51\n\t],\n\t\"./apps.js\": [\n\t\t909,\n\t\t52\n\t],\n\t\"./arrow_down.js\": [\n\t\t910,\n\t\t53\n\t],\n\t\"./arrow_left.js\": [\n\t\t911,\n\t\t54\n\t],\n\t\"./arrow_right.js\": [\n\t\t912,\n\t\t55\n\t],\n\t\"./arrow_up.js\": [\n\t\t913,\n\t\t56\n\t],\n\t\"./asterisk.js\": [\n\t\t914,\n\t\t57\n\t],\n\t\"./beaker.js\": [\n\t\t915,\n\t\t58\n\t],\n\t\"./bell.js\": [\n\t\t916,\n\t\t59\n\t],\n\t\"./bellSlash.js\": [\n\t\t917,\n\t\t60\n\t],\n\t\"./bolt.js\": [\n\t\t918,\n\t\t61\n\t],\n\t\"./boxes_horizontal.js\": [\n\t\t919,\n\t\t62\n\t],\n\t\"./boxes_vertical.js\": [\n\t\t920,\n\t\t63\n\t],\n\t\"./branch.js\": [\n\t\t921,\n\t\t64\n\t],\n\t\"./broom.js\": [\n\t\t922,\n\t\t65\n\t],\n\t\"./brush.js\": [\n\t\t923,\n\t\t66\n\t],\n\t\"./bug.js\": [\n\t\t924,\n\t\t67\n\t],\n\t\"./bullseye.js\": [\n\t\t925,\n\t\t68\n\t],\n\t\"./calendar.js\": [\n\t\t926,\n\t\t69\n\t],\n\t\"./check.js\": [\n\t\t927,\n\t\t70\n\t],\n\t\"./checkInCircleFilled.js\": [\n\t\t928,\n\t\t71\n\t],\n\t\"./cheer.js\": [\n\t\t929,\n\t\t72\n\t],\n\t\"./clock.js\": [\n\t\t930,\n\t\t73\n\t],\n\t\"./cloudDrizzle.js\": [\n\t\t931,\n\t\t74\n\t],\n\t\"./cloudStormy.js\": [\n\t\t932,\n\t\t75\n\t],\n\t\"./cloudSunny.js\": [\n\t\t933,\n\t\t76\n\t],\n\t\"./compute.js\": [\n\t\t934,\n\t\t77\n\t],\n\t\"./console.js\": [\n\t\t935,\n\t\t78\n\t],\n\t\"./controls_horizontal.js\": [\n\t\t936,\n\t\t79\n\t],\n\t\"./controls_vertical.js\": [\n\t\t937,\n\t\t80\n\t],\n\t\"./copy.js\": [\n\t\t938,\n\t\t81\n\t],\n\t\"./copy_clipboard.js\": [\n\t\t939,\n\t\t82\n\t],\n\t\"./cross.js\": [\n\t\t940,\n\t\t83\n\t],\n\t\"./crossInACircleFilled.js\": [\n\t\t941,\n\t\t84\n\t],\n\t\"./crosshairs.js\": [\n\t\t942,\n\t\t85\n\t],\n\t\"./currency.js\": [\n\t\t943,\n\t\t86\n\t],\n\t\"./cut.js\": [\n\t\t944,\n\t\t87\n\t],\n\t\"./database.js\": [\n\t\t945,\n\t\t88\n\t],\n\t\"./document.js\": [\n\t\t946,\n\t\t89\n\t],\n\t\"./documentEdit.js\": [\n\t\t947,\n\t\t90\n\t],\n\t\"./documents.js\": [\n\t\t948,\n\t\t91\n\t],\n\t\"./dot.js\": [\n\t\t949,\n\t\t92\n\t],\n\t\"./download.js\": [\n\t\t950,\n\t\t93\n\t],\n\t\"./editorDistributeHorizontal.js\": [\n\t\t951,\n\t\t94\n\t],\n\t\"./editorDistributeVertical.js\": [\n\t\t952,\n\t\t95\n\t],\n\t\"./editorItemAlignBottom.js\": [\n\t\t953,\n\t\t96\n\t],\n\t\"./editorItemAlignCenter.js\": [\n\t\t954,\n\t\t97\n\t],\n\t\"./editorItemAlignLeft.js\": [\n\t\t955,\n\t\t98\n\t],\n\t\"./editorItemAlignMiddle.js\": [\n\t\t956,\n\t\t99\n\t],\n\t\"./editorItemAlignRight.js\": [\n\t\t957,\n\t\t100\n\t],\n\t\"./editorItemAlignTop.js\": [\n\t\t958,\n\t\t101\n\t],\n\t\"./editorPositionBottomLeft.js\": [\n\t\t959,\n\t\t102\n\t],\n\t\"./editorPositionBottomRight.js\": [\n\t\t960,\n\t\t103\n\t],\n\t\"./editorPositionTopLeft.js\": [\n\t\t961,\n\t\t104\n\t],\n\t\"./editorPositionTopRight.js\": [\n\t\t962,\n\t\t105\n\t],\n\t\"./editor_align_center.js\": [\n\t\t963,\n\t\t106\n\t],\n\t\"./editor_align_left.js\": [\n\t\t964,\n\t\t107\n\t],\n\t\"./editor_align_right.js\": [\n\t\t965,\n\t\t108\n\t],\n\t\"./editor_bold.js\": [\n\t\t966,\n\t\t109\n\t],\n\t\"./editor_code_block.js\": [\n\t\t967,\n\t\t110\n\t],\n\t\"./editor_comment.js\": [\n\t\t968,\n\t\t111\n\t],\n\t\"./editor_heading.js\": [\n\t\t969,\n\t\t112\n\t],\n\t\"./editor_italic.js\": [\n\t\t970,\n\t\t113\n\t],\n\t\"./editor_link.js\": [\n\t\t971,\n\t\t114\n\t],\n\t\"./editor_ordered_list.js\": [\n\t\t972,\n\t\t115\n\t],\n\t\"./editor_redo.js\": [\n\t\t973,\n\t\t116\n\t],\n\t\"./editor_strike.js\": [\n\t\t974,\n\t\t117\n\t],\n\t\"./editor_table.js\": [\n\t\t975,\n\t\t118\n\t],\n\t\"./editor_underline.js\": [\n\t\t976,\n\t\t119\n\t],\n\t\"./editor_undo.js\": [\n\t\t977,\n\t\t120\n\t],\n\t\"./editor_unordered_list.js\": [\n\t\t978,\n\t\t121\n\t],\n\t\"./email.js\": [\n\t\t979,\n\t\t122\n\t],\n\t\"./empty.js\": [\n\t\t159\n\t],\n\t\"./exit.js\": [\n\t\t980,\n\t\t123\n\t],\n\t\"./expand.js\": [\n\t\t981,\n\t\t124\n\t],\n\t\"./expandMini.js\": [\n\t\t982,\n\t\t125\n\t],\n\t\"./export.js\": [\n\t\t983,\n\t\t126\n\t],\n\t\"./eye.js\": [\n\t\t984,\n\t\t127\n\t],\n\t\"./eye_closed.js\": [\n\t\t985,\n\t\t128\n\t],\n\t\"./faceNeutral.js\": [\n\t\t986,\n\t\t129\n\t],\n\t\"./face_happy.js\": [\n\t\t987,\n\t\t130\n\t],\n\t\"./face_neutral.js\": [\n\t\t988,\n\t\t131\n\t],\n\t\"./face_sad.js\": [\n\t\t989,\n\t\t132\n\t],\n\t\"./filter.js\": [\n\t\t990,\n\t\t133\n\t],\n\t\"./flag.js\": [\n\t\t991,\n\t\t134\n\t],\n\t\"./fold.js\": [\n\t\t992,\n\t\t135\n\t],\n\t\"./folder_check.js\": [\n\t\t993,\n\t\t136\n\t],\n\t\"./folder_closed.js\": [\n\t\t994,\n\t\t137\n\t],\n\t\"./folder_exclamation.js\": [\n\t\t995,\n\t\t138\n\t],\n\t\"./folder_open.js\": [\n\t\t996,\n\t\t139\n\t],\n\t\"./full_screen.js\": [\n\t\t997,\n\t\t140\n\t],\n\t\"./gear.js\": [\n\t\t998,\n\t\t141\n\t],\n\t\"./glasses.js\": [\n\t\t999,\n\t\t142\n\t],\n\t\"./globe.js\": [\n\t\t1000,\n\t\t143\n\t],\n\t\"./grab.js\": [\n\t\t1001,\n\t\t144\n\t],\n\t\"./grab_horizontal.js\": [\n\t\t1002,\n\t\t145\n\t],\n\t\"./grid.js\": [\n\t\t1003,\n\t\t146\n\t],\n\t\"./heart.js\": [\n\t\t1004,\n\t\t147\n\t],\n\t\"./heatmap.js\": [\n\t\t1005,\n\t\t148\n\t],\n\t\"./help.js\": [\n\t\t1006,\n\t\t149\n\t],\n\t\"./home.js\": [\n\t\t1007,\n\t\t150\n\t],\n\t\"./iInCircle.js\": [\n\t\t1008,\n\t\t151\n\t],\n\t\"./image.js\": [\n\t\t1009,\n\t\t152\n\t],\n\t\"./import.js\": [\n\t\t1010,\n\t\t153\n\t],\n\t\"./index_close.js\": [\n\t\t1011,\n\t\t154\n\t],\n\t\"./index_edit.js\": [\n\t\t1012,\n\t\t155\n\t],\n\t\"./index_flush.js\": [\n\t\t1013,\n\t\t156\n\t],\n\t\"./index_mapping.js\": [\n\t\t1014,\n\t\t157\n\t],\n\t\"./index_open.js\": [\n\t\t1015,\n\t\t158\n\t],\n\t\"./index_settings.js\": [\n\t\t1016,\n\t\t159\n\t],\n\t\"./inputOutput.js\": [\n\t\t1017,\n\t\t160\n\t],\n\t\"./inspect.js\": [\n\t\t1018,\n\t\t161\n\t],\n\t\"./invert.js\": [\n\t\t1019,\n\t\t162\n\t],\n\t\"./ip.js\": [\n\t\t1020,\n\t\t163\n\t],\n\t\"./keyboard_shortcut.js\": [\n\t\t1021,\n\t\t164\n\t],\n\t\"./kql_field.js\": [\n\t\t1022,\n\t\t165\n\t],\n\t\"./kql_function.js\": [\n\t\t1023,\n\t\t166\n\t],\n\t\"./kql_operand.js\": [\n\t\t1024,\n\t\t167\n\t],\n\t\"./kql_selector.js\": [\n\t\t1025,\n\t\t168\n\t],\n\t\"./kql_value.js\": [\n\t\t1026,\n\t\t169\n\t],\n\t\"./link.js\": [\n\t\t1027,\n\t\t170\n\t],\n\t\"./list.js\": [\n\t\t1028,\n\t\t171\n\t],\n\t\"./list_add.js\": [\n\t\t1029,\n\t\t172\n\t],\n\t\"./lock.js\": [\n\t\t1030,\n\t\t173\n\t],\n\t\"./lockOpen.js\": [\n\t\t1031,\n\t\t174\n\t],\n\t\"./logo_aerospike.js\": [\n\t\t1032,\n\t\t175\n\t],\n\t\"./logo_apache.js\": [\n\t\t1033,\n\t\t176\n\t],\n\t\"./logo_apm.js\": [\n\t\t1034,\n\t\t177\n\t],\n\t\"./logo_app_search.js\": [\n\t\t1035,\n\t\t178\n\t],\n\t\"./logo_aws.js\": [\n\t\t1036,\n\t\t179\n\t],\n\t\"./logo_aws_mono.js\": [\n\t\t1037,\n\t\t180\n\t],\n\t\"./logo_azure.js\": [\n\t\t1038,\n\t\t181\n\t],\n\t\"./logo_azure_mono.js\": [\n\t\t1039,\n\t\t182\n\t],\n\t\"./logo_beats.js\": [\n\t\t1040,\n\t\t183\n\t],\n\t\"./logo_business_analytics.js\": [\n\t\t1041,\n\t\t184\n\t],\n\t\"./logo_ceph.js\": [\n\t\t1042,\n\t\t185\n\t],\n\t\"./logo_cloud.js\": [\n\t\t1043,\n\t\t186\n\t],\n\t\"./logo_cloud_ece.js\": [\n\t\t1044,\n\t\t187\n\t],\n\t\"./logo_code.js\": [\n\t\t1045,\n\t\t188\n\t],\n\t\"./logo_codesandbox.js\": [\n\t\t1046,\n\t\t189\n\t],\n\t\"./logo_couchbase.js\": [\n\t\t1047,\n\t\t190\n\t],\n\t\"./logo_docker.js\": [\n\t\t1048,\n\t\t191\n\t],\n\t\"./logo_dropwizard.js\": [\n\t\t1049,\n\t\t192\n\t],\n\t\"./logo_elastic.js\": [\n\t\t1050,\n\t\t193\n\t],\n\t\"./logo_elastic_stack.js\": [\n\t\t1051,\n\t\t194\n\t],\n\t\"./logo_elasticsearch.js\": [\n\t\t1052,\n\t\t195\n\t],\n\t\"./logo_enterprise_search.js\": [\n\t\t1053,\n\t\t196\n\t],\n\t\"./logo_etcd.js\": [\n\t\t1054,\n\t\t197\n\t],\n\t\"./logo_gcp.js\": [\n\t\t1055,\n\t\t198\n\t],\n\t\"./logo_gcp_mono.js\": [\n\t\t1056,\n\t\t199\n\t],\n\t\"./logo_github.js\": [\n\t\t1057,\n\t\t200\n\t],\n\t\"./logo_gmail.js\": [\n\t\t1058,\n\t\t201\n\t],\n\t\"./logo_golang.js\": [\n\t\t1059,\n\t\t202\n\t],\n\t\"./logo_google_g.js\": [\n\t\t1060,\n\t\t203\n\t],\n\t\"./logo_haproxy.js\": [\n\t\t1061,\n\t\t204\n\t],\n\t\"./logo_ibm.js\": [\n\t\t1062,\n\t\t205\n\t],\n\t\"./logo_ibm_mono.js\": [\n\t\t1063,\n\t\t206\n\t],\n\t\"./logo_kafka.js\": [\n\t\t1064,\n\t\t207\n\t],\n\t\"./logo_kibana.js\": [\n\t\t1065,\n\t\t208\n\t],\n\t\"./logo_kubernetes.js\": [\n\t\t1066,\n\t\t209\n\t],\n\t\"./logo_logging.js\": [\n\t\t1067,\n\t\t210\n\t],\n\t\"./logo_logstash.js\": [\n\t\t1068,\n\t\t211\n\t],\n\t\"./logo_maps.js\": [\n\t\t1069,\n\t\t212\n\t],\n\t\"./logo_memcached.js\": [\n\t\t1070,\n\t\t213\n\t],\n\t\"./logo_metrics.js\": [\n\t\t1071,\n\t\t214\n\t],\n\t\"./logo_mongodb.js\": [\n\t\t1072,\n\t\t215\n\t],\n\t\"./logo_mysql.js\": [\n\t\t1073,\n\t\t216\n\t],\n\t\"./logo_nginx.js\": [\n\t\t1074,\n\t\t217\n\t],\n\t\"./logo_observability.js\": [\n\t\t1075,\n\t\t218\n\t],\n\t\"./logo_osquery.js\": [\n\t\t1076,\n\t\t219\n\t],\n\t\"./logo_php.js\": [\n\t\t1077,\n\t\t220\n\t],\n\t\"./logo_postgres.js\": [\n\t\t1078,\n\t\t221\n\t],\n\t\"./logo_prometheus.js\": [\n\t\t1079,\n\t\t222\n\t],\n\t\"./logo_rabbitmq.js\": [\n\t\t1080,\n\t\t223\n\t],\n\t\"./logo_redis.js\": [\n\t\t1081,\n\t\t224\n\t],\n\t\"./logo_security.js\": [\n\t\t1082,\n\t\t225\n\t],\n\t\"./logo_site_search.js\": [\n\t\t1083,\n\t\t226\n\t],\n\t\"./logo_sketch.js\": [\n\t\t1084,\n\t\t227\n\t],\n\t\"./logo_slack.js\": [\n\t\t1085,\n\t\t228\n\t],\n\t\"./logo_uptime.js\": [\n\t\t1086,\n\t\t229\n\t],\n\t\"./logo_webhook.js\": [\n\t\t1087,\n\t\t230\n\t],\n\t\"./logo_windows.js\": [\n\t\t1088,\n\t\t231\n\t],\n\t\"./logo_workplace_search.js\": [\n\t\t1089,\n\t\t232\n\t],\n\t\"./logstash_filter.js\": [\n\t\t1090,\n\t\t233\n\t],\n\t\"./logstash_if.js\": [\n\t\t1091,\n\t\t234\n\t],\n\t\"./logstash_input.js\": [\n\t\t1092,\n\t\t235\n\t],\n\t\"./logstash_output.js\": [\n\t\t1093,\n\t\t236\n\t],\n\t\"./logstash_queue.js\": [\n\t\t1094,\n\t\t237\n\t],\n\t\"./magnet.js\": [\n\t\t1095,\n\t\t238\n\t],\n\t\"./magnifyWithMinus.js\": [\n\t\t1096,\n\t\t239\n\t],\n\t\"./magnifyWithPlus.js\": [\n\t\t1097,\n\t\t240\n\t],\n\t\"./map_marker.js\": [\n\t\t1098,\n\t\t241\n\t],\n\t\"./memory.js\": [\n\t\t1099,\n\t\t242\n\t],\n\t\"./menu.js\": [\n\t\t1100,\n\t\t243\n\t],\n\t\"./menuLeft.js\": [\n\t\t1101,\n\t\t244\n\t],\n\t\"./menuRight.js\": [\n\t\t1102,\n\t\t245\n\t],\n\t\"./merge.js\": [\n\t\t1103,\n\t\t246\n\t],\n\t\"./minimize.js\": [\n\t\t1104,\n\t\t247\n\t],\n\t\"./minus_in_circle.js\": [\n\t\t1105,\n\t\t248\n\t],\n\t\"./minus_in_circle_filled.js\": [\n\t\t1106,\n\t\t249\n\t],\n\t\"./ml_classification_job.js\": [\n\t\t1107,\n\t\t250\n\t],\n\t\"./ml_create_advanced_job.js\": [\n\t\t1108,\n\t\t251\n\t],\n\t\"./ml_create_multi_metric_job.js\": [\n\t\t1109,\n\t\t252\n\t],\n\t\"./ml_create_population_job.js\": [\n\t\t1110,\n\t\t253\n\t],\n\t\"./ml_create_single_metric_job.js\": [\n\t\t1111,\n\t\t254\n\t],\n\t\"./ml_data_visualizer.js\": [\n\t\t1112,\n\t\t255\n\t],\n\t\"./ml_outlier_detection_job.js\": [\n\t\t1113,\n\t\t256\n\t],\n\t\"./ml_regression_job.js\": [\n\t\t1114,\n\t\t257\n\t],\n\t\"./moon.js\": [\n\t\t1115,\n\t\t258\n\t],\n\t\"./nested.js\": [\n\t\t1116,\n\t\t259\n\t],\n\t\"./node.js\": [\n\t\t1117,\n\t\t260\n\t],\n\t\"./number.js\": [\n\t\t1118,\n\t\t261\n\t],\n\t\"./offline.js\": [\n\t\t1119,\n\t\t262\n\t],\n\t\"./online.js\": [\n\t\t1120,\n\t\t263\n\t],\n\t\"./package.js\": [\n\t\t1121,\n\t\t264\n\t],\n\t\"./pageSelect.js\": [\n\t\t1122,\n\t\t265\n\t],\n\t\"./pagesSelect.js\": [\n\t\t1123,\n\t\t266\n\t],\n\t\"./paint.js\": [\n\t\t1124,\n\t\t267\n\t],\n\t\"./paper_clip.js\": [\n\t\t1125,\n\t\t268\n\t],\n\t\"./partial.js\": [\n\t\t1126,\n\t\t269\n\t],\n\t\"./pause.js\": [\n\t\t1127,\n\t\t270\n\t],\n\t\"./pencil.js\": [\n\t\t1128,\n\t\t271\n\t],\n\t\"./pin.js\": [\n\t\t1129,\n\t\t272\n\t],\n\t\"./pin_filled.js\": [\n\t\t1130,\n\t\t273\n\t],\n\t\"./play.js\": [\n\t\t1131,\n\t\t274\n\t],\n\t\"./plus_in_circle.js\": [\n\t\t1132,\n\t\t275\n\t],\n\t\"./plus_in_circle_filled.js\": [\n\t\t1133,\n\t\t276\n\t],\n\t\"./popout.js\": [\n\t\t1134,\n\t\t277\n\t],\n\t\"./push.js\": [\n\t\t1135,\n\t\t278\n\t],\n\t\"./question_in_circle.js\": [\n\t\t1136,\n\t\t279\n\t],\n\t\"./quote.js\": [\n\t\t1137,\n\t\t280\n\t],\n\t\"./refresh.js\": [\n\t\t1138,\n\t\t281\n\t],\n\t\"./reporter.js\": [\n\t\t1139,\n\t\t282\n\t],\n\t\"./return_key.js\": [\n\t\t1140,\n\t\t283\n\t],\n\t\"./save.js\": [\n\t\t1141,\n\t\t284\n\t],\n\t\"./scale.js\": [\n\t\t1142,\n\t\t285\n\t],\n\t\"./search.js\": [\n\t\t1143,\n\t\t286\n\t],\n\t\"./securitySignal.js\": [\n\t\t1144,\n\t\t287\n\t],\n\t\"./securitySignalDetected.js\": [\n\t\t1145,\n\t\t288\n\t],\n\t\"./securitySignalResolved.js\": [\n\t\t1146,\n\t\t289\n\t],\n\t\"./shard.js\": [\n\t\t1147,\n\t\t290\n\t],\n\t\"./share.js\": [\n\t\t1148,\n\t\t291\n\t],\n\t\"./snowflake.js\": [\n\t\t1149,\n\t\t292\n\t],\n\t\"./sortLeft.js\": [\n\t\t1150,\n\t\t293\n\t],\n\t\"./sortRight.js\": [\n\t\t1151,\n\t\t294\n\t],\n\t\"./sort_down.js\": [\n\t\t1152,\n\t\t295\n\t],\n\t\"./sort_up.js\": [\n\t\t1153,\n\t\t296\n\t],\n\t\"./sortable.js\": [\n\t\t1154,\n\t\t297\n\t],\n\t\"./starPlusEmpty.js\": [\n\t\t1155,\n\t\t298\n\t],\n\t\"./starPlusFilled.js\": [\n\t\t1156,\n\t\t299\n\t],\n\t\"./star_empty.js\": [\n\t\t1157,\n\t\t300\n\t],\n\t\"./star_empty_space.js\": [\n\t\t1158,\n\t\t301\n\t],\n\t\"./star_filled.js\": [\n\t\t1159,\n\t\t302\n\t],\n\t\"./star_filled_space.js\": [\n\t\t1160,\n\t\t303\n\t],\n\t\"./star_minus_empty.js\": [\n\t\t1161,\n\t\t304\n\t],\n\t\"./star_minus_filled.js\": [\n\t\t1162,\n\t\t305\n\t],\n\t\"./stats.js\": [\n\t\t1163,\n\t\t306\n\t],\n\t\"./stop.js\": [\n\t\t1164,\n\t\t307\n\t],\n\t\"./stop_filled.js\": [\n\t\t1165,\n\t\t308\n\t],\n\t\"./stop_slash.js\": [\n\t\t1166,\n\t\t309\n\t],\n\t\"./storage.js\": [\n\t\t1167,\n\t\t310\n\t],\n\t\"./string.js\": [\n\t\t1168,\n\t\t311\n\t],\n\t\"./submodule.js\": [\n\t\t1169,\n\t\t312\n\t],\n\t\"./swatch_input.js\": [\n\t\t1170,\n\t\t313\n\t],\n\t\"./symlink.js\": [\n\t\t1171,\n\t\t314\n\t],\n\t\"./tableOfContents.js\": [\n\t\t1172,\n\t\t315\n\t],\n\t\"./table_density_compact.js\": [\n\t\t1173,\n\t\t316\n\t],\n\t\"./table_density_expanded.js\": [\n\t\t1174,\n\t\t317\n\t],\n\t\"./table_density_normal.js\": [\n\t\t1175,\n\t\t318\n\t],\n\t\"./tag.js\": [\n\t\t1176,\n\t\t319\n\t],\n\t\"./tear.js\": [\n\t\t1177,\n\t\t320\n\t],\n\t\"./temperature.js\": [\n\t\t1178,\n\t\t321\n\t],\n\t\"./timeline.js\": [\n\t\t1179,\n\t\t322\n\t],\n\t\"./tokens/tokenAlias.js\": [\n\t\t1180,\n\t\t323\n\t],\n\t\"./tokens/tokenAnnotation.js\": [\n\t\t1181,\n\t\t324\n\t],\n\t\"./tokens/tokenArray.js\": [\n\t\t1182,\n\t\t325\n\t],\n\t\"./tokens/tokenBinary.js\": [\n\t\t1183,\n\t\t326\n\t],\n\t\"./tokens/tokenBoolean.js\": [\n\t\t1184,\n\t\t327\n\t],\n\t\"./tokens/tokenClass.js\": [\n\t\t1185,\n\t\t328\n\t],\n\t\"./tokens/tokenCompletionSuggester.js\": [\n\t\t1186,\n\t\t329\n\t],\n\t\"./tokens/tokenConstant.js\": [\n\t\t1187,\n\t\t330\n\t],\n\t\"./tokens/tokenDate.js\": [\n\t\t1188,\n\t\t331\n\t],\n\t\"./tokens/tokenDenseVector.js\": [\n\t\t1189,\n\t\t332\n\t],\n\t\"./tokens/tokenElement.js\": [\n\t\t1190,\n\t\t333\n\t],\n\t\"./tokens/tokenEnum.js\": [\n\t\t1191,\n\t\t334\n\t],\n\t\"./tokens/tokenEnumMember.js\": [\n\t\t1192,\n\t\t335\n\t],\n\t\"./tokens/tokenEvent.js\": [\n\t\t1193,\n\t\t336\n\t],\n\t\"./tokens/tokenException.js\": [\n\t\t1194,\n\t\t337\n\t],\n\t\"./tokens/tokenField.js\": [\n\t\t1195,\n\t\t338\n\t],\n\t\"./tokens/tokenFile.js\": [\n\t\t1196,\n\t\t339\n\t],\n\t\"./tokens/tokenFlattened.js\": [\n\t\t1197,\n\t\t340\n\t],\n\t\"./tokens/tokenFunction.js\": [\n\t\t1198,\n\t\t341\n\t],\n\t\"./tokens/tokenGeo.js\": [\n\t\t1199,\n\t\t342\n\t],\n\t\"./tokens/tokenHistogram.js\": [\n\t\t1200,\n\t\t343\n\t],\n\t\"./tokens/tokenIP.js\": [\n\t\t1201,\n\t\t344\n\t],\n\t\"./tokens/tokenInterface.js\": [\n\t\t1202,\n\t\t345\n\t],\n\t\"./tokens/tokenJoin.js\": [\n\t\t1203,\n\t\t346\n\t],\n\t\"./tokens/tokenKey.js\": [\n\t\t1204,\n\t\t347\n\t],\n\t\"./tokens/tokenKeyword.js\": [\n\t\t1205,\n\t\t348\n\t],\n\t\"./tokens/tokenMethod.js\": [\n\t\t1206,\n\t\t349\n\t],\n\t\"./tokens/tokenModule.js\": [\n\t\t1207,\n\t\t350\n\t],\n\t\"./tokens/tokenNamespace.js\": [\n\t\t1208,\n\t\t351\n\t],\n\t\"./tokens/tokenNested.js\": [\n\t\t1209,\n\t\t352\n\t],\n\t\"./tokens/tokenNull.js\": [\n\t\t1210,\n\t\t353\n\t],\n\t\"./tokens/tokenNumber.js\": [\n\t\t1211,\n\t\t354\n\t],\n\t\"./tokens/tokenObject.js\": [\n\t\t1212,\n\t\t355\n\t],\n\t\"./tokens/tokenOperator.js\": [\n\t\t1213,\n\t\t356\n\t],\n\t\"./tokens/tokenPackage.js\": [\n\t\t1214,\n\t\t357\n\t],\n\t\"./tokens/tokenParameter.js\": [\n\t\t1215,\n\t\t358\n\t],\n\t\"./tokens/tokenPercolator.js\": [\n\t\t1216,\n\t\t359\n\t],\n\t\"./tokens/tokenProperty.js\": [\n\t\t1217,\n\t\t360\n\t],\n\t\"./tokens/tokenRange.js\": [\n\t\t1218,\n\t\t361\n\t],\n\t\"./tokens/tokenRankFeature.js\": [\n\t\t1219,\n\t\t362\n\t],\n\t\"./tokens/tokenRankFeatures.js\": [\n\t\t1220,\n\t\t363\n\t],\n\t\"./tokens/tokenRepo.js\": [\n\t\t1221,\n\t\t364\n\t],\n\t\"./tokens/tokenSearchType.js\": [\n\t\t1222,\n\t\t365\n\t],\n\t\"./tokens/tokenShape.js\": [\n\t\t1223,\n\t\t366\n\t],\n\t\"./tokens/tokenString.js\": [\n\t\t1224,\n\t\t367\n\t],\n\t\"./tokens/tokenStruct.js\": [\n\t\t1225,\n\t\t368\n\t],\n\t\"./tokens/tokenSymbol.js\": [\n\t\t1226,\n\t\t369\n\t],\n\t\"./tokens/tokenText.js\": [\n\t\t1227,\n\t\t370\n\t],\n\t\"./tokens/tokenTokenCount.js\": [\n\t\t1228,\n\t\t371\n\t],\n\t\"./tokens/tokenVariable.js\": [\n\t\t1229,\n\t\t372\n\t],\n\t\"./training.js\": [\n\t\t1230,\n\t\t373\n\t],\n\t\"./trash.js\": [\n\t\t1231,\n\t\t374\n\t],\n\t\"./unfold.js\": [\n\t\t1232,\n\t\t375\n\t],\n\t\"./unlink.js\": [\n\t\t1233,\n\t\t376\n\t],\n\t\"./user.js\": [\n\t\t1234,\n\t\t377\n\t],\n\t\"./users.js\": [\n\t\t1235,\n\t\t378\n\t],\n\t\"./vector.js\": [\n\t\t1236,\n\t\t379\n\t],\n\t\"./videoPlayer.js\": [\n\t\t1237,\n\t\t380\n\t],\n\t\"./vis_area.js\": [\n\t\t1238,\n\t\t381\n\t],\n\t\"./vis_area_stacked.js\": [\n\t\t1239,\n\t\t382\n\t],\n\t\"./vis_bar_horizontal.js\": [\n\t\t1240,\n\t\t383\n\t],\n\t\"./vis_bar_horizontal_stacked.js\": [\n\t\t1241,\n\t\t384\n\t],\n\t\"./vis_bar_vertical.js\": [\n\t\t1242,\n\t\t385\n\t],\n\t\"./vis_bar_vertical_stacked.js\": [\n\t\t1243,\n\t\t386\n\t],\n\t\"./vis_gauge.js\": [\n\t\t1244,\n\t\t387\n\t],\n\t\"./vis_goal.js\": [\n\t\t1245,\n\t\t388\n\t],\n\t\"./vis_line.js\": [\n\t\t1246,\n\t\t389\n\t],\n\t\"./vis_map_coordinate.js\": [\n\t\t1247,\n\t\t390\n\t],\n\t\"./vis_map_region.js\": [\n\t\t1248,\n\t\t391\n\t],\n\t\"./vis_metric.js\": [\n\t\t1249,\n\t\t392\n\t],\n\t\"./vis_pie.js\": [\n\t\t1250,\n\t\t393\n\t],\n\t\"./vis_table.js\": [\n\t\t1251,\n\t\t394\n\t],\n\t\"./vis_tag_cloud.js\": [\n\t\t1252,\n\t\t395\n\t],\n\t\"./vis_text.js\": [\n\t\t1253,\n\t\t396\n\t],\n\t\"./vis_timelion.js\": [\n\t\t1254,\n\t\t397\n\t],\n\t\"./vis_vega.js\": [\n\t\t1255,\n\t\t398\n\t],\n\t\"./vis_visual_builder.js\": [\n\t\t1256,\n\t\t399\n\t],\n\t\"./wrench.js\": [\n\t\t1257,\n\t\t400\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 403;\nmodule.exports = webpackAsyncContext;","import moment from 'moment';\r\n\r\nmoment.locale('zh-tw', {\r\n  months: '一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月'.split(\r\n    '_'\r\n  ),\r\n  monthsShort: '1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月'.split('_'),\r\n  weekdays: '星期日_星期一_星期二_星期三_星期四_星期五_星期六'.split('_'),\r\n  weekdaysShort: '周日_周一_周二_周三_周四_周五_周六'.split('_'),\r\n  weekdaysMin: '日_一_二_三_四_五_六'.split('_'),\r\n  longDateFormat: {\r\n    LT: 'Ah點mm分',\r\n    LTS: 'Ah點m分s秒',\r\n    L: 'YYYY-MM-DD',\r\n    LL: 'YYYY年MMMD日',\r\n    LLL: 'YYYY年MMMD日Ah點mm分',\r\n    LLLL: 'YYYY年MMMD日ddddAh點mm分',\r\n    l: 'YYYY-MM-DD',\r\n    ll: 'YYYY年MMMD日',\r\n    lll: 'YYYY年MMMD日Ah點mm分',\r\n    llll: 'YYYY年MMMD日ddddAh點mm分'\r\n  },\r\n  meridiemHour: (hour: number, meridiem: string) => {\r\n    if (hour === 12) {\r\n      hour = 0;\r\n    }\r\n    if (meridiem === '上午') {\r\n      return hour;\r\n    } else {\r\n      return hour + 12;\r\n    }\r\n  },\r\n  meridiem: (hour, minute) => {\r\n    const hm = hour * 100 + minute;\r\n    if (hm < 1200) {\r\n      return '上午';\r\n    } else {\r\n      return '下午';\r\n    }\r\n  }\r\n});\r\n","import { useState } from 'react';\r\nimport { UniLogAccessLevelInfo } from './api/unilog/model';\r\n\r\nexport enum MainAccessType {\r\n  UserMenu = 1,\r\n  UniLOG = 2,\r\n  UniNOC = 3,\r\n  UniWatch = 4\r\n}\r\n\r\nexport enum SubAccessType {\r\n  User = '1,1',\r\n  Authority = '1,2',\r\n  Discover = '2,3',\r\n  Dashboard_1 = '2,4',\r\n  Dashboard_2 = '2,5',\r\n  Dashboard_3 = '2,6',\r\n  PortalStatistics_1 = '2,7',\r\n  PortalStatistics_2 = '2,8',\r\n  PortalStatistics_3 = '2,9',\r\n  LogReport = '2,10',\r\n  LogBackup = '2,11',\r\n  BackupList = '2,12',\r\n  BackupPolicy = '2,13',\r\n  LogAlert = '2,14',\r\n  WatchLog = '2,15',\r\n  UniNOC = '3,16',\r\n  UniWatch = '4,17',\r\n  HostGroup = '4,18'\r\n}\r\n\r\nexport function useAccessLevel(hasBackend: boolean) {\r\n  const [accessLevels, setAccessLevels] = useState<UniLogAccessLevelInfo[]>([]);\r\n\r\n  /** 主標題(使用者選單、左側選單)是否可讀 */\r\n  const isMainTitleReadable = () => true;\r\n\r\n  /** 取得副標題的權限 */\r\n  const getAccessLevel = (type: SubAccessType) => {\r\n    if (!hasBackend) return { read: true, write: true };\r\n    if (accessLevels.length === 0) return { read: false, write: false };\r\n\r\n    const idGroup = type.split(',').map(item => Number(item));\r\n    if (!idGroup) return { read: false, write: false };\r\n\r\n    const accessLevel = accessLevels.find(\r\n      item => item.mainTitleId === idGroup[0] && item.subTitleId === idGroup[1]\r\n    );\r\n    if (!accessLevel) return { read: false, write: false };\r\n\r\n    return { read: accessLevel.isRead, write: accessLevel.isWrite };\r\n  };\r\n\r\n  return { accessLevels, setAccessLevels, getAccessLevel, isMainTitleReadable };\r\n}\r\n","import React, {\r\n  createContext,\r\n  ReactNode,\r\n  useCallback,\r\n  useContext,\r\n  useState\r\n} from 'react';\r\nimport { Toast } from '@elastic/eui/src/components/toast/global_toast_list';\r\nimport { EuiConfirmModalProps } from '@elastic/eui';\r\nimport moment from 'moment';\r\n\r\ninterface ConfirmModalProps extends Omit<EuiConfirmModalProps, 'onCancel'> {\r\n  onCancel?: (\r\n    event?:\r\n      | React.KeyboardEvent<HTMLDivElement>\r\n      | React.MouseEvent<HTMLButtonElement>\r\n  ) => void;\r\n}\r\n\r\ninterface ContextProps {\r\n  toast: {\r\n    values: Toast[];\r\n    addToast: (type: ToastType, title: ReactNode, id?: string) => void;\r\n    removeToast: (id: string) => void;\r\n  };\r\n  confirmModal: {\r\n    active: boolean;\r\n    values: EuiConfirmModalProps;\r\n    open: (props: ConfirmModalProps) => void;\r\n    close: () => void;\r\n  };\r\n}\r\nconst GlobalUIContext = createContext({} as ContextProps);\r\n\r\ninterface ProviderProps {\r\n  children: ReactNode;\r\n}\r\nexport function GlobalUIProvider(props: ProviderProps) {\r\n  const { children } = props;\r\n  const toast = useToast();\r\n  const confirmModal = useConfirmModal();\r\n\r\n  return (\r\n    <GlobalUIContext.Provider value={{ toast, confirmModal }}>\r\n      {children}\r\n    </GlobalUIContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useGlobalUI() {\r\n  return useContext(GlobalUIContext);\r\n}\r\n\r\nexport type ToastType = 'success' | 'warn' | 'error';\r\n/** 參考：https://elastic.github.io/eui/#/display/toast */\r\nfunction useToast() {\r\n  const [values, setValues] = useState<Toast[]>([]);\r\n\r\n  const addToast = useCallback(\r\n    (type: ToastType, title: ReactNode, id?: string) => {\r\n      const props = toastMap.get(type);\r\n      if (!props) return;\r\n      if (!id) {\r\n        id = moment().toString();\r\n      }\r\n      const newToast: Toast = {\r\n        id,\r\n        title,\r\n        ...props\r\n      };\r\n      setValues(prev => [...prev, newToast]);\r\n    },\r\n    []\r\n  );\r\n\r\n  const removeToast = useCallback(\r\n    (id: string) => setValues(prev => prev.filter(toast => toast.id !== id)),\r\n    []\r\n  );\r\n\r\n  return { values, addToast, removeToast };\r\n}\r\n\r\n/** 參考：https://elastic.github.io/eui/#/layout/modal */\r\nfunction useConfirmModal() {\r\n  const [active, setActive] = useState(false);\r\n  const [values, setValues] = useState<EuiConfirmModalProps>({\r\n    onCancel: () => setActive(false)\r\n  });\r\n\r\n  const open = useCallback((props: ConfirmModalProps) => {\r\n    setValues(prev => ({ ...prev, ...props }));\r\n    setActive(true);\r\n  }, []);\r\n\r\n  const close = useCallback(() => {\r\n    setValues({ onCancel: () => setActive(false) });\r\n    setActive(false);\r\n  }, []);\r\n\r\n  return { active, values, open, close };\r\n}\r\n\r\ntype ToastColor = 'primary' | 'success' | 'warning' | 'danger';\r\nconst toastMap = new Map<ToastType, { color: ToastColor; iconType: string }>([\r\n  ['success', { color: 'success', iconType: 'check' }],\r\n  ['warn', { color: 'warning', iconType: 'help' }],\r\n  ['error', { color: 'danger', iconType: 'alert' }]\r\n]);\r\n","export enum RoutePath {\r\n  Login = '/login',\r\n  Profile = '/profile',\r\n  ChangePW = '/changePW',\r\n  User = '/user',\r\n  Authority = '/authority',\r\n  UniLOG = '/log',\r\n  Statistics1 = '/log/statistics/1',\r\n  Statistics2 = '/log/statistics/2',\r\n  Statistics3 = '/log/statistics/3',\r\n  Discover = '/log/discover',\r\n  Dashboard1 = '/log/dashboard/1',\r\n  Dashboard2 = '/log/dashboard/2',\r\n  Dashboard3 = '/log/dashboard/3',\r\n  LogBackup = '/log/backup',\r\n  LogBackupPolicy = '/log/backup/policy',\r\n  LogBackupList = '/log/backup/list',\r\n  LogReport = '/log/report',\r\n  WatchLog = '/log/watchLog',\r\n  UniNOC = '/noc',\r\n  UniWatch = '/watch',\r\n  HostGroup = '/watch/hostGroup'\r\n}\r\n\r\nexport enum UniLogMainAccess {\r\n  UserMenu = 1,\r\n  SysAuditLog = 2,\r\n  Dashboard = 3,\r\n  LogReport = 4,\r\n  LogAlert = 5\r\n}\r\n\r\nexport enum UniLogSubAccess {\r\n  UserManagement,\r\n  AuthorityManagement,\r\n  Entry,\r\n  PortalStatistics_1,\r\n  PortalStatistics_2,\r\n  PortalStatistics_3,\r\n  Dashboard_1,\r\n  Dashboard_2,\r\n  Dashboard_3,\r\n  Discover,\r\n  LogReport,\r\n  LogAlert\r\n}\r\n","import { AxiosError, AxiosResponse } from 'axios';\r\n\r\n/**\r\n * 將axios預設錯誤轉為統一格式(ApiError)\r\n * @description 需自行在axios instance使用\r\n */\r\nexport const defaultResInterceptor = {\r\n  response: (res: AxiosResponse) => res,\r\n  error: (err: AxiosError) => {\r\n    const temp: ApiError = {\r\n      status: 0,\r\n      message: err.message,\r\n      content: ''\r\n    };\r\n    if (err.request) {\r\n      temp.status = err.response?.status ?? 0;\r\n    }\r\n    throw temp;\r\n  }\r\n};\r\n\r\nexport interface ApiError<T = string> {\r\n  status: number;\r\n  message: string;\r\n  content: T;\r\n}\r\n","import axios, { AxiosResponse } from 'axios';\r\nimport { useGlobalState } from 'contexts/GlobalStateContext';\r\nimport { useGlobalUI } from 'contexts/GlobalUIContext';\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { ApiError, defaultResInterceptor } from 'utils/api';\r\nimport { RoutePath } from 'utils/enums';\r\nimport { UniLogResponse } from './model';\r\n\r\nconst { protocol, hostname } = window.location;\r\nconst _hostname =\r\n  process.env.NODE_ENV === 'development' ? '10.0.30.192' : hostname;\r\n\r\nexport const axiosLOG = axios.create({\r\n  baseURL: `${protocol}//${_hostname}:8081`\r\n});\r\n\r\naxiosLOG.interceptors.response.use(\r\n  defaultResInterceptor.response,\r\n  defaultResInterceptor.error\r\n);\r\n\r\naxiosLOG.interceptors.response.use((res: AxiosResponse<UniLogResponse>) => {\r\n  if (res.data.status !== 200) {\r\n    const temp: ApiError = {\r\n      status: res.data.status,\r\n      message: res.data.statusInfo,\r\n      content: ''\r\n    };\r\n    try {\r\n      temp.content = JSON.parse(res.data.entity).errorMessage;\r\n    } catch {\r\n      temp.content = res.data.entity;\r\n    } finally {\r\n      throw temp;\r\n    }\r\n  }\r\n  return res;\r\n});\r\n\r\n/**\r\n * axiosLOG初始化使用\r\n * @description 登入逾時會清除uuid，並導向/login\r\n */\r\nexport function useAxiosLogInit() {\r\n  const { push } = useHistory();\r\n  const { setIsLoggedIn } = useGlobalState();\r\n  const { toast } = useGlobalUI();\r\n  const [initialized, setInitialized] = useState(false);\r\n  const interceptor = useRef(-1);\r\n\r\n  useEffect(() => {\r\n    axiosLOG.interceptors.response.eject(interceptor.current);\r\n    interceptor.current = axiosLOG.interceptors.response.use(\r\n      res => res,\r\n      (err: ApiError) => {\r\n        if (err.status === 408) {\r\n          setIsLoggedIn(false);\r\n          axiosLOG.defaults.params = undefined;\r\n          localStorage.removeItem('uuid');\r\n          push(RoutePath.Login);\r\n          toast.addToast('warn', '帳號登入逾時');\r\n        }\r\n        throw err;\r\n      }\r\n    );\r\n    setInitialized(true);\r\n  }, [push, setIsLoggedIn, toast]);\r\n\r\n  return { initialized };\r\n}\r\n","import { EuiSelectOption } from '@elastic/eui';\r\nimport { sha256 } from 'js-sha256';\r\nimport { axiosLOG } from './instance';\r\nimport {\r\n  UniLogAccessLevelInfo,\r\n  UniLogAccountInfo,\r\n  UniLogBackupIndexBody,\r\n  UniLogBackupIndexItem,\r\n  UniLogBackupItem,\r\n  UniLogBackupPolicyBody,\r\n  UniLogBackupPolicyItem,\r\n  UniLogBackupRestoreBody,\r\n  UniLogGroupInfo,\r\n  UniLogLoginData,\r\n  UniLogLoginParams,\r\n  UniLogPasswordBody,\r\n  UniLogProfileBody,\r\n  UniLogResponse\r\n} from './model';\r\n\r\nexport function checkUUID() {\r\n  const _uuid = localStorage.getItem('uuid');\r\n  if (_uuid) {\r\n    axiosLOG.defaults.params = { uuid: _uuid };\r\n    return true;\r\n  } else {\r\n    return false;\r\n  }\r\n}\r\n\r\nexport function login(data: UniLogLoginData) {\r\n  const params: UniLogLoginParams = {\r\n    account: data.username,\r\n    mima: data.password\r\n  };\r\n  return axiosLOG.post<UniLogResponse>('/sign/login', params).then(res => {\r\n    if (res.data.status !== 200) throw new Error(res.data.entity);\r\n    const accounts: UniLogAccountInfo[] = JSON.parse(res.data.entity);\r\n    const { uuid, kibanaToken } = accounts[0];\r\n    localStorage.setItem('uuid', uuid);\r\n    localStorage.setItem('kibanaToken', String(kibanaToken));\r\n    return uuid;\r\n  });\r\n}\r\n\r\nexport function logout() {\r\n  const { uuid } = axiosLOG.defaults.params;\r\n  return axiosLOG.post('/sign/logout', { uuid }).then(res => {\r\n    axiosLOG.defaults.params = undefined;\r\n    localStorage.removeItem('uuid');\r\n    localStorage.removeItem('kibanaToken');\r\n    return res;\r\n  });\r\n}\r\n\r\nexport function getAccessLevel(groupId?: number) {\r\n  const url = '/accesslevel' + (groupId ? '/' + groupId : '');\r\n\r\n  return axiosLOG.get<UniLogResponse>(url).then(res => {\r\n    const accessLevel: UniLogAccessLevelInfo[] = JSON.parse(res.data.entity);\r\n    console.log(accessLevel);\r\n    return accessLevel;\r\n  });\r\n}\r\n\r\nexport function updateAccessLevel(accessLevel: UniLogAccessLevelInfo[]) {\r\n  const uuid = axiosLOG.defaults.params.uuid;\r\n  return axiosLOG.put('/accesslevel/' + uuid, accessLevel);\r\n}\r\n\r\nexport function getGroups() {\r\n  return axiosLOG.get<UniLogResponse>('/group').then(res => {\r\n    const result: UniLogGroupInfo[] = JSON.parse(res.data.entity);\r\n    const groups: EuiSelectOption[] = result.map(item => ({\r\n      value: item.groupId,\r\n      text: item.groupcnname\r\n    }));\r\n    return groups;\r\n  });\r\n}\r\n\r\nexport function getAccounts() {\r\n  return axiosLOG.get('/account').then(res => {\r\n    const accounts: UniLogAccountInfo[] = JSON.parse(res.data.entity);\r\n    // const activeAccounts = accounts.filter(account => !account.isDelete);\r\n    return accounts;\r\n  });\r\n}\r\n\r\nexport function getAccount(targetUUID?: string) {\r\n  const uuid = targetUUID ?? axiosLOG.defaults.params.uuid;\r\n  return axiosLOG.get('/account/' + uuid).then(res => {\r\n    const accounts: UniLogAccountInfo[] = JSON.parse(res.data.entity);\r\n    return accounts[0];\r\n  });\r\n}\r\n\r\nexport function getCurrentAccount() {\r\n  const uuid = axiosLOG.defaults.params.uuid;\r\n  return getAccount(uuid);\r\n}\r\n\r\nexport function addAccount(data: UniLogAccountInfo) {\r\n  if (data.mima) data.mima = sha256(data.mima);\r\n  const uuid = axiosLOG.defaults.params.uuid;\r\n  return axiosLOG.post('/account', { ...data, uuid });\r\n}\r\n\r\nexport function editAccount(targetUUID: string, data: UniLogAccountInfo) {\r\n  if (data.mima) data.mima = sha256(data.mima);\r\n  return axiosLOG.put('/account/' + targetUUID, data);\r\n}\r\n\r\nexport function deleteAccount(targetUUID: string) {\r\n  return axiosLOG.delete('/account/' + targetUUID);\r\n}\r\n\r\nexport function editProfile(profile: UniLogProfileBody) {\r\n  const uuid = axiosLOG.defaults.params.uuid;\r\n  return axiosLOG.put('/account/personal/' + uuid, profile);\r\n}\r\n\r\nexport function changePassword(passwords: UniLogPasswordBody) {\r\n  const body = {\r\n    mima: sha256(passwords.current),\r\n    newmima: sha256(passwords.new)\r\n  };\r\n  return axiosLOG.put('/account', body);\r\n}\r\n\r\nexport function getKibanaDataTemplate(kibanaName: string) {\r\n  return axiosLOG\r\n    .get('/kibana/' + kibanaName)\r\n    .then(res => res.data.entity as string);\r\n}\r\n\r\nexport function getConfig(configName: string) {\r\n  return axiosLOG\r\n    .get('/config/' + configName)\r\n    .then(res => res.data.entity as string);\r\n}\r\n\r\nexport function getBackupMain(zipName: string = '') {\r\n  return axiosLOG\r\n    .post('/backup/main', { zipName })\r\n    .then(res => JSON.parse(res.data.entity).data as UniLogBackupItem[]);\r\n}\r\n\r\nexport function backupRestore(data: UniLogBackupRestoreBody) {\r\n  return axiosLOG.post('/backup/restore', data);\r\n}\r\n\r\nexport function getBackupPolicies(from: number, policyName: string) {\r\n  return axiosLOG\r\n    .post('/backup/policy_list', { from, policyName })\r\n    .then(res => JSON.parse(res.data.entity).data as UniLogBackupPolicyItem[]);\r\n}\r\n\r\nexport function backupPolicyDelete(policyName?: string) {\r\n  if (!policyName) return Promise.reject();\r\n  return axiosLOG.post('/backup/delPolicy', { policyName });\r\n}\r\n\r\nexport function backupPolicyEdit(data: UniLogBackupPolicyBody) {\r\n  return axiosLOG.post('/backup/newPolicy', data);\r\n}\r\n\r\nexport function getBackupIndexList(from: number, indexName: string) {\r\n  return axiosLOG\r\n    .post('/backup/index_list', { from, indexName })\r\n    .then(res => JSON.parse(res.data.entity).data as UniLogBackupIndexItem[]);\r\n}\r\n\r\nexport function backupIndexDelete(indexName?: string, policyName?: string) {\r\n  if (!indexName) return Promise.reject();\r\n  if (!policyName) return Promise.reject();\r\n  return axiosLOG.post('/backup/delIndex', { indexName, policyName });\r\n}\r\n\r\nexport function backupIndexEdit(data: UniLogBackupIndexBody) {\r\n  return axiosLOG.post('/backup/newIndex', data);\r\n}\r\n","import React, { createContext, ReactNode, useContext, useState } from 'react';\r\n\r\nimport {\r\n  MainAccessType,\r\n  SubAccessType,\r\n  useAccessLevel\r\n} from 'utils/accessLevel';\r\nimport { checkUUID } from 'utils/api/unilog';\r\nimport { UniLogAccessLevelInfo } from 'utils/api/unilog/model';\r\nimport { SetState } from 'utils/types';\r\n\r\ntype GetAccessLevel = (\r\n  type: SubAccessType\r\n) => { read: boolean; write: boolean };\r\n\r\ninterface ContextProps {\r\n  hasBackend: boolean;\r\n  isLoggedIn: boolean;\r\n  setIsLoggedIn: SetState<boolean>;\r\n  isLocal: boolean;\r\n  setIsLocal: SetState<boolean>;\r\n  accessLevels: UniLogAccessLevelInfo[];\r\n  groupID: number;\r\n  setGroupID: SetState<number>;\r\n  setAccessLevels: SetState<UniLogAccessLevelInfo[]>;\r\n  getAccessLevel: GetAccessLevel;\r\n  isMainTitleReadable: (type: MainAccessType) => boolean;\r\n}\r\nconst GlobalStateContext = createContext({} as ContextProps);\r\n\r\ninterface ProviderProps {\r\n  hasBackend: boolean;\r\n  children: ReactNode;\r\n}\r\nexport function GlobalStateProvider(props: ProviderProps) {\r\n  const { hasBackend, children } = props;\r\n  const [isLoggedIn, setIsLoggedIn] = useState(hasBackend ? checkUUID() : true);\r\n  const [isLocal, setIsLocal] = useState(false);\r\n  const [groupID, setGroupID] = useState(0);\r\n\r\n  const {\r\n    accessLevels,\r\n    setAccessLevels,\r\n    getAccessLevel,\r\n    isMainTitleReadable\r\n  } = useAccessLevel(hasBackend);\r\n\r\n  return (\r\n    <GlobalStateContext.Provider\r\n      value={{\r\n        hasBackend,\r\n        isLoggedIn,\r\n        isLocal,\r\n        setIsLocal,\r\n        accessLevels,\r\n        setIsLoggedIn,\r\n        setAccessLevels,\r\n        getAccessLevel,\r\n        groupID,\r\n        setGroupID,\r\n        isMainTitleReadable\r\n      }}\r\n    >\r\n      {children}\r\n    </GlobalStateContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useGlobalState() {\r\n  return useContext(GlobalStateContext);\r\n}\r\n","import React, { useState } from 'react';\r\nimport {\r\n  EuiButton,\r\n  EuiFieldPassword,\r\n  EuiFieldText,\r\n  EuiForm,\r\n  EuiFormRow,\r\n  EuiPage,\r\n  EuiPageBody,\r\n  EuiPageContent,\r\n  EuiPageContentBody,\r\n  EuiPageContentHeader,\r\n  EuiPageContentHeaderSection,\r\n  EuiTitle\r\n} from '@elastic/eui';\r\nimport { useForm } from 'react-hook-form';\r\n\r\nimport { useGlobalState } from 'contexts/GlobalStateContext';\r\nimport { login } from 'utils/api/unilog';\r\nimport { UniLogLoginData } from 'utils/api/unilog/model';\r\nimport { ApiError } from 'utils/api';\r\nimport { useGlobalUI } from 'contexts/GlobalUIContext';\r\n\r\nexport default function Login() {\r\n  const { register, handleSubmit, errors } = useForm<UniLogLoginData>({\r\n    defaultValues: {\r\n      username: process.env.NODE_ENV === 'development' ? 'elkadmin' : '',\r\n      password: process.env.NODE_ENV === 'development' ? '1qaz@WSX3edc' : ''\r\n    }\r\n  });\r\n  const { submitting, onSubmit } = useLoginForm();\r\n\r\n  return (\r\n    <EuiPage style={{ height: '100vh' }}>\r\n      <EuiPageBody component=\"div\">\r\n        <EuiPageContent verticalPosition=\"center\" horizontalPosition=\"center\">\r\n          <EuiPageContentHeader>\r\n            <EuiPageContentHeaderSection style={{ width: '100%' }}>\r\n              <EuiTitle size=\"l\">\r\n                <h1 style={{ textAlign: 'center' }}>UNILOG</h1>\r\n              </EuiTitle>\r\n            </EuiPageContentHeaderSection>\r\n          </EuiPageContentHeader>\r\n          <EuiPageContentBody>\r\n            <EuiForm component=\"form\" onSubmit={handleSubmit(onSubmit)}>\r\n              <EuiFormRow\r\n                label=\"帳號\"\r\n                isInvalid={Boolean(errors.username)}\r\n                error={errors.username?.message}\r\n              >\r\n                <EuiFieldText\r\n                  name=\"username\"\r\n                  inputRef={register({ required: '不能為空' })}\r\n                  icon=\"user\"\r\n                  compressed\r\n                  disabled={submitting}\r\n                  isInvalid={Boolean(errors.username)}\r\n                />\r\n              </EuiFormRow>\r\n              <EuiFormRow\r\n                label=\"密碼\"\r\n                isInvalid={Boolean(errors.password)}\r\n                error={errors.password?.message}\r\n              >\r\n                <EuiFieldPassword\r\n                  name=\"password\"\r\n                  inputRef={register({ required: '不能為空' })}\r\n                  compressed\r\n                  disabled={submitting}\r\n                  isInvalid={Boolean(errors.password)}\r\n                />\r\n              </EuiFormRow>\r\n              <EuiButton\r\n                type=\"submit\"\r\n                size=\"s\"\r\n                fullWidth\r\n                fill\r\n                isLoading={submitting}\r\n              >\r\n                登入\r\n              </EuiButton>\r\n            </EuiForm>\r\n          </EuiPageContentBody>\r\n        </EuiPageContent>\r\n      </EuiPageBody>\r\n    </EuiPage>\r\n  );\r\n}\r\n\r\nfunction useLoginForm() {\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const { setIsLoggedIn } = useGlobalState();\r\n  const { toast } = useGlobalUI();\r\n\r\n  const onSubmit = (loginData: UniLogLoginData) => {\r\n    setSubmitting(true);\r\n    login(loginData)\r\n      .then(() => setIsLoggedIn(true))\r\n      .catch((err: ApiError) => {\r\n        if (err.status === 401) {\r\n          toast.addToast('error', '帳號或密碼錯誤');\r\n        } else {\r\n          toast.addToast('error', err.message);\r\n        }\r\n        setSubmitting(false);\r\n      });\r\n  };\r\n\r\n  return { submitting, onSubmit };\r\n}\r\n","import React, { ReactNode, useEffect } from 'react';\r\nimport { EuiPage, EuiPageBody, EuiPageHeader, EuiTitle } from '@elastic/eui';\r\n\r\ninterface Props {\r\n  title: ReactNode;\r\n  children?: ReactNode;\r\n}\r\nexport default function PageLayout(props: Props) {\r\n  const { title, children } = props;\r\n\r\n  useEffect(() => {\r\n    window.scrollTo({ top: 0 });\r\n  }, []);\r\n\r\n  return (\r\n    <EuiPage className=\"euiNavDrawerPage\">\r\n      <EuiPageBody className=\"euiNavDrawerPage__pageBody\">\r\n        <EuiPageHeader>\r\n          <EuiTitle size=\"l\">\r\n            <h1>{title}</h1>\r\n          </EuiTitle>\r\n        </EuiPageHeader>\r\n        {children}\r\n      </EuiPageBody>\r\n    </EuiPage>\r\n  );\r\n}\r\n","import React, { ReactNode } from 'react';\r\nimport { EuiPageContent } from '@elastic/eui';\r\nimport PageLayout from './PageLayout';\r\n\r\ninterface Props {\r\n  title: ReactNode;\r\n  children?: ReactNode;\r\n  maxBodyWidth?: string;\r\n}\r\nexport default function ContentLayout(props: Props) {\r\n  const { title, maxBodyWidth, children } = props;\r\n\r\n  return (\r\n    <PageLayout title={title}>\r\n      {children && (\r\n        <EuiPageContent style={{ maxWidth: maxBodyWidth ?? 'auto' }}>\r\n          {children}\r\n        </EuiPageContent>\r\n      )}\r\n    </PageLayout>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport {\r\n  EuiButton,\r\n  EuiFieldText,\r\n  EuiForm,\r\n  EuiFormRow,\r\n  EuiSpacer,\r\n  EuiFlexGroup,\r\n  EuiFlexItem\r\n} from '@elastic/eui';\r\nimport { useForm } from 'react-hook-form';\r\n\r\nimport ContentLayout from 'layouts/ContentLayout';\r\nimport { editProfile, getCurrentAccount } from 'utils/api/unilog';\r\nimport { useGlobalUI } from 'contexts/GlobalUIContext';\r\nimport { FormReset } from 'utils/types';\r\nimport { UniLogProfileBody } from 'utils/api/unilog/model';\r\n\r\nexport default function EditProfile() {\r\n  const { register, handleSubmit, reset } = useForm<UniLogProfileBody>();\r\n  const { loading, submitting, onSubmit } = useEditProfile(reset);\r\n\r\n  return (\r\n    <ContentLayout title=\"編輯基本資料\" maxBodyWidth=\"400px\">\r\n      <EuiForm component=\"form\" onSubmit={handleSubmit(onSubmit)}>\r\n        <EuiFlexGroup>\r\n          <EuiFlexItem grow={2}>\r\n            <EuiFormRow label=\"姓氏\">\r\n              <EuiFieldText\r\n                name=\"userLastName\"\r\n                inputRef={register}\r\n                isLoading={loading}\r\n                disabled={loading || submitting}\r\n              />\r\n            </EuiFormRow>\r\n          </EuiFlexItem>\r\n          <EuiFlexItem grow={3}>\r\n            <EuiFormRow label=\"名字\">\r\n              <EuiFieldText\r\n                name=\"userFirstName\"\r\n                inputRef={register}\r\n                isLoading={loading}\r\n                disabled={loading || submitting}\r\n              />\r\n            </EuiFormRow>\r\n          </EuiFlexItem>\r\n        </EuiFlexGroup>\r\n        <EuiSpacer size=\"m\" />\r\n        <EuiFormRow label=\"電子信箱\">\r\n          <EuiFieldText\r\n            type=\"email\"\r\n            name=\"userEmail\"\r\n            inputRef={register}\r\n            isLoading={loading}\r\n            disabled={loading || submitting}\r\n          />\r\n        </EuiFormRow>\r\n        <EuiSpacer size=\"xl\" />\r\n        <EuiButton type=\"submit\" fill isLoading={submitting} disabled={loading}>\r\n          提交\r\n        </EuiButton>\r\n      </EuiForm>\r\n    </ContentLayout>\r\n  );\r\n}\r\n\r\nfunction useEditProfile(reset: FormReset<UniLogProfileBody>) {\r\n  const { toast } = useGlobalUI();\r\n  const [loading, setLoading] = useState(true);\r\n  const [submitting, setSubmitting] = useState(false);\r\n\r\n  const onSubmit = (profile: UniLogProfileBody) => {\r\n    setSubmitting(true);\r\n    editProfile(profile)\r\n      .then(() => toast.addToast('success', '修改基本資料成功'))\r\n      .catch(() => toast.addToast('error', '修改基本資料失敗'))\r\n      .finally(() => setSubmitting(false));\r\n  };\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    getCurrentAccount().then(res => {\r\n      reset({\r\n        userLastName: res.userLastName,\r\n        userFirstName: res.userFirstName,\r\n        userEmail: res.userEmail ?? ''\r\n      });\r\n      setLoading(false);\r\n    });\r\n  }, [reset]);\r\n\r\n  return { loading, submitting, onSubmit };\r\n}\r\n","import { EuiFieldPassword, EuiFormRow } from '@elastic/eui';\r\nimport React from 'react';\r\nimport { FieldError } from 'react-hook-form';\r\n\r\ninterface PasswordInputProps {\r\n  label: string;\r\n  name: string;\r\n  inputRef: (instance: HTMLInputElement | null) => void;\r\n  disabled: boolean;\r\n  error?: FieldError;\r\n}\r\nexport default function PasswordInput(props: PasswordInputProps) {\r\n  const { label, name, inputRef, disabled, error } = props;\r\n\r\n  return (\r\n    <EuiFormRow\r\n      label={label}\r\n      isInvalid={Boolean(error)}\r\n      error={error?.message || error?.type}\r\n      style={{ height: '70px' }}\r\n    >\r\n      <EuiFieldPassword\r\n        name={name}\r\n        type=\"dual\"\r\n        inputRef={inputRef}\r\n        disabled={disabled}\r\n        isInvalid={Boolean(error)}\r\n      />\r\n    </EuiFormRow>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { EuiButton, EuiForm, EuiSpacer } from '@elastic/eui';\r\n\r\nimport { useGlobalUI } from 'contexts/GlobalUIContext';\r\nimport ContentLayout from 'layouts/ContentLayout';\r\nimport PasswordInput from 'components/PasswordInput';\r\nimport { changePassword } from 'utils/api/unilog';\r\nimport { FormReset, FormSetError } from 'utils/types';\r\nimport { UniLogPasswordBody } from 'utils/api/unilog/model';\r\n\r\nexport default function ChangePassword() {\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    errors,\r\n    setError,\r\n    reset\r\n  } = useForm<UniLogPasswordBody>();\r\n  const { submitting, onSubmit } = useChangePwdForm(setError, reset);\r\n\r\n  return (\r\n    <ContentLayout title=\"修改密碼\" maxBodyWidth=\"360px\">\r\n      <EuiForm component=\"form\" onSubmit={handleSubmit(onSubmit)}>\r\n        <PasswordInput\r\n          label=\"舊密碼\"\r\n          name=\"current\"\r\n          inputRef={register({ required: true })}\r\n          error={errors.current}\r\n          disabled={submitting}\r\n        />\r\n        <PasswordInput\r\n          label=\"新密碼\"\r\n          name=\"new\"\r\n          inputRef={register({ required: true })}\r\n          error={errors.new}\r\n          disabled={submitting}\r\n        />\r\n        <PasswordInput\r\n          label=\"確認密碼\"\r\n          name=\"confirm\"\r\n          inputRef={register({ required: true })}\r\n          error={errors.confirm}\r\n          disabled={submitting}\r\n        />\r\n        <EuiSpacer />\r\n        <EuiButton type=\"submit\" fill isLoading={submitting}>\r\n          提交\r\n        </EuiButton>\r\n      </EuiForm>\r\n    </ContentLayout>\r\n  );\r\n}\r\n\r\nfunction useChangePwdForm(\r\n  setError: FormSetError,\r\n  reset: FormReset<UniLogPasswordBody>\r\n) {\r\n  const { toast } = useGlobalUI();\r\n  const [submitting, setSubmitting] = useState(false);\r\n\r\n  const checkPasswords = (passwords: UniLogPasswordBody): boolean => {\r\n    let hasError = false;\r\n    if (passwords.new === passwords.current) {\r\n      setError('new', { type: 'validate', message: '新密碼不可和舊密碼相同' });\r\n      hasError = true;\r\n    }\r\n    if (passwords.confirm !== passwords.new) {\r\n      setError('confirm', { type: 'validate', message: '確認密碼錯誤' });\r\n      hasError = true;\r\n    }\r\n    return hasError;\r\n  };\r\n\r\n  const onSubmit = (passwords: UniLogPasswordBody) => {\r\n    const hasError = checkPasswords(passwords);\r\n    if (hasError) return;\r\n\r\n    setSubmitting(true);\r\n    changePassword(passwords)\r\n      .then(() => toast.addToast('success', '修改密碼成功'))\r\n      .catch(() => toast.addToast('error', '修改密碼失敗'))\r\n      .finally(() => {\r\n        reset({ current: '', new: '', confirm: '' });\r\n        setSubmitting(false);\r\n      });\r\n  };\r\n\r\n  return { submitting, onSubmit };\r\n}\r\n","import React, { ChangeEvent, useState } from 'react';\r\nimport {\r\n  EuiButton,\r\n  EuiFieldSearch,\r\n  EuiFlexGroup,\r\n  EuiSpacer\r\n} from '@elastic/eui';\r\nimport { useGlobalState } from 'contexts/GlobalStateContext';\r\nimport { SubAccessType } from 'utils/accessLevel';\r\n\r\ninterface Props {\r\n  loading: boolean;\r\n  inputValue: string;\r\n  onInputChange: (ev: ChangeEvent<HTMLInputElement>) => void;\r\n  onAddButtonClick: () => void;\r\n}\r\n\r\nexport default function ControlBar(props: Props) {\r\n  const { loading, inputValue, onInputChange, onAddButtonClick } = props;\r\n  const { getAccessLevel } = useGlobalState();\r\n\r\n  const isWrite = getAccessLevel(SubAccessType.User).write;\r\n\r\n  return (\r\n    <>\r\n      <EuiFlexGroup justifyContent=\"flexEnd\" style={{ margin: 0 }}>\r\n        <div style={{ display: 'flex' }}>\r\n          <EuiFieldSearch\r\n            value={inputValue}\r\n            onChange={onInputChange}\r\n            placeholder=\"搜尋\"\r\n            compressed\r\n            isClearable\r\n            disabled={loading}\r\n            style={{ width: '230px' }}\r\n          />\r\n          {isWrite && (\r\n            <EuiButton\r\n              iconType=\"plusInCircle\"\r\n              size=\"s\"\r\n              disabled={loading}\r\n              style={{ marginLeft: '10px' }}\r\n              onClick={onAddButtonClick}\r\n            >\r\n              新增\r\n            </EuiButton>\r\n          )}\r\n        </div>\r\n      </EuiFlexGroup>\r\n      <EuiSpacer size=\"m\" />\r\n    </>\r\n  );\r\n}\r\n\r\nexport function useSearchInput() {\r\n  const [value, setValue] = useState('');\r\n\r\n  const onChange = (ev: ChangeEvent<HTMLInputElement>) => {\r\n    const { value } = ev.target;\r\n    setValue(value);\r\n  };\r\n\r\n  return { value, onChange };\r\n}\r\n","import React, { useCallback, useState } from 'react';\r\nimport { Direction, EuiBasicTable, EuiBasicTableColumn } from '@elastic/eui';\r\nimport { Criteria } from '@elastic/eui/src/components/basic_table/basic_table';\r\nimport { Pagination } from '@elastic/eui/src/components/basic_table/pagination_bar';\r\n\r\ninterface Props {\r\n  loading: boolean;\r\n  columns: EuiBasicTableColumn<any>[];\r\n  items: any[];\r\n  pagination: Pagination;\r\n  sort: Sorting;\r\n  onTableChange: (value: Criteria<any>) => void;\r\n  onSelectionChange: (selection: any[]) => void;\r\n}\r\n\r\nexport interface Sorting {\r\n  field: string;\r\n  direction: Direction;\r\n}\r\n\r\nexport default function ManagementTable(props: Props) {\r\n  const { loading, columns, items, pagination, sort, onTableChange } = props;\r\n\r\n  return (\r\n    <EuiBasicTable\r\n      loading={loading}\r\n      sorting={{ sort: sort }}\r\n      items={items}\r\n      columns={columns}\r\n      pagination={pagination}\r\n      onChange={onTableChange}\r\n    />\r\n  );\r\n}\r\n\r\nexport function useManagementTable() {\r\n  const [pagination, setPagination] = useState<Pagination>({\r\n    pageIndex: 0,\r\n    pageSize: 5,\r\n    totalItemCount: 5,\r\n    pageSizeOptions: [5, 10, 20]\r\n  });\r\n\r\n  const [sort, setSort] = useState<{ field: string; direction: Direction }>({\r\n    field: '',\r\n    direction: 'asc'\r\n  });\r\n\r\n  const onTableChange = (value: Criteria<any>) => {\r\n    setPagination(prev => ({\r\n      ...prev,\r\n      pageIndex: value.page?.index ?? prev.pageIndex,\r\n      pageSize: value.page?.size ?? prev.pageSize\r\n    }));\r\n\r\n    if (!value.sort) return;\r\n    setSort({\r\n      field: String(value.sort?.field),\r\n      direction: value.sort?.direction\r\n    });\r\n  };\r\n\r\n  const setTotal = useCallback((total: number) => {\r\n    setPagination(prev => ({ ...prev, totalItemCount: total }));\r\n  }, []);\r\n\r\n  return { pagination, sort, onTableChange, setTotal };\r\n}\r\n","import {\r\n  EuiOverlayMask,\r\n  EuiModal,\r\n  EuiModalHeader,\r\n  EuiModalHeaderTitle,\r\n  EuiModalBody,\r\n  EuiModalFooter,\r\n  EuiForm\r\n} from '@elastic/eui';\r\nimport React, { FormEventHandler, ReactNode, useState } from 'react';\r\n\r\ninterface Props {\r\n  active: boolean;\r\n  header: ReactNode;\r\n  footer?: ReactNode;\r\n  width?: string;\r\n  children: ReactNode;\r\n  onClose: () => void;\r\n  onSubmit?: () => void;\r\n}\r\n\r\nexport default function Modal(props: Props) {\r\n  const { active, header, footer, width, children, onClose, onSubmit } = props;\r\n\r\n  if (!active) return null;\r\n\r\n  const handleSubmit: FormEventHandler<HTMLFormElement> = ev => {\r\n    ev.preventDefault();\r\n    onSubmit?.();\r\n  };\r\n\r\n  return (\r\n    <EuiOverlayMask>\r\n      <EuiModal\r\n        onClose={onClose}\r\n        style={width ? { width, minWidth: 'auto' } : {}}\r\n      >\r\n        <EuiForm component=\"form\" onSubmit={handleSubmit}>\r\n          <EuiModalHeader>\r\n            <EuiModalHeaderTitle>{header}</EuiModalHeaderTitle>\r\n          </EuiModalHeader>\r\n          <EuiModalBody>{children}</EuiModalBody>\r\n          {footer && <EuiModalFooter>{footer}</EuiModalFooter>}\r\n        </EuiForm>\r\n      </EuiModal>\r\n    </EuiOverlayMask>\r\n  );\r\n}\r\n\r\nexport function useModal() {\r\n  const [active, setActive] = useState(false);\r\n\r\n  const open = (): any => {\r\n    setActive(true);\r\n  };\r\n\r\n  const close = (): any => {\r\n    setActive(false);\r\n  };\r\n\r\n  const toggle = (): any => {\r\n    setActive(prev => !prev);\r\n  };\r\n\r\n  return { active, open, close, toggle };\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport {\r\n  EuiForm,\r\n  EuiFormRow,\r\n  EuiSelect,\r\n  EuiSpacer,\r\n  EuiButton,\r\n  EuiSelectOption,\r\n  EuiFieldText,\r\n  EuiFlexGroup,\r\n  EuiFlexItem,\r\n  EuiSwitch,\r\n  EuiSwitchEvent\r\n} from '@elastic/eui';\r\nimport { UseFormMethods } from 'react-hook-form';\r\nimport Modal, { useModal } from 'components/Modal';\r\nimport { useGlobalState } from 'contexts/GlobalStateContext';\r\nimport { getGroups, getAccount } from 'utils/api/unilog';\r\nimport { UniLogAccountInfo } from 'utils/api/unilog/model';\r\n\r\nexport type FormMode = 'add' | 'edit';\r\n\r\ninterface Props {\r\n  active: boolean;\r\n  mode: FormMode;\r\n  loading: boolean;\r\n  editId: string;\r\n  groups: EuiSelectOption[];\r\n  accountInfo?: UniLogAccountInfo;\r\n  form: UseFormMethods<UniLogAccountInfo>;\r\n  onAddSubmit: (value: UniLogAccountInfo) => Promise<any>;\r\n  onEditSubmit: (id: string, value: UniLogAccountInfo) => Promise<any>;\r\n  onClose: () => void;\r\n}\r\nexport default function EditFormModal(props: Props) {\r\n  const {\r\n    active,\r\n    mode,\r\n    loading,\r\n    editId,\r\n    groups,\r\n    accountInfo,\r\n    form,\r\n    onAddSubmit,\r\n    onEditSubmit,\r\n    onClose\r\n  } = props;\r\n\r\n  const { isLocal } = useGlobalState();\r\n  const { register, handleSubmit } = form;\r\n  const alarmSwitch = useEuiSwitch(active, accountInfo?.isOnAlarm ?? false);\r\n  const [submitting, setSubmitting] = useState(false);\r\n\r\n  const onSubmit = (value: UniLogAccountInfo) => {\r\n    const submitValue: UniLogAccountInfo = {\r\n      ...value,\r\n      isOnAlarm: alarmSwitch.checked,\r\n      isDelete: false\r\n    };\r\n\r\n    setSubmitting(true);\r\n    if (mode === 'add') {\r\n      onAddSubmit(submitValue).finally(() => setSubmitting(false));\r\n    } else {\r\n      onEditSubmit(editId, submitValue).finally(() => setSubmitting(false));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      active={active}\r\n      header={(mode === 'add' ? '新增' : '編輯') + '使用者'}\r\n      width=\"400px\"\r\n      onClose={onClose}\r\n    >\r\n      <EuiForm component=\"form\" onSubmit={handleSubmit(onSubmit)}>\r\n        {mode === 'add' && (\r\n          <>\r\n            <EuiFormRow label=\"帳號\">\r\n              <EuiFieldText\r\n                name=\"userAccount\"\r\n                inputRef={register}\r\n                disabled={submitting}\r\n              />\r\n            </EuiFormRow>\r\n            <EuiSpacer />\r\n          </>\r\n        )}\r\n        {(isLocal || mode === 'add') && (\r\n          <EuiFormRow label=\"密碼\">\r\n            <EuiFieldText\r\n              name=\"mima\"\r\n              type=\"password\"\r\n              inputRef={register}\r\n              disabled={submitting}\r\n            />\r\n          </EuiFormRow>\r\n        )}\r\n        <EuiSpacer />\r\n        <EuiFormRow label=\"群組\">\r\n          <EuiSelect\r\n            name=\"groupId\"\r\n            inputRef={register}\r\n            options={groups}\r\n            defaultValue={accountInfo?.groupId.toString()}\r\n            disabled={loading || submitting}\r\n            isLoading={loading}\r\n          />\r\n        </EuiFormRow>\r\n        <EuiSpacer />\r\n        <EuiFlexGroup>\r\n          <EuiFlexItem grow={2}>\r\n            <EuiFormRow label=\"姓氏\">\r\n              <EuiFieldText\r\n                name=\"userLastName\"\r\n                inputRef={register}\r\n                defaultValue={accountInfo?.userLastName}\r\n                disabled={(mode === 'edit' && loading) || submitting}\r\n                isLoading={mode === 'edit' && loading}\r\n              />\r\n            </EuiFormRow>\r\n          </EuiFlexItem>\r\n          <EuiFlexItem grow={3}>\r\n            <EuiFormRow label=\"名字\">\r\n              <EuiFieldText\r\n                name=\"userFirstName\"\r\n                inputRef={register}\r\n                defaultValue={accountInfo?.userFirstName}\r\n                disabled={(mode === 'edit' && loading) || submitting}\r\n                isLoading={mode === 'edit' && loading}\r\n              />\r\n            </EuiFormRow>\r\n          </EuiFlexItem>\r\n        </EuiFlexGroup>\r\n        <EuiSpacer />\r\n        <EuiFormRow label=\"電子信箱\">\r\n          <EuiFieldText\r\n            name=\"userEmail\"\r\n            type=\"email\"\r\n            inputRef={register}\r\n            defaultValue={accountInfo?.userEmail}\r\n            disabled={(mode === 'edit' && loading) || submitting}\r\n            isLoading={mode === 'edit' && loading}\r\n          />\r\n        </EuiFormRow>\r\n        <EuiSpacer />\r\n        <EuiSwitch\r\n          label=\"告警\"\r\n          checked={alarmSwitch.checked}\r\n          onChange={alarmSwitch.onChange}\r\n          disabled={(mode === 'edit' && loading) || submitting}\r\n        />\r\n        <EuiSpacer size=\"xl\" />\r\n        <EuiFormRow style={{ float: 'right' }}>\r\n          <EuiButton\r\n            type=\"submit\"\r\n            fill\r\n            disabled={loading}\r\n            isLoading={submitting}\r\n          >\r\n            提交\r\n          </EuiButton>\r\n        </EuiFormRow>\r\n      </EuiForm>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nexport function useEditFormModal(form: UseFormMethods<UniLogAccountInfo>) {\r\n  const { open, close, ...others } = useModal();\r\n  const [mode, setMode] = useState<FormMode>('add');\r\n  const [id, setId] = useState('');\r\n  const [groups, setGroups] = useState<EuiSelectOption[]>([]);\r\n  const [accountInfo, setAccountInfo] = useState<UniLogAccountInfo>();\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const openAddFormModal = () => {\r\n    setMode('add');\r\n    open();\r\n    setLoading(true);\r\n    getGroups().then(res => {\r\n      setGroups(res);\r\n      setLoading(false);\r\n    });\r\n  };\r\n\r\n  const openEditFormModal = (id: string) => {\r\n    setMode('edit');\r\n    setId(id);\r\n    open();\r\n    setLoading(true);\r\n    Promise.all([getGroups(), getAccount(id)]).then(res => {\r\n      setGroups(res[0]);\r\n      setAccountInfo(res[1]);\r\n      form.reset(res[1]);\r\n      setLoading(false);\r\n    });\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setAccountInfo(undefined);\r\n    form.reset({\r\n      uuid: '',\r\n      groupId: 1,\r\n      userLastName: '',\r\n      userFirstName: '',\r\n      userEmail: '',\r\n      isOnAlarm: false\r\n    });\r\n    close();\r\n  };\r\n\r\n  return {\r\n    ...others,\r\n    mode,\r\n    loading,\r\n    id,\r\n    groups,\r\n    accountInfo,\r\n    openAddFormModal,\r\n    openEditFormModal,\r\n    closeModal\r\n  };\r\n}\r\n\r\nfunction useEuiSwitch(active: boolean, defaultChecked: boolean) {\r\n  const [checked, setChecked] = useState(defaultChecked);\r\n\r\n  useEffect(() => {\r\n    if (active) {\r\n      setChecked(defaultChecked);\r\n    }\r\n  }, [active, defaultChecked]);\r\n\r\n  const onChange = (ev: EuiSwitchEvent) => {\r\n    const { checked } = ev.target;\r\n    setChecked(checked);\r\n  };\r\n\r\n  return { checked, onChange };\r\n}\r\n","import React, { useCallback, useEffect, useMemo, useState } from 'react';\r\nimport { Direction, EuiBasicTableColumn, EuiIcon } from '@elastic/eui';\r\nimport { Pagination } from '@elastic/eui/src/components/basic_table/pagination_bar';\r\nimport { useForm } from 'react-hook-form';\r\n\r\nimport { useGlobalState } from 'contexts/GlobalStateContext';\r\nimport { useGlobalUI } from 'contexts/GlobalUIContext';\r\nimport BaseContentLayout from 'layouts/ContentLayout';\r\nimport ControlBar, {\r\n  useSearchInput\r\n} from 'components/UserManagement/ControlBar';\r\nimport ManagementTable, {\r\n  useManagementTable\r\n} from 'components/UserManagement/ManagementTable';\r\nimport EditFormModal, {\r\n  useEditFormModal\r\n} from 'components/UserManagement/EditFormModal';\r\nimport {\r\n  addAccount,\r\n  deleteAccount,\r\n  editAccount,\r\n  getAccounts\r\n} from 'utils/api/unilog';\r\nimport { SubAccessType } from 'utils/accessLevel';\r\nimport { UniLogAccountInfo } from 'utils/api/unilog/model';\r\n\r\nexport default function UserManagement() {\r\n  const { pagination, sort, onTableChange } = useManagementTable();\r\n  const form = useForm<UniLogAccountInfo>();\r\n\r\n  const {\r\n    id,\r\n    openAddFormModal,\r\n    openEditFormModal,\r\n    closeModal,\r\n    ...formModalParas\r\n  } = useEditFormModal(form);\r\n\r\n  const {\r\n    loading,\r\n    columns,\r\n    dataItems,\r\n    addDataItem,\r\n    editDataItem,\r\n    setSelectedItems\r\n  } = useUserManagement(openEditFormModal, closeModal);\r\n\r\n  const { value, onChange } = useSearchInput();\r\n  const itemsOfPage = useItemsOfPage(dataItems, pagination, sort, value);\r\n\r\n  return (\r\n    <BaseContentLayout title=\"使用者管理\">\r\n      <ControlBar\r\n        loading={loading}\r\n        inputValue={value}\r\n        onInputChange={onChange}\r\n        onAddButtonClick={openAddFormModal}\r\n      />\r\n      <ManagementTable\r\n        loading={loading}\r\n        columns={columns}\r\n        items={itemsOfPage}\r\n        pagination={{ ...pagination, totalItemCount: dataItems.length }}\r\n        sort={sort}\r\n        onSelectionChange={setSelectedItems}\r\n        onTableChange={onTableChange}\r\n      />\r\n      <EditFormModal\r\n        {...formModalParas}\r\n        editId={id}\r\n        onClose={closeModal}\r\n        onAddSubmit={addDataItem}\r\n        onEditSubmit={editDataItem}\r\n        form={form}\r\n      />\r\n    </BaseContentLayout>\r\n  );\r\n}\r\n\r\n/** 使用者管理頁面主要功能 */\r\nfunction useUserManagement(openEditFormModal: any, closeModal: any) {\r\n  const { getAccessLevel } = useGlobalState();\r\n  const { confirmModal } = useGlobalUI();\r\n  const { toast } = useGlobalUI();\r\n  const [loading, setLoading] = useState(false);\r\n  const [dataItems, setDataItems] = useState<UniLogAccountInfo[]>([]);\r\n  const [selectedItems, setSelectedItems] = useState<UniLogAccountInfo[]>([]);\r\n\r\n  const isWrite = getAccessLevel(SubAccessType.User).write;\r\n\r\n  const updateDataItems = useCallback(() => {\r\n    setLoading(true);\r\n    getAccounts()\r\n      .then(res => {\r\n        setDataItems(res);\r\n      })\r\n      .finally(() => {\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  const addDataItem = (value: UniLogAccountInfo) => {\r\n    return addAccount(value)\r\n      .then(() => toast.addToast('success', '新增帳號成功'))\r\n      .catch(() => toast.addToast('error', '已有該帳號'))\r\n      .finally(() => {\r\n        closeModal();\r\n        updateDataItems();\r\n      });\r\n  };\r\n\r\n  const editDataItem = (id: string, value: UniLogAccountInfo) => {\r\n    return editAccount(id, value)\r\n      .then(() => toast.addToast('success', '編輯帳號成功'))\r\n      .catch(() => toast.addToast('error', '編輯帳號失敗'))\r\n      .finally(() => {\r\n        closeModal();\r\n        updateDataItems();\r\n      });\r\n  };\r\n\r\n  const deleteDataItem = useCallback(\r\n    (uuid: string) => {\r\n      confirmModal.close();\r\n      setLoading(true);\r\n      deleteAccount(uuid)\r\n        .then(() => toast.addToast('success', '刪除帳號成功'))\r\n        .catch(() => toast.addToast('error', '刪除帳號失敗'))\r\n        .finally(() => updateDataItems());\r\n    },\r\n    [confirmModal, toast, updateDataItems]\r\n  );\r\n\r\n  const columns = useMemo<EuiBasicTableColumn<any>[]>(\r\n    () => [\r\n      {\r\n        name: '姓名',\r\n        sortable: () => true,\r\n        render: (value: UniLogAccountInfo) =>\r\n          `${value.userLastName} ${value.userFirstName}`\r\n      },\r\n      {\r\n        field: 'groupCNName',\r\n        name: '群組',\r\n        sortable: true\r\n      },\r\n      {\r\n        name: '告警',\r\n        sortable: () => true,\r\n        render: (value: UniLogAccountInfo) =>\r\n          value.isOnAlarm ? <EuiIcon type=\"check\" /> : null\r\n      },\r\n      {\r\n        name: '動作',\r\n        actions: isWrite\r\n          ? [\r\n              {\r\n                name: 'edit',\r\n                description: '編輯',\r\n                type: 'icon',\r\n                icon: 'pencil',\r\n                enabled: () => !loading,\r\n                onClick: (value: UniLogAccountInfo) =>\r\n                  openEditFormModal(value.uuid)\r\n              },\r\n              {\r\n                name: 'delete',\r\n                description: '刪除',\r\n                type: 'icon',\r\n                icon: 'trash',\r\n                color: 'danger',\r\n                enabled: () => !loading,\r\n                onClick: (value: UniLogAccountInfo) =>\r\n                  confirmModal.open({\r\n                    title: `刪除使用者 ${value.userLastName} ${value.userFirstName}`,\r\n                    children: '已刪除的使用者無法還原，確定要刪除嗎？',\r\n                    buttonColor: 'danger',\r\n                    confirmButtonText: '刪除',\r\n                    cancelButtonText: '取消',\r\n                    onConfirm: () => deleteDataItem(value.uuid)\r\n                  })\r\n              }\r\n            ]\r\n          : []\r\n      }\r\n    ],\r\n    [confirmModal, deleteDataItem, isWrite, loading, openEditFormModal]\r\n  );\r\n\r\n  useEffect(() => {\r\n    updateDataItems();\r\n  }, [updateDataItems]);\r\n\r\n  return {\r\n    loading,\r\n    columns,\r\n    dataItems,\r\n    showDeleteButton: selectedItems.length > 0,\r\n    addDataItem,\r\n    editDataItem,\r\n    deleteDataItem,\r\n    setSelectedItems\r\n  };\r\n}\r\n\r\n/** 當頁顯示的資料 */\r\nfunction useItemsOfPage(\r\n  dataItems: UniLogAccountInfo[],\r\n  pagination: Pagination,\r\n  sort: { field: string; direction: Direction },\r\n  value: string\r\n) {\r\n  const itemsOfPage = useMemo(() => {\r\n    let temp = JSON.parse(JSON.stringify(dataItems)) as UniLogAccountInfo[];\r\n    temp = temp\r\n      .filter(item => item.account !== 'elkadmin')\r\n      .filter(\r\n        item =>\r\n          (item.userLastName + item.userFirstName).includes(value) ||\r\n          item.groupCNName?.includes(value)\r\n      );\r\n    temp = temp.sort((a, b) => {\r\n      const _a = a[sortFields[sort.field]] as any;\r\n      const _b = b[sortFields[sort.field]] as any;\r\n      let result = _a > _b ? 1 : -1;\r\n      result *= sort.direction === 'asc' ? 1 : -1;\r\n      return result;\r\n    });\r\n\r\n    const start = pagination.pageSize * pagination.pageIndex;\r\n    const end = start + pagination.pageSize;\r\n    return temp.slice(start, end);\r\n  }, [\r\n    dataItems,\r\n    pagination.pageIndex,\r\n    pagination.pageSize,\r\n    sort.direction,\r\n    sort.field,\r\n    value\r\n  ]);\r\n\r\n  return itemsOfPage;\r\n}\r\n\r\nconst sortFields: { [key: string]: keyof UniLogAccountInfo } = {\r\n  姓名: 'userLastName',\r\n  groupCNName: 'groupId',\r\n  告警: 'isOnAlarm'\r\n};\r\n","import React, { ChangeEvent, useEffect, useState } from 'react';\r\nimport {\r\n  EuiBasicTable,\r\n  EuiBasicTableColumn,\r\n  EuiButton,\r\n  EuiCheckbox,\r\n  EuiFlexGroup,\r\n  EuiFormRow,\r\n  EuiIcon,\r\n  EuiSelect,\r\n  EuiSelectOption,\r\n  EuiSpacer\r\n} from '@elastic/eui';\r\n\r\nimport { useGlobalUI } from 'contexts/GlobalUIContext';\r\nimport { useGlobalState } from 'contexts/GlobalStateContext';\r\nimport BaseContentLayout from 'layouts/ContentLayout';\r\nimport { SubAccessType } from 'utils/accessLevel';\r\nimport { SetState } from 'utils/types';\r\nimport { getAccessLevel, getGroups, updateAccessLevel } from 'utils/api/unilog';\r\nimport { UniLogAccessLevelInfo } from 'utils/api/unilog/model';\r\n\r\nexport default function AuthorityManagement() {\r\n  const { groupID, getAccessLevel, setAccessLevels } = useGlobalState();\r\n  const isWrite = getAccessLevel(SubAccessType.Authority).write;\r\n\r\n  const {\r\n    groups,\r\n    groupId,\r\n    onSelectChange,\r\n    loading: selectLoading\r\n  } = useGroups();\r\n\r\n  const {\r\n    groupAccessLevel,\r\n    setGroupAccessLevel,\r\n    loading: tableLoading\r\n  } = useGroupAccessLevel(groupId);\r\n\r\n  const { submitting, onSubmit } = useAuthManagementForm(\r\n    groupID,\r\n    groupAccessLevel,\r\n    setAccessLevels\r\n  );\r\n\r\n  const loading = selectLoading || tableLoading || submitting;\r\n  const { columns } = useColumns(setGroupAccessLevel, isWrite, loading);\r\n\r\n  return (\r\n    <BaseContentLayout title=\"權限管理\">\r\n      <EuiFlexGroup justifyContent=\"flexEnd\">\r\n        <EuiFormRow style={{ width: '200px' }}>\r\n          <EuiSelect\r\n            options={groups}\r\n            value={groupId}\r\n            onChange={onSelectChange}\r\n            isLoading={selectLoading}\r\n            disabled={tableLoading || submitting}\r\n          />\r\n        </EuiFormRow>\r\n      </EuiFlexGroup>\r\n      <EuiSpacer />\r\n      <EuiBasicTable\r\n        items={groupAccessLevel}\r\n        columns={columns}\r\n        loading={tableLoading}\r\n      />\r\n      {isWrite && (\r\n        <>\r\n          <EuiSpacer size=\"xl\" />\r\n          <EuiFlexGroup justifyContent=\"flexEnd\">\r\n            <EuiButton\r\n              fill\r\n              isLoading={submitting}\r\n              disabled={selectLoading || tableLoading}\r\n              onClick={onSubmit}\r\n            >\r\n              提交\r\n            </EuiButton>\r\n          </EuiFlexGroup>\r\n        </>\r\n      )}\r\n    </BaseContentLayout>\r\n  );\r\n}\r\n\r\n/** 取得Groups資訊 */\r\nfunction useGroups() {\r\n  const [groups, setGroups] = useState<EuiSelectOption[]>([]);\r\n  const [groupId, setGroupId] = useState(-1);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const onSelectChange = (ev: ChangeEvent<HTMLSelectElement>) => {\r\n    const { value } = ev.target;\r\n    setGroupId(parseInt(value));\r\n  };\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    getGroups()\r\n      .then(res => {\r\n        setGroups(res);\r\n        setGroupId(res[0].value as number);\r\n      })\r\n      .finally(() => {\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  return { groups, groupId, loading, onSelectChange };\r\n}\r\n\r\n/** 取得指定Group的Access Level */\r\nfunction useGroupAccessLevel(groupId: number) {\r\n  const [groupAccessLevel, setGroupAccessLevel] = useState<\r\n    UniLogAccessLevelInfo[]\r\n  >([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (groupId < 0) return;\r\n    setLoading(true);\r\n    getAccessLevel(groupId)\r\n      .then(res => {\r\n        setGroupAccessLevel(res);\r\n      })\r\n      .finally(() => {\r\n        setLoading(false);\r\n      });\r\n  }, [groupId]);\r\n\r\n  return { groupAccessLevel, setGroupAccessLevel, loading };\r\n}\r\n\r\n/** Table Columns */\r\nfunction useColumns(\r\n  setGroupAccessLevel: SetState<UniLogAccessLevelInfo[]>,\r\n  isWrite: boolean,\r\n  submitting: boolean\r\n) {\r\n  const setData = (value: UniLogAccessLevelInfo, key: string) => {\r\n    setGroupAccessLevel(prev =>\r\n      prev.map(item =>\r\n        item.accessLevelId !== value.accessLevelId\r\n          ? item\r\n          : { ...value, [key]: !(value as any)[key] }\r\n      )\r\n    );\r\n  };\r\n\r\n  const columns: EuiBasicTableColumn<UniLogAccessLevelInfo>[] = [\r\n    {\r\n      field: 'mainTitleName',\r\n      name: '主標題名稱'\r\n    },\r\n    {\r\n      field: 'subTitleName',\r\n      name: '子標題名稱'\r\n    },\r\n    {\r\n      name: '讀取',\r\n      render: (value: UniLogAccessLevelInfo) =>\r\n        isWrite ? (\r\n          <EuiCheckbox\r\n            id=\"isRead\"\r\n            checked={value.isRead}\r\n            disabled={submitting}\r\n            onChange={() => setData(value, 'isRead')}\r\n            compressed\r\n          />\r\n        ) : value.isRead ? (\r\n          <EuiIcon type=\"check\" />\r\n        ) : null\r\n    },\r\n    {\r\n      name: '寫入',\r\n      render: (value: UniLogAccessLevelInfo) =>\r\n        isWrite ? (\r\n          <EuiCheckbox\r\n            id=\"isWrite\"\r\n            checked={value.isWrite}\r\n            disabled={submitting}\r\n            onChange={() => setData(value, 'isWrite')}\r\n            compressed\r\n          />\r\n        ) : value.isWrite ? (\r\n          <EuiIcon type=\"check\" />\r\n        ) : null\r\n    }\r\n  ];\r\n\r\n  return { columns };\r\n}\r\n\r\n/** 提交表單 */\r\nfunction useAuthManagementForm(\r\n  groupID: number,\r\n  groupAccessLevel: UniLogAccessLevelInfo[],\r\n  setAccessLevels: SetState<UniLogAccessLevelInfo[]>\r\n) {\r\n  const { toast } = useGlobalUI();\r\n  const [submitting, setSubmitting] = useState(false);\r\n\r\n  const onSubmit = async () => {\r\n    setSubmitting(true);\r\n    try {\r\n      await updateAccessLevel(groupAccessLevel);\r\n      const accessLevel = await getAccessLevel(groupID);\r\n      setAccessLevels(accessLevel);\r\n      toast.addToast('success', '修改權限成功');\r\n    } catch {\r\n      toast.addToast('error', '修改權限失敗');\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return { submitting, onSubmit };\r\n}\r\n","import React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport {\r\n  EuiIcon,\r\n  EuiListGroup,\r\n  EuiListGroupItem,\r\n  EuiPopover\r\n} from '@elastic/eui';\r\n\r\nconst DropButtonWrapper = styled.div`\r\n  text-align: center;\r\n  width: 40px;\r\n  line-height: 42px;\r\n  box-shadow: 0 1px 1px -1px rgba(152, 162, 179, 0.2),\r\n    0 3px 2px -2px rgba(152, 162, 179, 0.2),\r\n    inset 0 0 0 1px rgba(15, 39, 118, 0.1);\r\n  background: #fbfcfd;\r\n  cursor: pointer;\r\n  :hover {\r\n    background: #f5f7fa;\r\n  }\r\n`;\r\n\r\ninterface Props {\r\n  options?: { label: string; value: string }[];\r\n  onClick: (value: string[]) => void;\r\n}\r\nexport default ({ options, onClick }: Props) => {\r\n  const [active, setActive] = useState(false);\r\n\r\n  const onItemClick = (value: string) => {\r\n    const split = value.split('_');\r\n    if (split.length !== 2) {\r\n      console.error('value格式錯誤');\r\n      return;\r\n    }\r\n    onClick(split);\r\n    setActive(false);\r\n  };\r\n\r\n  return (\r\n    <EuiPopover\r\n      ownFocus\r\n      button={\r\n        <DropButtonWrapper onClick={() => setActive(prev => !prev)}>\r\n          <EuiIcon type=\"arrowDown\" color=\"#006BB4\" />\r\n        </DropButtonWrapper>\r\n      }\r\n      isOpen={active}\r\n      closePopover={() => setActive(false)}\r\n      anchorPosition=\"downRight\"\r\n    >\r\n      <EuiListGroup flush>\r\n        {(options ?? listItems).map(item => (\r\n          <EuiListGroupItem\r\n            onClick={() => onItemClick(item.value)}\r\n            label={item.label}\r\n            key={item.value}\r\n          />\r\n        ))}\r\n      </EuiListGroup>\r\n    </EuiPopover>\r\n  );\r\n};\r\n\r\nconst listItems = [\r\n  { label: '10分鐘', value: '10_m' },\r\n  { label: '30分鐘', value: '30_m' },\r\n  { label: '1小時', value: '1_h' },\r\n  { label: '12小時', value: '12_h' },\r\n  { label: '24小時', value: '24_h' },\r\n  { label: '1星期', value: '1_w' },\r\n  { label: '1個月', value: '1_M' },\r\n  { label: '3個月', value: '3_M' }\r\n];\r\n","import React, { CSSProperties, useState } from 'react';\nimport moment, { Moment, unitOfTime } from 'moment';\nimport 'moment/locale/zh-cn';\nimport { EuiDatePickerRange, EuiDatePicker } from '@elastic/eui';\nimport TimePickerDropButton from './TimePickerDropButton';\n\ninterface onChangeHandler {\n  (date: Moment): void;\n}\n\ninterface PropSchema {\n  startTime: Moment;\n  onChangeStart: onChangeHandler;\n  endTime: Moment;\n  onChangeEnd: onChangeHandler;\n  onListItemClick: (value: string[]) => void;\n  hideListBtn?: boolean;\n  style?: CSSProperties;\n}\nexport function TimeRangePicker(props: PropSchema) {\n  const {\n    startTime,\n    onChangeStart,\n    endTime,\n    onChangeEnd,\n    onListItemClick,\n    hideListBtn,\n    style\n  } = props;\n\n  return (\n    <div style={{ display: 'flex', ...style }}>\n      <EuiDatePickerRange\n        iconType=\"\"\n        startDateControl={\n          <EuiDatePicker\n            dateFormat=\"YYYY/MM/DD hh:mm A\"\n            selected={startTime}\n            onChange={onChangeStart}\n            startDate={startTime}\n            endDate={endTime}\n            isInvalid={startTime.unix() > endTime.unix()}\n            aria-label=\"起始時間\"\n            showTimeSelect\n            locale=\"zh-cn\"\n          />\n        }\n        endDateControl={\n          <EuiDatePicker\n            dateFormat=\"YYYY/MM/DD hh:mm A\"\n            selected={endTime}\n            onChange={onChangeEnd}\n            startDate={startTime}\n            endDate={endTime}\n            isInvalid={startTime.unix() > endTime.unix()}\n            aria-label=\"結束時間\"\n            showTimeSelect\n            locale=\"zh-cn\"\n          />\n        }\n      />\n      {!hideListBtn && <TimePickerDropButton onClick={onListItemClick} />}\n    </div>\n  );\n}\nexport default TimeRangePicker;\n\nexport function useTimeRangePicker() {\n  const [endTime, setEndTime] = useState<Moment>(moment());\n  const [startTime, setStartTime] = useState<Moment>(\n    endTime.clone().subtract(1, 'day')\n  );\n\n  const onChangeEnd: onChangeHandler = time => {\n    const newUnix = time.unix();\n    if (endTime.unix() !== newUnix) {\n      setEndTime(time);\n      if (startTime.unix() > newUnix) {\n        setStartTime(moment(newUnix, 'X'));\n      }\n    }\n  };\n\n  const onChangeStart: onChangeHandler = time => {\n    const newUnix = time.unix();\n    if (startTime.unix() !== newUnix) {\n      setStartTime(time);\n      if (newUnix > endTime.unix()) {\n        setEndTime(moment(newUnix, 'X'));\n      }\n    }\n  };\n\n  const onListItemClick = (value: string[]) => {\n    const now = moment();\n    setEndTime(now);\n    setStartTime(\n      now.clone().subtract(value[0], value[1] as unitOfTime.DurationConstructor)\n    );\n  };\n\n  return {\n    startTime,\n    onChangeStart,\n    endTime,\n    onChangeEnd,\n    onListItemClick\n  };\n}\n","import React from 'react';\nimport { EuiPageContentBody, EuiSpacer, EuiFormRow } from '@elastic/eui';\nimport { Moment } from 'moment';\n\nimport ContentLayout from './ContentLayout';\nimport TimeRangePicker from '../components/TimeRangePicker';\n\ninterface PropSchema {\n  title: React.ReactNode;\n  startTime: Moment;\n  onChangeStart: React.Dispatch<Moment>;\n  endTime: Moment;\n  onChangeEnd: React.Dispatch<Moment>;\n  onListItemClick: (value: string[]) => void;\n  children: React.ReactNode;\n}\nexport function DashboardLayout(props: PropSchema) {\n  return (\n    <ContentLayout title={props.title}>\n      <EuiPageContentBody>\n        <EuiFormRow label=\"時間起迄\">\n          <TimeRangePicker\n            startTime={props.startTime}\n            onChangeStart={props.onChangeStart}\n            endTime={props.endTime}\n            onChangeEnd={props.onChangeEnd}\n            onListItemClick={props.onListItemClick}\n          />\n        </EuiFormRow>\n        <EuiSpacer size=\"xl\" />\n        {props.children}\n      </EuiPageContentBody>\n    </ContentLayout>\n  );\n}\nexport default DashboardLayout;\n","import React from 'react';\nimport {\n  Chart,\n  Settings,\n  Axis,\n  BarSeries,\n  ScaleType,\n  timeFormatter,\n} from '@elastic/charts';\n\nexport interface DataSchema {\n  time: number;\n  value: number;\n}\n\ninterface PropSchema {\n  itemName: string;\n  width?: number;\n  height?: number;\n  data: DataSchema[];\n  timeFormat: string;\n}\nexport function SingleItemTimeBarChart(props: PropSchema) {\n  return (\n    <Chart size={{\n      width: props.width,\n      height: props.height,\n    }}>\n      <Settings\n        showLegend={true}\n        legendPosition=\"right\"/>\n      <BarSeries\n        id=\"status\"\n        name={props.itemName}\n        data={props.data}\n        xAccessor={'time'}\n        yAccessors={['value']}\n        xScaleType={ScaleType.Time} />\n      <Axis\n        id=\"bottom-axis\"\n        position=\"bottom\"\n        tickFormat={timeFormatter(props.timeFormat)}\n        showGridLines />\n      <Axis\n        id=\"left-axis\"\n        position=\"left\"\n        showGridLines />\n    </Chart>\n  );\n}\nexport default SingleItemTimeBarChart;\n","import React from 'react';\nimport {\n  Chart,\n  Settings,\n  Partition,\n} from '@elastic/charts';\nimport { ShapeTreeNode } from '@elastic/charts/dist/chart_types/partition_chart/layout/types/viewmodel_types';\nimport { EUI_CHARTS_THEME_LIGHT } from '@elastic/eui/dist/eui_charts_theme';\n\nexport interface DataSchema {\n  name: string;\n  value: number;\n}\n\ninterface PropSchema {\n  data: DataSchema[];\n  width?: number;\n  height?: number;\n}\n\nexport function DonutChart(props: PropSchema) {\n  const euiChartTheme = EUI_CHARTS_THEME_LIGHT;\n\n  return (\n    <Chart size={{\n      width: props.width,\n      height: props.height,\n    }}>\n      <Settings\n        showLegend\n        legendMaxDepth={2} />\n      <Partition\n        id=\"fortigateOutDonut\"\n        data={props.data}\n        valueAccessor={valueAccessor}\n        layers={[\n          {\n            groupByRollup,\n            shape: {\n              fillColor,\n            },\n          },\n        ]}\n        config={{\n          ...euiChartTheme.partition,\n          emptySizeRatio: 0.4,\n          clockwiseSectors: false,\n        }}\n      />\n    </Chart>\n  );\n}\nexport default DonutChart;\n\nfunction valueAccessor(data: DataSchema) {\n  return data.value;\n}\n\nfunction groupByRollup(data: DataSchema) {\n  return data.name;\n}\n\nconst colors = [\n  '#54B399',\n  '#6092C0',\n  '#9170B8',\n  '#CA8EAE',\n  '#D36086',\n  '#E7664C',\n  '#AA6556',\n  '#DA8B45',\n  '#B9A888',\n  '#D6BF57',\n];\nfunction fillColor(data: ShapeTreeNode) {\n  return colors[data.sortIndex];\n}\n","import {\n  EuiDataGrid,\n  EuiDataGridColumn,\n  EuiDataGridSorting,\n  EuiDataGridCellValueElementProps,\n  EuiDataGridPaginationProps\n} from '@elastic/eui';\nimport React, { useCallback, useMemo, useState } from 'react';\n\ntype EuiDataGridSortingColumns = EuiDataGridSorting['columns'];\n\ninterface PropsSchema<T> {\n  columns: EuiDataGridColumn[];\n  rows: T[];\n  pagination?: Partial<EuiDataGridPaginationProps>;\n}\n\nexport default function DataTable<T>(props: PropsSchema<T>) {\n  let rows = props.rows;\n\n  const {\n    pagination,\n    onChangeItemsPerPage,\n    onChangePage,\n    paginatedRows\n  } = usePagination<T>(rows, props.pagination);\n  rows = paginatedRows;\n\n  const { sortingColumns, onSort, sortedRows } = useSorting(rows);\n  rows = sortedRows;\n\n  const visibleColumns = props.columns.map((column: EuiDataGridColumn) => {\n    return column.id;\n  });\n\n  const renderCellValue = useCellRender(rows, pagination);\n\n  return (\n    <EuiDataGrid\n      aria-label=\"\"\n      toolbarVisibility={false}\n      columns={props.columns}\n      columnVisibility={{\n        visibleColumns,\n        setVisibleColumns() {}\n      }}\n      rowCount={props.rows.length}\n      renderCellValue={renderCellValue}\n      sorting={{ columns: sortingColumns, onSort }}\n      pagination={{\n        ...pagination,\n        onChangeItemsPerPage,\n        onChangePage\n      }}\n    />\n  );\n}\n\nfunction usePagination<T>(\n  rows: T[],\n  inputPagination?: Partial<EuiDataGridPaginationProps>\n) {\n  const initializePagination: EuiDataGridPaginationProps = {\n    pageIndex: 0,\n    pageSize: 10,\n    pageSizeOptions: [10, 30, 50],\n    onChangeItemsPerPage() {},\n    onChangePage() {},\n    ...inputPagination\n  };\n  const [pagination, setPagination] = useState<EuiDataGridPaginationProps>(\n    initializePagination\n  );\n\n  const onChangeItemsPerPage = useCallback(\n    pageSize => {\n      return setPagination(pagination => {\n        return {\n          ...pagination,\n          pageSize,\n          pageIndex: 0\n        };\n      });\n    },\n    [setPagination]\n  );\n  const onChangePage = useCallback(\n    pageIndex => {\n      return setPagination(pagination => {\n        return {\n          ...pagination,\n          pageIndex\n        };\n      });\n    },\n    [setPagination]\n  );\n\n  const paginatedRows = useMemo(() => {\n    const rowStart = pagination.pageIndex * pagination.pageSize;\n    const rowEnd = Math.min(rowStart + pagination.pageSize, rows.length);\n\n    return rows.slice(rowStart, rowEnd);\n  }, [rows, pagination]);\n\n  return {\n    pagination,\n    onChangeItemsPerPage,\n    onChangePage,\n    paginatedRows\n  };\n}\n\nfunction useSorting<T>(rows: T[]) {\n  const [\n    sortingColumns,\n    setSortingColumns\n  ] = useState<EuiDataGridSortingColumns>([]);\n  const onSort = useCallback(\n    sortingColumns => {\n      return setSortingColumns(sortingColumns);\n    },\n    [setSortingColumns]\n  );\n\n  const sortedRows = useMemo(() => {\n    return [...rows].sort((a, b) => {\n      for (let i = 0; i < sortingColumns.length; i++) {\n        const column = sortingColumns[i];\n        // @ts-ignore\n        const aValue = a[column.id];\n        // @ts-ignore\n        const bValue = b[column.id];\n\n        if (aValue < bValue) {\n          return column.direction === 'asc' ? -1 : 1;\n        } else if (aValue > bValue) {\n          return column.direction === 'asc' ? 1 : -1;\n        }\n      }\n\n      return 0;\n    });\n  }, [rows, sortingColumns]);\n\n  return {\n    sortingColumns,\n    onSort,\n    sortedRows\n  };\n}\n\nfunction useCellRender<T>(\n  rows: T[],\n  pagination: Partial<EuiDataGridPaginationProps>\n) {\n  return useMemo(() => {\n    return (cellProps: EuiDataGridCellValueElementProps) => {\n      const adjustedRowIndex =\n        // @ts-ignore\n        cellProps.rowIndex - pagination.pageIndex * pagination.pageSize;\n\n      const adjustedRow = rows[adjustedRowIndex] as T;\n\n      // @ts-ignore\n      return adjustedRow[cellProps.columnId] || null;\n    };\n  }, [rows, pagination.pageIndex, pagination.pageSize]);\n}\n","import axios from 'axios';\r\n\r\nexport const axiosKibana = axios.create({\r\n  baseURL: '',\r\n  method: 'post',\r\n  headers: {\r\n    'kbn-xsrf': true\r\n  },\r\n  auth: {\r\n    username: 'admin',\r\n    password: 'admin'\r\n  }\r\n});\r\n\r\naxiosKibana.interceptors.response.use(res => {\r\n  if (!res.data.rawResponse && !res.data.sheet) return Promise.reject();\r\n  return res;\r\n});\r\n\r\nexport const setKibanaURL = (url: string) => {\r\n  axiosKibana.defaults.baseURL = url;\r\n};\r\n","import { getKibanaDataTemplate } from '../unilog';\r\nimport { axiosKibana } from './instance';\r\nimport { WatchLogHitsSrc } from './model';\r\n\r\ninterface keyCountData {\r\n  key: string;\r\n  doc_count: number;\r\n}\r\n\r\nexport async function loadOutTotalLinks(startTime: string, endTime: string) {\r\n  const data = await getKibanaData('OutTotalLinks', {\r\n    startTime,\r\n    endTime\r\n  });\r\n  return axiosKibana({\r\n    url: '/internal/search/es',\r\n    data\r\n  }).then(res => {\r\n    return res.data.rawResponse.hits.total;\r\n  });\r\n}\r\n\r\nexport async function loadOutLinksByTime(startTime: string, endTime: string) {\r\n  const data = await getKibanaData('OutLinksByTime', {\r\n    startTime,\r\n    endTime\r\n  });\r\n  return axiosKibana({\r\n    url: '/api/timelion/run',\r\n    data\r\n  }).then(res => {\r\n    return res.data.sheet[0].list[0].data.map((data: number[]) => {\r\n      return {\r\n        time: data[0],\r\n        value: data[1]\r\n      };\r\n    });\r\n  });\r\n}\r\n\r\nexport async function loadOutLinksByService(\r\n  startTime: string,\r\n  endTime: string\r\n) {\r\n  const data = await getKibanaData('OutLinksByService', {\r\n    startTime,\r\n    endTime\r\n  });\r\n  return axiosKibana({\r\n    url: '/internal/search/es',\r\n    data\r\n  }).then(res => {\r\n    return res.data.rawResponse.aggregations['2'].buckets.map(\r\n      (data: { key: string; doc_count: number }) => {\r\n        return {\r\n          name: data.key,\r\n          value: data.doc_count\r\n        };\r\n      }\r\n    );\r\n  });\r\n}\r\n\r\nexport async function loadOutLinksByIp(startTime: string, endTime: string) {\r\n  const data = await getKibanaData('OutLinksByIp', {\r\n    startTime,\r\n    endTime\r\n  });\r\n  return axiosKibana({\r\n    url: '/internal/search/es',\r\n    data\r\n  }).then(res => {\r\n    return res.data.rawResponse.aggregations['2'].buckets.map(\r\n      (data: keyCountData) => {\r\n        return {\r\n          name: data.key,\r\n          value: data.doc_count\r\n        };\r\n      }\r\n    );\r\n  });\r\n}\r\n\r\nexport async function loadInTotalLinks(startTime: string, endTime: string) {\r\n  const data = await getKibanaData('InTotalLinks', {\r\n    startTime,\r\n    endTime\r\n  });\r\n  return axiosKibana({\r\n    url: '/internal/search/es',\r\n    data\r\n  }).then(res => {\r\n    return res.data.rawResponse.hits.total;\r\n  });\r\n}\r\n\r\nexport async function loadInLinksByTime(startTime: string, endTime: string) {\r\n  const data = await getKibanaData('InLinksByTime', {\r\n    startTime,\r\n    endTime\r\n  });\r\n  return axiosKibana({\r\n    url: '/api/timelion/run',\r\n    data\r\n  }).then(res => {\r\n    return res.data.sheet[0].list[0].data.map((data: number[]) => {\r\n      return {\r\n        time: data[0],\r\n        value: data[1]\r\n      };\r\n    });\r\n  });\r\n}\r\n\r\nexport async function loadInLinksByService(startTime: string, endTime: string) {\r\n  const data = await getKibanaData('InLinksByService', {\r\n    startTime,\r\n    endTime\r\n  });\r\n  return axiosKibana({\r\n    url: '/internal/search/es',\r\n    data\r\n  }).then(res => {\r\n    return res.data.rawResponse.aggregations['2'].buckets.map(\r\n      (data: keyCountData) => {\r\n        return {\r\n          name: data.key,\r\n          value: data.doc_count\r\n        };\r\n      }\r\n    );\r\n  });\r\n}\r\n\r\nexport async function loadInLinksByIp(startTime: string, endTime: string) {\r\n  const data = await getKibanaData('InLinksByIp', {\r\n    startTime,\r\n    endTime\r\n  });\r\n  return axiosKibana({\r\n    url: '/internal/search/es',\r\n    data\r\n  }).then(res => {\r\n    return res.data.rawResponse.aggregations['2'].buckets.map(\r\n      (data: keyCountData) => {\r\n        return {\r\n          name: data.key,\r\n          value: data.doc_count\r\n        };\r\n      }\r\n    );\r\n  });\r\n}\r\n\r\nexport async function loadTotalBlocks(startTime: string, endTime: string) {\r\n  const data = await getKibanaData('TotalBlocks', {\r\n    startTime,\r\n    endTime\r\n  });\r\n  return axiosKibana({\r\n    url: '/internal/search/es',\r\n    data\r\n  }).then(res => {\r\n    return res.data.rawResponse.hits.total;\r\n  });\r\n}\r\n\r\nexport async function loadBlocksByTime(startTime: string, endTime: string) {\r\n  const data = await getKibanaData('BlocksByTime', {\r\n    startTime,\r\n    endTime\r\n  });\r\n  return axiosKibana({\r\n    url: '/api/timelion/run',\r\n    data\r\n  }).then(res => {\r\n    return res.data.sheet[0].list[0].data.map((data: number[]) => {\r\n      return {\r\n        time: data[0],\r\n        value: data[1]\r\n      };\r\n    });\r\n  });\r\n}\r\n\r\nexport async function loadBlocksBySrc(startTime: string, endTime: string) {\r\n  const data = await getKibanaData('BlocksBySrc', {\r\n    startTime,\r\n    endTime\r\n  });\r\n  return axiosKibana({\r\n    url: '/internal/search/es',\r\n    data\r\n  }).then(res => {\r\n    return res.data.rawResponse.aggregations['2'].buckets.map(\r\n      (data: keyCountData) => {\r\n        return {\r\n          name: data.key,\r\n          value: data.doc_count\r\n        };\r\n      }\r\n    );\r\n  });\r\n}\r\n\r\nexport async function loadBlocksByDst(startTime: string, endTime: string) {\r\n  const data = await getKibanaData('BlocksByDst', {\r\n    startTime,\r\n    endTime\r\n  });\r\n  return axiosKibana({\r\n    url: '/internal/search/es',\r\n    data\r\n  }).then(res => {\r\n    return res.data.rawResponse.aggregations['2'].buckets.map(\r\n      (data: keyCountData) => {\r\n        return {\r\n          name: data.key,\r\n          value: data.doc_count\r\n        };\r\n      }\r\n    );\r\n  });\r\n}\r\n\r\nexport interface DiscoverParams {\r\n  startTime: string;\r\n  endTime: string;\r\n  deviceName?: string;\r\n  keyword?: string;\r\n}\r\n\r\nexport async function loadDiscoverHitsByTime(params: DiscoverParams) {\r\n  const data = await getKibanaData('DiscoverHitsByTime', params);\r\n  return axiosKibana({\r\n    url: '/api/timelion/run',\r\n    data\r\n  }).then(res => {\r\n    return res.data.sheet[0].list[0].data.map((data: number[]) => {\r\n      return {\r\n        time: data[0],\r\n        value: data[1]\r\n      };\r\n    });\r\n  });\r\n}\r\n\r\ninterface TableDataSchema {\r\n  _source: object;\r\n  fields: {\r\n    '@timestamp': string[];\r\n  };\r\n}\r\n\r\nexport async function loadDiscoverTableDataList(params: DiscoverParams) {\r\n  const data = await getKibanaData('DiscoverTableDataList', params);\r\n  return axiosKibana({\r\n    url: '/internal/search/es',\r\n    data\r\n  }).then(res => {\r\n    return res.data.rawResponse.hits.hits.map((data: TableDataSchema) => {\r\n      return {\r\n        time: data.fields['@timestamp'][0],\r\n        _source: JSON.stringify(data._source)\r\n      };\r\n    });\r\n  });\r\n}\r\n\r\nexport async function loadPortalLoginsTotal(\r\n  startTime: string,\r\n  endTime: string\r\n) {\r\n  const data = await getKibanaData('PortalLoginsTotal', {\r\n    startTime,\r\n    endTime\r\n  });\r\n  return axiosKibana({\r\n    url: '/internal/search/es',\r\n    data\r\n  }).then(res => {\r\n    return res.data.rawResponse.hits.total;\r\n  });\r\n}\r\n\r\nexport async function loadPortalLoginsByTime(\r\n  startTime: string,\r\n  endTime: string\r\n) {\r\n  const data = await getKibanaData('PortalLoginsByTime', {\r\n    startTime,\r\n    endTime\r\n  });\r\n  return axiosKibana({\r\n    url: '/api/timelion/run',\r\n    data\r\n  }).then(res => {\r\n    return res.data.sheet[0].list[0].data.map((data: number[]) => {\r\n      return {\r\n        time: data[0],\r\n        value: data[1]\r\n      };\r\n    });\r\n  });\r\n}\r\n\r\nexport async function loadPortalLoginsByIp(startTime: string, endTime: string) {\r\n  const data = await getKibanaData('PortalLoginsByIp', {\r\n    startTime,\r\n    endTime\r\n  });\r\n  return axiosKibana({\r\n    url: '/internal/search/es',\r\n    data\r\n  }).then(res => {\r\n    return res.data.rawResponse.aggregations['2'].buckets.map(\r\n      (data: { key: string; doc_count: number }) => {\r\n        return {\r\n          name: data.key,\r\n          value: data.doc_count\r\n        };\r\n      }\r\n    );\r\n  });\r\n}\r\n\r\nexport async function loadPortalLoginsByUser(\r\n  startTime: string,\r\n  endTime: string\r\n) {\r\n  const data = await getKibanaData('PortalLoginsByUser', {\r\n    startTime,\r\n    endTime\r\n  });\r\n  return axiosKibana({\r\n    url: '/internal/search/es',\r\n    data\r\n  }).then(res => {\r\n    return res.data.rawResponse.aggregations['2'].buckets.map(\r\n      (data: keyCountData) => {\r\n        return {\r\n          name: data.key,\r\n          value: data.doc_count\r\n        };\r\n      }\r\n    );\r\n  });\r\n}\r\n\r\nexport async function loadPortalLoginBlocksTotal(\r\n  startTime: string,\r\n  endTime: string\r\n) {\r\n  const data = await getKibanaData('PortalLoginBlocksTotal', {\r\n    startTime,\r\n    endTime\r\n  });\r\n  return axiosKibana({\r\n    url: '/internal/search/es',\r\n    data\r\n  }).then(res => {\r\n    return res.data.rawResponse.hits.total;\r\n  });\r\n}\r\n\r\nexport async function loadPortalLoginBlocksByTime(\r\n  startTime: string,\r\n  endTime: string\r\n) {\r\n  const data = await getKibanaData('PortalLoginBlocksByTime', {\r\n    startTime,\r\n    endTime\r\n  });\r\n  return axiosKibana({\r\n    url: '/api/timelion/run',\r\n    data\r\n  }).then(res => {\r\n    return res.data.sheet[0].list[0].data.map((data: number[]) => {\r\n      return {\r\n        time: data[0],\r\n        value: data[1]\r\n      };\r\n    });\r\n  });\r\n}\r\n\r\nexport async function loadPortalLoginBlocksByIp(\r\n  startTime: string,\r\n  endTime: string\r\n) {\r\n  const data = await getKibanaData('PortalLoginBlocksByIp', {\r\n    startTime,\r\n    endTime\r\n  });\r\n  return axiosKibana({\r\n    url: '/internal/search/es',\r\n    data\r\n  }).then(res => {\r\n    return res.data.rawResponse.aggregations['2'].buckets.map(\r\n      (data: { key: string; doc_count: number }) => {\r\n        return {\r\n          name: data.key,\r\n          value: data.doc_count\r\n        };\r\n      }\r\n    );\r\n  });\r\n}\r\n\r\nexport async function loadPortalLoginSuccessesTotal(\r\n  startTime: string,\r\n  endTime: string\r\n) {\r\n  const data = await getKibanaData('PortalLoginSuccessesTotal', {\r\n    startTime,\r\n    endTime\r\n  });\r\n  return axiosKibana({\r\n    url: '/internal/search/es',\r\n    data\r\n  }).then(res => {\r\n    return res.data.rawResponse.hits.total;\r\n  });\r\n}\r\n\r\nexport async function loadPortalLoginSuccessesByTime(\r\n  startTime: string,\r\n  endTime: string\r\n) {\r\n  const data = await getKibanaData('PortalLoginSuccessesByTime', {\r\n    startTime,\r\n    endTime\r\n  });\r\n  return axiosKibana({\r\n    url: '/api/timelion/run',\r\n    data\r\n  }).then(res => {\r\n    return res.data.sheet[0].list[0].data.map((data: number[]) => {\r\n      return {\r\n        time: data[0],\r\n        value: data[1]\r\n      };\r\n    });\r\n  });\r\n}\r\n\r\nexport async function loadPortalLoginSuccessesByIp(\r\n  startTime: string,\r\n  endTime: string\r\n) {\r\n  const data = await getKibanaData('PortalLoginSuccessesByIp', {\r\n    startTime,\r\n    endTime\r\n  });\r\n  return axiosKibana({\r\n    url: '/internal/search/es',\r\n    data\r\n  }).then(res => {\r\n    return res.data.rawResponse.aggregations['2'].buckets.map(\r\n      (data: { key: string; doc_count: number }) => {\r\n        return {\r\n          name: data.key,\r\n          value: data.doc_count\r\n        };\r\n      }\r\n    );\r\n  });\r\n}\r\n\r\nexport async function loadPortalLoginSuccessesByUser(\r\n  startTime: string,\r\n  endTime: string\r\n) {\r\n  const data = await getKibanaData('PortalLoginSuccessesByUser', {\r\n    startTime,\r\n    endTime\r\n  });\r\n  return axiosKibana({\r\n    url: '/internal/search/es',\r\n    data\r\n  }).then(res => {\r\n    return res.data.rawResponse.aggregations['2'].buckets.map(\r\n      (data: keyCountData) => {\r\n        return {\r\n          name: data.key,\r\n          value: data.doc_count\r\n        };\r\n      }\r\n    );\r\n  });\r\n}\r\n\r\nexport async function loadWatchLog(\r\n  startTime: string,\r\n  endTime: string\r\n): Promise<WatchLogHitsSrc[]> {\r\n  const data = await getKibanaData('WatchLog', {\r\n    startTime,\r\n    endTime\r\n  });\r\n  return axiosKibana({\r\n    url: '/internal/search/es',\r\n    data\r\n  }).then(res =>\r\n    res.data.rawResponse.hits.hits.map((item: any) => item._source)\r\n  );\r\n}\r\n\r\nasync function getKibanaData(kibanaName: string, params: DiscoverParams) {\r\n  const res = await getKibanaDataTemplate(kibanaName);\r\n  let jsonString = res\r\n    .replace(/\\${START_TIME}/g, params.startTime)\r\n    .replace(/\\${END_TIME}/g, params.endTime)\r\n    .replace(/\\${CURRENT_TIME}/g, String(Date.now()));\r\n  if (params.deviceName) {\r\n    jsonString = jsonString.replace(/\\${DEVICE_NAME}/g, params.deviceName);\r\n  }\r\n  if (params.keyword) {\r\n    jsonString = jsonString.replace(/\\${KEYWORD}/g, params.keyword);\r\n  }\r\n  try {\r\n    return Promise.resolve(JSON.parse(jsonString));\r\n  } catch {\r\n    console.error(jsonString);\r\n  }\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport {\r\n  EuiLoadingSpinner,\r\n  EuiFlexGroup,\r\n  EuiFlexItem,\r\n  EuiPanel,\r\n  EuiSpacer,\r\n  EuiStat,\r\n  EuiDataGridColumn\r\n} from '@elastic/eui';\r\nimport { Moment } from 'moment';\r\n\r\nimport { DashboardLayout } from 'layouts/DashboardLayout';\r\nimport { useTimeRangePicker } from 'components/TimeRangePicker';\r\nimport {\r\n  SingleItemTimeBarChart,\r\n  DataSchema as TimeBarDataSchema\r\n} from 'components/SingleItemTimeBarChart';\r\nimport {\r\n  DonutChart,\r\n  DataSchema as DonutDataSchema\r\n} from 'components/DonutChart';\r\nimport DataTable from 'components/DataTable';\r\nimport {\r\n  loadOutTotalLinks,\r\n  loadOutLinksByTime,\r\n  loadOutLinksByService,\r\n  loadOutLinksByIp\r\n} from 'utils/api/kibana';\r\n\r\nexport default function Dashboard1() {\r\n  const {\r\n    startTime,\r\n    onChangeStart,\r\n    endTime,\r\n    onChangeEnd,\r\n    onListItemClick\r\n  } = useTimeRangePicker();\r\n\r\n  return (\r\n    <DashboardLayout\r\n      title=\"fortigate:對外連線\"\r\n      startTime={startTime}\r\n      onChangeStart={onChangeStart}\r\n      endTime={endTime}\r\n      onChangeEnd={onChangeEnd}\r\n      onListItemClick={onListItemClick}\r\n    >\r\n      <KibanaArea startTime={startTime} endTime={endTime} />\r\n    </DashboardLayout>\r\n  );\r\n}\r\n\r\nconst byServiceColumns: EuiDataGridColumn[] = [\r\n  {\r\n    id: 'name',\r\n    display: '對外連線服務',\r\n    actions: false\r\n  },\r\n  {\r\n    id: 'value',\r\n    display: 'Count',\r\n    schema: 'numeric',\r\n    initialWidth: 80,\r\n    defaultSortDirection: 'desc',\r\n    actions: {\r\n      showSortAsc: true,\r\n      showSortDesc: true,\r\n      showMoveLeft: false,\r\n      showMoveRight: false,\r\n      showHide: false\r\n    }\r\n  }\r\n];\r\n\r\nconst byIpColumns: EuiDataGridColumn[] = [\r\n  {\r\n    id: 'name',\r\n    display: '對外連線目的IP',\r\n    actions: false\r\n  },\r\n  {\r\n    id: 'value',\r\n    display: 'Count',\r\n    schema: 'numeric',\r\n    initialWidth: 80,\r\n    defaultSortDirection: 'desc',\r\n    actions: {\r\n      showSortAsc: true,\r\n      showSortDesc: true,\r\n      showMoveLeft: false,\r\n      showMoveRight: false,\r\n      showHide: false\r\n    }\r\n  }\r\n];\r\ninterface KibanaAreaPropsSchema {\r\n  startTime: Moment;\r\n  endTime: Moment;\r\n}\r\nfunction KibanaArea(props: KibanaAreaPropsSchema) {\r\n  const {\r\n    isLoading,\r\n    linksByTime,\r\n    totalLinks,\r\n    linksByService,\r\n    linksByIp\r\n  } = useKibanaData(props.startTime.format(), props.endTime.format());\r\n\r\n  if (isLoading) {\r\n    return <EuiLoadingSpinner size=\"xl\" />;\r\n  } else {\r\n    return (\r\n      <>\r\n        <EuiFlexGroup>\r\n          <EuiFlexItem grow={false}>\r\n            <EuiPanel style={{ width: '11rem' }} paddingSize=\"s\" hasShadow>\r\n              <EuiSpacer size=\"xl\" />\r\n              <EuiStat\r\n                title={totalLinks}\r\n                description=\"對外連線\"\r\n                textAlign=\"center\"\r\n                reverse\r\n              />\r\n              <EuiSpacer size=\"xl\" />\r\n            </EuiPanel>\r\n          </EuiFlexItem>\r\n          <EuiFlexItem>\r\n            <EuiPanel paddingSize=\"s\" hasShadow>\r\n              <SingleItemTimeBarChart\r\n                itemName=\"連外流量\"\r\n                height={130}\r\n                timeFormat=\"MM/DD HH:mm\"\r\n                data={linksByTime}\r\n              />\r\n            </EuiPanel>\r\n          </EuiFlexItem>\r\n        </EuiFlexGroup>\r\n        <EuiFlexGroup>\r\n          <EuiFlexItem grow={false}>\r\n            <EuiPanel paddingSize=\"s\" hasShadow>\r\n              <EuiSpacer size=\"xl\" />\r\n              <DonutChart data={linksByService} width={400} height={200} />\r\n              <EuiSpacer size=\"xl\" />\r\n            </EuiPanel>\r\n          </EuiFlexItem>\r\n          <EuiFlexItem>\r\n            <EuiPanel paddingSize=\"s\" hasShadow>\r\n              <DataTable<DonutDataSchema>\r\n                columns={byServiceColumns}\r\n                rows={linksByService}\r\n                pagination={{\r\n                  pageSize: 6,\r\n                  pageSizeOptions: [6]\r\n                }}\r\n              />\r\n            </EuiPanel>\r\n          </EuiFlexItem>\r\n        </EuiFlexGroup>\r\n        <EuiFlexGroup>\r\n          <EuiFlexItem grow={false}>\r\n            <EuiPanel paddingSize=\"s\" hasShadow>\r\n              <EuiSpacer size=\"xl\" />\r\n              <DonutChart data={linksByIp} width={400} height={200} />\r\n              <EuiSpacer size=\"xl\" />\r\n            </EuiPanel>\r\n          </EuiFlexItem>\r\n          <EuiFlexItem>\r\n            <EuiPanel paddingSize=\"s\" hasShadow>\r\n              <DataTable<DonutDataSchema>\r\n                columns={byIpColumns}\r\n                rows={linksByIp}\r\n                pagination={{\r\n                  pageSize: 6,\r\n                  pageSizeOptions: [6]\r\n                }}\r\n              />\r\n            </EuiPanel>\r\n          </EuiFlexItem>\r\n        </EuiFlexGroup>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nfunction useKibanaData(startTime: string, endTime: string) {\r\n  const { isLoading: isLoading1, totalLinks } = useTotalLinks(\r\n    startTime,\r\n    endTime\r\n  );\r\n\r\n  const { isLoading: isLoading2, linksByTime } = useLinksByTime(\r\n    startTime,\r\n    endTime\r\n  );\r\n\r\n  const { isLoading: isLoading3, linksByService } = useLinksByService(\r\n    startTime,\r\n    endTime\r\n  );\r\n\r\n  const { isLoading: isLoading4, linksByIp } = useLinksByIp(startTime, endTime);\r\n\r\n  const [isLoading, setIsLoading] = useState<boolean>(true);\r\n  useEffect(() => {\r\n    setIsLoading(isLoading1 || isLoading2 || isLoading3 || isLoading4);\r\n  }, [isLoading1, isLoading2, isLoading3, isLoading4]);\r\n\r\n  return {\r\n    isLoading,\r\n    totalLinks,\r\n    linksByTime,\r\n    linksByService,\r\n    linksByIp\r\n  };\r\n}\r\n\r\nfunction useTotalLinks(startTime: string, endTime: string) {\r\n  const [isLoading, setIsLoading] = useState<boolean>(true);\r\n  const [totalLinks, setTotalLinks] = useState<number>(0);\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    loadOutTotalLinks(startTime, endTime).then(total => {\r\n      setTotalLinks(total);\r\n      setIsLoading(false);\r\n    });\r\n  }, [startTime, endTime]);\r\n\r\n  return {\r\n    isLoading,\r\n    totalLinks\r\n  };\r\n}\r\n\r\nfunction useLinksByTime(startTime: string, endTime: string) {\r\n  const [isLoading, setIsLoading] = useState<boolean>(true);\r\n  const [linksByTime, setLinksByTime] = useState<TimeBarDataSchema[]>([]);\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    loadOutLinksByTime(startTime, endTime).then(linksByTime => {\r\n      setLinksByTime(linksByTime);\r\n      setIsLoading(false);\r\n    });\r\n  }, [startTime, endTime]);\r\n\r\n  return {\r\n    isLoading,\r\n    linksByTime\r\n  };\r\n}\r\n\r\nfunction useLinksByService(startTime: string, endTime: string) {\r\n  const [isLoading, setIsLoading] = useState<boolean>(true);\r\n  const [linksByService, setLinksByService] = useState<DonutDataSchema[]>([]);\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    loadOutLinksByService(startTime, endTime).then(linksByService => {\r\n      setLinksByService(linksByService);\r\n      setIsLoading(false);\r\n    });\r\n  }, [startTime, endTime]);\r\n\r\n  return {\r\n    isLoading,\r\n    linksByService\r\n  };\r\n}\r\n\r\nfunction useLinksByIp(startTime: string, endTime: string) {\r\n  const [isLoading, setIsLoading] = useState<boolean>(true);\r\n  const [linksByIp, setLinksByIp] = useState<DonutDataSchema[]>([]);\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    loadOutLinksByIp(startTime, endTime).then(linksByIp => {\r\n      setLinksByIp(linksByIp);\r\n      setIsLoading(false);\r\n    });\r\n  }, [startTime, endTime]);\r\n\r\n  return {\r\n    isLoading,\r\n    linksByIp\r\n  };\r\n}\r\n","import React, { useEffect, useState } from 'react';\nimport {\n  EuiLoadingSpinner,\n  EuiFlexGroup,\n  EuiFlexItem,\n  EuiPanel,\n  EuiSpacer,\n  EuiStat,\n  EuiDataGridColumn\n} from '@elastic/eui';\nimport { Moment } from 'moment';\n\nimport { DashboardLayout } from 'layouts/DashboardLayout';\nimport { useTimeRangePicker } from 'components/TimeRangePicker';\nimport {\n  SingleItemTimeBarChart,\n  DataSchema as TimeBarDataSchema\n} from 'components/SingleItemTimeBarChart';\nimport {\n  DonutChart,\n  DataSchema as DonutDataSchema\n} from 'components/DonutChart';\nimport DataTable from 'components/DataTable';\nimport {\n  loadInTotalLinks,\n  loadInLinksByTime,\n  loadInLinksByService,\n  loadInLinksByIp\n} from 'utils/api/kibana';\n\nexport default function Dashboard2() {\n  const {\n    startTime,\n    onChangeStart,\n    endTime,\n    onChangeEnd,\n    onListItemClick\n  } = useTimeRangePicker();\n\n  return (\n    <DashboardLayout\n      title=\"fortigate:對內連線阻擋\"\n      startTime={startTime}\n      onChangeStart={onChangeStart}\n      endTime={endTime}\n      onChangeEnd={onChangeEnd}\n      onListItemClick={onListItemClick}\n    >\n      <KibanaArea startTime={startTime} endTime={endTime} />\n    </DashboardLayout>\n  );\n}\n\nconst byServiceColumns: EuiDataGridColumn[] = [\n  {\n    id: 'name',\n    display: '對內連線服務',\n    actions: false\n  },\n  {\n    id: 'value',\n    display: 'Count',\n    schema: 'numeric',\n    initialWidth: 80,\n    defaultSortDirection: 'desc',\n    actions: {\n      showSortAsc: true,\n      showSortDesc: true,\n      showMoveLeft: false,\n      showMoveRight: false,\n      showHide: false\n    }\n  }\n];\nconst byIpColumns: EuiDataGridColumn[] = [\n  {\n    id: 'name',\n    display: '對內連線來源IP',\n    actions: false\n  },\n  {\n    id: 'value',\n    display: 'Count',\n    schema: 'numeric',\n    initialWidth: 80,\n    defaultSortDirection: 'desc',\n    actions: {\n      showSortAsc: true,\n      showSortDesc: true,\n      showMoveLeft: false,\n      showMoveRight: false,\n      showHide: false\n    }\n  }\n];\ninterface KibanaAreaPropsSchema {\n  startTime: Moment;\n  endTime: Moment;\n}\nfunction KibanaArea(props: KibanaAreaPropsSchema) {\n  const {\n    isLoading,\n    linksByTime,\n    totalLinks,\n    linksByService,\n    linksByIp\n  } = useKibanaData(props.startTime.format(), props.endTime.format());\n\n  if (isLoading) {\n    return <EuiLoadingSpinner size=\"xl\" />;\n  } else {\n    return (\n      <>\n        <EuiFlexGroup>\n          <EuiFlexItem grow={false}>\n            <EuiPanel style={{ width: '11rem' }} paddingSize=\"s\" hasShadow>\n              <EuiSpacer size=\"xl\" />\n              <EuiStat\n                title={totalLinks}\n                description=\"阻擋次數\"\n                textAlign=\"center\"\n                reverse\n              />\n              <EuiSpacer size=\"xl\" />\n            </EuiPanel>\n          </EuiFlexItem>\n          <EuiFlexItem>\n            <EuiPanel paddingSize=\"s\" hasShadow>\n              <SingleItemTimeBarChart\n                itemName=\"連入阻擋\"\n                height={130}\n                timeFormat=\"MM/DD HH:mm\"\n                data={linksByTime}\n              />\n            </EuiPanel>\n          </EuiFlexItem>\n        </EuiFlexGroup>\n        <EuiFlexGroup>\n          <EuiFlexItem grow={false}>\n            <EuiPanel paddingSize=\"s\" hasShadow>\n              <EuiSpacer size=\"xl\" />\n              <DonutChart data={linksByService} width={400} height={200} />\n              <EuiSpacer size=\"xl\" />\n            </EuiPanel>\n          </EuiFlexItem>\n          <EuiFlexItem>\n            <EuiPanel paddingSize=\"s\" hasShadow>\n              <DataTable<DonutDataSchema>\n                columns={byServiceColumns}\n                rows={linksByService}\n                pagination={{\n                  pageSize: 6,\n                  pageSizeOptions: [6]\n                }}\n              />\n            </EuiPanel>\n          </EuiFlexItem>\n        </EuiFlexGroup>\n        <EuiFlexGroup>\n          <EuiFlexItem grow={false}>\n            <EuiPanel paddingSize=\"s\" hasShadow>\n              <EuiSpacer size=\"xl\" />\n              <DonutChart data={linksByIp} width={400} height={200} />\n              <EuiSpacer size=\"xl\" />\n            </EuiPanel>\n          </EuiFlexItem>\n          <EuiFlexItem>\n            <EuiPanel paddingSize=\"s\" hasShadow>\n              <DataTable<DonutDataSchema>\n                columns={byIpColumns}\n                rows={linksByIp}\n                pagination={{\n                  pageSize: 6,\n                  pageSizeOptions: [6]\n                }}\n              />\n            </EuiPanel>\n          </EuiFlexItem>\n        </EuiFlexGroup>\n      </>\n    );\n  }\n}\n\nfunction useKibanaData(startTime: string, endTime: string) {\n  const { isLoading: isLoading1, totalLinks } = useTotalLinks(\n    startTime,\n    endTime\n  );\n\n  const { isLoading: isLoading2, linksByTime } = useLinksByTime(\n    startTime,\n    endTime\n  );\n\n  const { isLoading: isLoading3, linksByService } = useLinksByService(\n    startTime,\n    endTime\n  );\n\n  const { isLoading: isLoading4, linksByIp } = useLinksByIp(startTime, endTime);\n\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  useEffect(() => {\n    setIsLoading(isLoading1 || isLoading2 || isLoading3 || isLoading4);\n  }, [isLoading1, isLoading2, isLoading3, isLoading4]);\n\n  return {\n    isLoading,\n    totalLinks,\n    linksByTime,\n    linksByService,\n    linksByIp\n  };\n}\n\nfunction useTotalLinks(startTime: string, endTime: string) {\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  const [totalLinks, setTotalLinks] = useState<number>(0);\n  useEffect(() => {\n    setIsLoading(true);\n    loadInTotalLinks(startTime, endTime).then(total => {\n      setTotalLinks(total);\n      setIsLoading(false);\n    });\n  }, [startTime, endTime]);\n\n  return {\n    isLoading,\n    totalLinks\n  };\n}\n\nfunction useLinksByTime(startTime: string, endTime: string) {\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  const [linksByTime, setLinksByTime] = useState<TimeBarDataSchema[]>([]);\n  useEffect(() => {\n    setIsLoading(true);\n    loadInLinksByTime(startTime, endTime).then(linksByTime => {\n      setLinksByTime(linksByTime);\n      setIsLoading(false);\n    });\n  }, [startTime, endTime]);\n\n  return {\n    isLoading,\n    linksByTime\n  };\n}\n\nfunction useLinksByService(startTime: string, endTime: string) {\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  const [linksByService, setLinksByService] = useState<DonutDataSchema[]>([]);\n  useEffect(() => {\n    setIsLoading(true);\n    loadInLinksByService(startTime, endTime).then(linksByService => {\n      setLinksByService(linksByService);\n      setIsLoading(false);\n    });\n  }, [startTime, endTime]);\n\n  return {\n    isLoading,\n    linksByService\n  };\n}\n\nfunction useLinksByIp(startTime: string, endTime: string) {\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  const [linksByIp, setLinksByIp] = useState<DonutDataSchema[]>([]);\n  useEffect(() => {\n    setIsLoading(true);\n    loadInLinksByIp(startTime, endTime).then(linksByIp => {\n      setLinksByIp(linksByIp);\n      setIsLoading(false);\n    });\n  }, [startTime, endTime]);\n\n  return {\n    isLoading,\n    linksByIp\n  };\n}\n","import React, { useEffect, useState } from 'react';\nimport {\n  EuiLoadingSpinner,\n  EuiFlexGroup,\n  EuiFlexItem,\n  EuiPanel,\n  EuiSpacer,\n  EuiStat,\n  EuiDataGridColumn\n} from '@elastic/eui';\nimport { Moment } from 'moment';\n\nimport { DashboardLayout } from 'layouts/DashboardLayout';\nimport { useTimeRangePicker } from 'components/TimeRangePicker';\nimport {\n  SingleItemTimeBarChart,\n  DataSchema as TimeBarDataSchema\n} from 'components/SingleItemTimeBarChart';\nimport {\n  DonutChart,\n  DataSchema as DonutDataSchema\n} from 'components/DonutChart';\nimport DataTable from 'components/DataTable';\nimport {\n  loadTotalBlocks,\n  loadBlocksByTime,\n  loadBlocksBySrc,\n  loadBlocksByDst\n} from 'utils/api/kibana';\n\nexport default function Dashboard2() {\n  const {\n    startTime,\n    onChangeStart,\n    endTime,\n    onChangeEnd,\n    onListItemClick\n  } = useTimeRangePicker();\n\n  return (\n    <DashboardLayout\n      title=\"受攻擊次數統計及圖表\"\n      startTime={startTime}\n      onChangeStart={onChangeStart}\n      endTime={endTime}\n      onChangeEnd={onChangeEnd}\n      onListItemClick={onListItemClick}\n    >\n      <KibanaArea startTime={startTime} endTime={endTime} />\n    </DashboardLayout>\n  );\n}\n\nconst bySrcColumns: EuiDataGridColumn[] = [\n  {\n    id: 'name',\n    display: '攻擊來源IP',\n    actions: false\n  },\n  {\n    id: 'value',\n    display: 'Count',\n    schema: 'numeric',\n    initialWidth: 80,\n    defaultSortDirection: 'desc',\n    actions: {\n      showSortAsc: true,\n      showSortDesc: true,\n      showMoveLeft: false,\n      showMoveRight: false,\n      showHide: false\n    }\n  }\n];\nconst byDstColumns: EuiDataGridColumn[] = [\n  {\n    id: 'name',\n    display: '攻擊目的IP',\n    actions: false\n  },\n  {\n    id: 'value',\n    display: 'Count',\n    schema: 'numeric',\n    initialWidth: 80,\n    defaultSortDirection: 'desc',\n    actions: {\n      showSortAsc: true,\n      showSortDesc: true,\n      showMoveLeft: false,\n      showMoveRight: false,\n      showHide: false\n    }\n  }\n];\ninterface KibanaAreaPropsSchema {\n  startTime: Moment;\n  endTime: Moment;\n}\nfunction KibanaArea(props: KibanaAreaPropsSchema) {\n  const {\n    isLoading,\n    blocksByTime,\n    totalBlocks,\n    blocksBySrc,\n    blocksByDst\n  } = useKibanaData(props.startTime.format(), props.endTime.format());\n\n  if (isLoading) {\n    return <EuiLoadingSpinner size=\"xl\" />;\n  } else {\n    return (\n      <>\n        <EuiFlexGroup>\n          <EuiFlexItem grow={false}>\n            <EuiPanel style={{ width: '11rem' }} paddingSize=\"s\" hasShadow>\n              <EuiSpacer size=\"xl\" />\n              <EuiStat\n                title={totalBlocks}\n                description=\"阻擋\"\n                textAlign=\"center\"\n                reverse\n              />\n              <EuiSpacer size=\"xl\" />\n            </EuiPanel>\n          </EuiFlexItem>\n          <EuiFlexItem>\n            <EuiPanel paddingSize=\"s\" hasShadow>\n              <SingleItemTimeBarChart\n                itemName=\"阻擋\"\n                height={130}\n                timeFormat=\"MM/DD HH:mm\"\n                data={blocksByTime}\n              />\n            </EuiPanel>\n          </EuiFlexItem>\n        </EuiFlexGroup>\n        <EuiFlexGroup>\n          <EuiFlexItem grow={false}>\n            <EuiPanel paddingSize=\"s\" hasShadow>\n              <EuiSpacer size=\"xl\" />\n              <DonutChart data={blocksBySrc} width={400} height={200} />\n              <EuiSpacer size=\"xl\" />\n            </EuiPanel>\n          </EuiFlexItem>\n          <EuiFlexItem>\n            <EuiPanel paddingSize=\"s\" hasShadow>\n              <DataTable<DonutDataSchema>\n                columns={bySrcColumns}\n                rows={blocksBySrc}\n                pagination={{\n                  pageSize: 6,\n                  pageSizeOptions: [6]\n                }}\n              />\n            </EuiPanel>\n          </EuiFlexItem>\n        </EuiFlexGroup>\n        <EuiFlexGroup>\n          <EuiFlexItem grow={false}>\n            <EuiPanel paddingSize=\"s\" hasShadow>\n              <EuiSpacer size=\"xl\" />\n              <DonutChart data={blocksByDst} width={400} height={200} />\n              <EuiSpacer size=\"xl\" />\n            </EuiPanel>\n          </EuiFlexItem>\n          <EuiFlexItem>\n            <EuiPanel paddingSize=\"s\" hasShadow>\n              <DataTable<DonutDataSchema>\n                columns={byDstColumns}\n                rows={blocksByDst}\n                pagination={{\n                  pageSize: 6,\n                  pageSizeOptions: [6]\n                }}\n              />\n            </EuiPanel>\n          </EuiFlexItem>\n        </EuiFlexGroup>\n      </>\n    );\n  }\n}\n\nfunction useKibanaData(startTime: string, endTime: string) {\n  const { isLoading: isLoading1, totalBlocks } = useTotalBlocks(\n    startTime,\n    endTime\n  );\n\n  const { isLoading: isLoading2, blocksByTime } = useBlocksByTime(\n    startTime,\n    endTime\n  );\n\n  const { isLoading: isLoading3, blocksBySrc } = useBlocksBySrc(\n    startTime,\n    endTime\n  );\n\n  const { isLoading: isLoading4, blocksByDst } = useBlocksByDst(\n    startTime,\n    endTime\n  );\n\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  useEffect(() => {\n    setIsLoading(isLoading1 || isLoading2 || isLoading3 || isLoading4);\n  }, [isLoading1, isLoading2, isLoading3, isLoading4]);\n\n  return {\n    isLoading,\n    totalBlocks,\n    blocksByTime,\n    blocksBySrc,\n    blocksByDst\n  };\n}\n\nfunction useTotalBlocks(startTime: string, endTime: string) {\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  const [totalBlocks, setTotalBlocks] = useState<number>(0);\n  useEffect(() => {\n    setIsLoading(true);\n    loadTotalBlocks(startTime, endTime).then(total => {\n      setTotalBlocks(total);\n      setIsLoading(false);\n    });\n  }, [startTime, endTime]);\n\n  return {\n    isLoading,\n    totalBlocks\n  };\n}\n\nfunction useBlocksByTime(startTime: string, endTime: string) {\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  const [blocksByTime, setBlocksByTime] = useState<TimeBarDataSchema[]>([]);\n  useEffect(() => {\n    setIsLoading(true);\n    loadBlocksByTime(startTime, endTime).then(blocksByTime => {\n      setBlocksByTime(blocksByTime);\n      setIsLoading(false);\n    });\n  }, [startTime, endTime]);\n\n  return {\n    isLoading,\n    blocksByTime\n  };\n}\n\nfunction useBlocksBySrc(startTime: string, endTime: string) {\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  const [blocksBySrc, setBlocksBySrc] = useState<DonutDataSchema[]>([]);\n  useEffect(() => {\n    setIsLoading(true);\n    loadBlocksBySrc(startTime, endTime).then(blocksBySrc => {\n      setBlocksBySrc(blocksBySrc);\n      setIsLoading(false);\n    });\n  }, [startTime, endTime]);\n\n  return {\n    isLoading,\n    blocksBySrc\n  };\n}\n\nfunction useBlocksByDst(startTime: string, endTime: string) {\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  const [blocksByDst, setBlocksByDst] = useState<DonutDataSchema[]>([]);\n  useEffect(() => {\n    setIsLoading(true);\n    loadBlocksByDst(startTime, endTime).then(blocksByDst => {\n      setBlocksByDst(blocksByDst);\n      setIsLoading(false);\n    });\n  }, [startTime, endTime]);\n\n  return {\n    isLoading,\n    blocksByDst\n  };\n}\n","import React, { useEffect, useState } from 'react';\nimport {\n  EuiLoadingSpinner,\n  EuiFlexGroup,\n  EuiFlexItem,\n  EuiPanel,\n  EuiSpacer,\n  EuiStat,\n  EuiDataGridColumn\n} from '@elastic/eui';\nimport { Moment } from 'moment';\n\nimport { DashboardLayout } from 'layouts/DashboardLayout';\nimport { useTimeRangePicker } from 'components/TimeRangePicker';\nimport {\n  SingleItemTimeBarChart,\n  DataSchema as TimeBarDataSchema\n} from 'components/SingleItemTimeBarChart';\nimport {\n  DonutChart,\n  DataSchema as DonutDataSchema\n} from 'components/DonutChart';\nimport DataTable from 'components/DataTable';\nimport {\n  loadPortalLoginsTotal,\n  loadPortalLoginsByTime,\n  loadPortalLoginsByIp,\n  loadPortalLoginsByUser\n} from 'utils/api/kibana';\n\nexport default function PortalStatistics1() {\n  const {\n    startTime,\n    onChangeStart,\n    endTime,\n    onChangeEnd,\n    onListItemClick\n  } = useTimeRangePicker();\n\n  return (\n    <DashboardLayout\n      title=\"入口網登入次數統計\"\n      startTime={startTime}\n      onChangeStart={onChangeStart}\n      endTime={endTime}\n      onChangeEnd={onChangeEnd}\n      onListItemClick={onListItemClick}\n    >\n      <KibanaArea startTime={startTime} endTime={endTime} />\n    </DashboardLayout>\n  );\n}\n\nconst byIpColumns: EuiDataGridColumn[] = [\n  {\n    id: 'name',\n    display: '入口網IP登入次數',\n    actions: false\n  },\n  {\n    id: 'value',\n    display: 'Count',\n    schema: 'numeric',\n    initialWidth: 80,\n    defaultSortDirection: 'desc',\n    actions: {\n      showSortAsc: true,\n      showSortDesc: true,\n      showMoveLeft: false,\n      showMoveRight: false,\n      showHide: false\n    }\n  }\n];\nconst byUserColumns: EuiDataGridColumn[] = [\n  {\n    id: 'name',\n    display: '入口網使用者登入次數',\n    actions: false\n  },\n  {\n    id: 'value',\n    display: 'Count',\n    schema: 'numeric',\n    initialWidth: 80,\n    defaultSortDirection: 'desc',\n    actions: {\n      showSortAsc: true,\n      showSortDesc: true,\n      showMoveLeft: false,\n      showMoveRight: false,\n      showHide: false\n    }\n  }\n];\ninterface KibanaAreaPropsSchema {\n  startTime: Moment;\n  endTime: Moment;\n}\nfunction KibanaArea(props: KibanaAreaPropsSchema) {\n  const {\n    isLoading,\n    loginsByTime,\n    totalLogins,\n    loginsByIp,\n    loginsByUser\n  } = useKibanaData(props.startTime.format(), props.endTime.format());\n\n  if (isLoading) {\n    return <EuiLoadingSpinner size=\"xl\" />;\n  } else {\n    return (\n      <>\n        <EuiFlexGroup>\n          <EuiFlexItem grow={false}>\n            <EuiPanel style={{ width: '11rem' }} paddingSize=\"s\" hasShadow>\n              <EuiSpacer size=\"xl\" />\n              <EuiStat\n                title={totalLogins}\n                description=\"入口網登入次數\"\n                textAlign=\"center\"\n                reverse\n              />\n              <EuiSpacer size=\"xl\" />\n            </EuiPanel>\n          </EuiFlexItem>\n          <EuiFlexItem>\n            <EuiPanel paddingSize=\"s\" hasShadow>\n              <SingleItemTimeBarChart\n                itemName=\"入口網登入次數\"\n                height={130}\n                timeFormat=\"MM/DD HH:mm\"\n                data={loginsByTime}\n              />\n            </EuiPanel>\n          </EuiFlexItem>\n        </EuiFlexGroup>\n        <EuiFlexGroup>\n          <EuiFlexItem grow={false}>\n            <EuiPanel paddingSize=\"s\" hasShadow>\n              <EuiSpacer size=\"xl\" />\n              <DonutChart data={loginsByIp} width={400} height={200} />\n              <EuiSpacer size=\"xl\" />\n            </EuiPanel>\n          </EuiFlexItem>\n          <EuiFlexItem>\n            <EuiPanel paddingSize=\"s\" hasShadow>\n              <DataTable<DonutDataSchema>\n                columns={byIpColumns}\n                rows={loginsByIp}\n                pagination={{\n                  pageSize: 6,\n                  pageSizeOptions: [6]\n                }}\n              />\n            </EuiPanel>\n          </EuiFlexItem>\n        </EuiFlexGroup>\n        <EuiFlexGroup>\n          <EuiFlexItem grow={false}>\n            <EuiPanel paddingSize=\"s\" hasShadow>\n              <EuiSpacer size=\"xl\" />\n              <DonutChart data={loginsByUser} width={400} height={200} />\n              <EuiSpacer size=\"xl\" />\n            </EuiPanel>\n          </EuiFlexItem>\n          <EuiFlexItem>\n            <EuiPanel paddingSize=\"s\" hasShadow>\n              <DataTable<DonutDataSchema>\n                columns={byUserColumns}\n                rows={loginsByUser}\n                pagination={{\n                  pageSize: 6,\n                  pageSizeOptions: [6]\n                }}\n              />\n            </EuiPanel>\n          </EuiFlexItem>\n        </EuiFlexGroup>\n      </>\n    );\n  }\n}\n\nfunction useKibanaData(startTime: string, endTime: string) {\n  const { isLoading: isLoading1, totalLogins } = useTotalLogins(\n    startTime,\n    endTime\n  );\n\n  const { isLoading: isLoading2, loginsByTime } = useLoginsByTime(\n    startTime,\n    endTime\n  );\n\n  const { isLoading: isLoading3, loginsByIp } = useLoginsByIp(\n    startTime,\n    endTime\n  );\n\n  const { isLoading: isLoading4, loginsByUser } = useLoginsByUser(\n    startTime,\n    endTime\n  );\n\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  useEffect(() => {\n    setIsLoading(isLoading1 || isLoading2 || isLoading3 || isLoading4);\n  }, [isLoading1, isLoading2, isLoading3, isLoading4]);\n\n  return {\n    isLoading,\n    totalLogins,\n    loginsByTime,\n    loginsByIp,\n    loginsByUser\n  };\n}\n\nfunction useTotalLogins(startTime: string, endTime: string) {\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  const [totalLogins, setTotalLogins] = useState<number>(0);\n  useEffect(() => {\n    setIsLoading(true);\n    loadPortalLoginsTotal(startTime, endTime).then(total => {\n      setTotalLogins(total);\n      setIsLoading(false);\n    });\n  }, [startTime, endTime]);\n\n  return {\n    isLoading,\n    totalLogins\n  };\n}\n\nfunction useLoginsByTime(startTime: string, endTime: string) {\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  const [loginsByTime, setLoginsByTime] = useState<TimeBarDataSchema[]>([]);\n  useEffect(() => {\n    setIsLoading(true);\n    loadPortalLoginsByTime(startTime, endTime).then(dataList => {\n      setLoginsByTime(dataList);\n      setIsLoading(false);\n    });\n  }, [startTime, endTime]);\n\n  return {\n    isLoading,\n    loginsByTime\n  };\n}\n\nfunction useLoginsByIp(startTime: string, endTime: string) {\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  const [loginsByIp, setLoginsByIp] = useState<DonutDataSchema[]>([]);\n  useEffect(() => {\n    setIsLoading(true);\n    loadPortalLoginsByIp(startTime, endTime).then(dataList => {\n      setLoginsByIp(dataList);\n      setIsLoading(false);\n    });\n  }, [startTime, endTime]);\n\n  return {\n    isLoading,\n    loginsByIp\n  };\n}\n\nfunction useLoginsByUser(startTime: string, endTime: string) {\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  const [loginsByUser, setLoginsByUser] = useState<DonutDataSchema[]>([]);\n  useEffect(() => {\n    setIsLoading(true);\n    loadPortalLoginsByUser(startTime, endTime).then(dataList => {\n      setLoginsByUser(dataList);\n      setIsLoading(false);\n    });\n  }, [startTime, endTime]);\n\n  return {\n    isLoading,\n    loginsByUser\n  };\n}\n","import React, { useEffect, useState } from 'react';\nimport {\n  EuiLoadingSpinner,\n  EuiFlexGroup,\n  EuiFlexItem,\n  EuiPanel,\n  EuiSpacer,\n  EuiStat,\n  EuiDataGridColumn\n} from '@elastic/eui';\nimport { Moment } from 'moment';\n\nimport { DashboardLayout } from 'layouts/DashboardLayout';\nimport { useTimeRangePicker } from 'components/TimeRangePicker';\nimport {\n  SingleItemTimeBarChart,\n  DataSchema as TimeBarDataSchema\n} from 'components/SingleItemTimeBarChart';\nimport {\n  DonutChart,\n  DataSchema as DonutDataSchema\n} from 'components/DonutChart';\nimport DataTable from 'components/DataTable';\nimport {\n  loadPortalLoginBlocksTotal,\n  loadPortalLoginBlocksByTime,\n  loadPortalLoginBlocksByIp\n} from 'utils/api/kibana';\n\nexport default function PortalStatistics2() {\n  const {\n    startTime,\n    onChangeStart,\n    endTime,\n    onChangeEnd,\n    onListItemClick\n  } = useTimeRangePicker();\n\n  return (\n    <DashboardLayout\n      title=\"入口網登入阻擋次數統計\"\n      startTime={startTime}\n      onChangeStart={onChangeStart}\n      endTime={endTime}\n      onChangeEnd={onChangeEnd}\n      onListItemClick={onListItemClick}\n    >\n      <KibanaArea startTime={startTime} endTime={endTime} />\n    </DashboardLayout>\n  );\n}\n\nconst byIpColumns: EuiDataGridColumn[] = [\n  {\n    id: 'name',\n    display: '入口網登入阻擋次數',\n    actions: false\n  },\n  {\n    id: 'value',\n    display: 'Count',\n    schema: 'numeric',\n    initialWidth: 80,\n    defaultSortDirection: 'desc',\n    actions: {\n      showSortAsc: true,\n      showSortDesc: true,\n      showMoveLeft: false,\n      showMoveRight: false,\n      showHide: false\n    }\n  }\n];\ninterface KibanaAreaPropsSchema {\n  startTime: Moment;\n  endTime: Moment;\n}\nfunction KibanaArea(props: KibanaAreaPropsSchema) {\n  const {\n    isLoading,\n    loginBlocksByTime,\n    totalLoginBlocks,\n    loginBlocksByIp\n  } = useKibanaData(props.startTime.format(), props.endTime.format());\n\n  if (isLoading) {\n    return <EuiLoadingSpinner size=\"xl\" />;\n  } else {\n    return (\n      <>\n        <EuiFlexGroup>\n          <EuiFlexItem grow={false}>\n            <EuiPanel style={{ width: '11rem' }} paddingSize=\"s\" hasShadow>\n              <EuiSpacer size=\"xl\" />\n              <EuiStat\n                title={totalLoginBlocks}\n                description=\"入口網登入阻擋次數\"\n                textAlign=\"center\"\n                reverse\n              />\n              <EuiSpacer size=\"xl\" />\n            </EuiPanel>\n          </EuiFlexItem>\n          <EuiFlexItem>\n            <EuiPanel paddingSize=\"s\" hasShadow>\n              <SingleItemTimeBarChart\n                itemName=\"入口網登入阻擋次數\"\n                height={130}\n                timeFormat=\"MM/DD HH:mm\"\n                data={loginBlocksByTime}\n              />\n            </EuiPanel>\n          </EuiFlexItem>\n        </EuiFlexGroup>\n        <EuiFlexGroup>\n          <EuiFlexItem grow={false}>\n            <EuiPanel paddingSize=\"s\" hasShadow>\n              <EuiSpacer size=\"xl\" />\n              <DonutChart data={loginBlocksByIp} width={400} height={200} />\n              <EuiSpacer size=\"xl\" />\n            </EuiPanel>\n          </EuiFlexItem>\n          <EuiFlexItem>\n            <EuiPanel paddingSize=\"s\" hasShadow>\n              <DataTable<DonutDataSchema>\n                columns={byIpColumns}\n                rows={loginBlocksByIp}\n                pagination={{\n                  pageSize: 6,\n                  pageSizeOptions: [6]\n                }}\n              />\n            </EuiPanel>\n          </EuiFlexItem>\n        </EuiFlexGroup>\n      </>\n    );\n  }\n}\n\nfunction useKibanaData(startTime: string, endTime: string) {\n  const { isLoading: isLoading1, totalLoginBlocks } = useTotalLoginBlocks(\n    startTime,\n    endTime\n  );\n\n  const { isLoading: isLoading2, loginBlocksByTime } = useLoginBlocksByTime(\n    startTime,\n    endTime\n  );\n\n  const { isLoading: isLoading3, loginBlocksByIp } = useLoginBlocksByIp(\n    startTime,\n    endTime\n  );\n\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  useEffect(() => {\n    setIsLoading(isLoading1 || isLoading2 || isLoading3);\n  }, [isLoading1, isLoading2, isLoading3]);\n\n  return {\n    isLoading,\n    totalLoginBlocks,\n    loginBlocksByTime,\n    loginBlocksByIp\n  };\n}\n\nfunction useTotalLoginBlocks(startTime: string, endTime: string) {\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  const [totalLoginBlocks, setTotalLoginBlocks] = useState<number>(0);\n  useEffect(() => {\n    setIsLoading(true);\n    loadPortalLoginBlocksTotal(startTime, endTime).then(total => {\n      setTotalLoginBlocks(total);\n      setIsLoading(false);\n    });\n  }, [startTime, endTime]);\n\n  return {\n    isLoading,\n    totalLoginBlocks\n  };\n}\n\nfunction useLoginBlocksByTime(startTime: string, endTime: string) {\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  const [loginBlocksByTime, setLoginBlocksByTime] = useState<\n    TimeBarDataSchema[]\n  >([]);\n  useEffect(() => {\n    setIsLoading(true);\n    loadPortalLoginBlocksByTime(startTime, endTime).then(dataList => {\n      setLoginBlocksByTime(dataList);\n      setIsLoading(false);\n    });\n  }, [startTime, endTime]);\n\n  return {\n    isLoading,\n    loginBlocksByTime\n  };\n}\n\nfunction useLoginBlocksByIp(startTime: string, endTime: string) {\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  const [loginBlocksByIp, setLoginBlocksByIp] = useState<DonutDataSchema[]>([]);\n  useEffect(() => {\n    setIsLoading(true);\n    loadPortalLoginBlocksByIp(startTime, endTime).then(dataList => {\n      setLoginBlocksByIp(dataList);\n      setIsLoading(false);\n    });\n  }, [startTime, endTime]);\n\n  return {\n    isLoading,\n    loginBlocksByIp\n  };\n}\n","import React, { useEffect, useState } from 'react';\nimport {\n  EuiLoadingSpinner,\n  EuiFlexGroup,\n  EuiFlexItem,\n  EuiPanel,\n  EuiSpacer,\n  EuiStat,\n  EuiDataGridColumn\n} from '@elastic/eui';\nimport { Moment } from 'moment';\n\nimport { DashboardLayout } from 'layouts/DashboardLayout';\nimport { useTimeRangePicker } from 'components/TimeRangePicker';\nimport {\n  SingleItemTimeBarChart,\n  DataSchema as TimeBarDataSchema\n} from 'components/SingleItemTimeBarChart';\nimport {\n  DonutChart,\n  DataSchema as DonutDataSchema\n} from 'components/DonutChart';\nimport DataTable from 'components/DataTable';\nimport {\n  loadPortalLoginSuccessesTotal,\n  loadPortalLoginSuccessesByTime,\n  loadPortalLoginSuccessesByIp,\n  loadPortalLoginSuccessesByUser\n} from 'utils/api/kibana';\n\nexport default function PortalStatistics3() {\n  const {\n    startTime,\n    onChangeStart,\n    endTime,\n    onChangeEnd,\n    onListItemClick\n  } = useTimeRangePicker();\n\n  return (\n    <DashboardLayout\n      title=\"入口網使用者成功登入次數\"\n      startTime={startTime}\n      onChangeStart={onChangeStart}\n      endTime={endTime}\n      onChangeEnd={onChangeEnd}\n      onListItemClick={onListItemClick}\n    >\n      <KibanaArea startTime={startTime} endTime={endTime} />\n    </DashboardLayout>\n  );\n}\n\nconst byIpColumns: EuiDataGridColumn[] = [\n  {\n    id: 'name',\n    display: '入口網IP成功登入次數',\n    actions: false\n  },\n  {\n    id: 'value',\n    display: 'Count',\n    schema: 'numeric',\n    initialWidth: 80,\n    defaultSortDirection: 'desc',\n    actions: {\n      showSortAsc: true,\n      showSortDesc: true,\n      showMoveLeft: false,\n      showMoveRight: false,\n      showHide: false\n    }\n  }\n];\nconst byUserColumns: EuiDataGridColumn[] = [\n  {\n    id: 'name',\n    display: '入口網使用者成功登入次數',\n    actions: false\n  },\n  {\n    id: 'value',\n    display: 'Count',\n    schema: 'numeric',\n    initialWidth: 80,\n    defaultSortDirection: 'desc',\n    actions: {\n      showSortAsc: true,\n      showSortDesc: true,\n      showMoveLeft: false,\n      showMoveRight: false,\n      showHide: false\n    }\n  }\n];\ninterface KibanaAreaPropsSchema {\n  startTime: Moment;\n  endTime: Moment;\n}\nfunction KibanaArea(props: KibanaAreaPropsSchema) {\n  const {\n    isLoading,\n    loginSuccessesByTime,\n    totalLoginSuccesses,\n    loginSuccessesByIp,\n    loginSuccessesByUser\n  } = useKibanaData(props.startTime.format(), props.endTime.format());\n\n  if (isLoading) {\n    return <EuiLoadingSpinner size=\"xl\" />;\n  } else {\n    return (\n      <>\n        <EuiFlexGroup>\n          <EuiFlexItem grow={false}>\n            <EuiPanel style={{ width: '11rem' }} paddingSize=\"s\" hasShadow>\n              <EuiSpacer size=\"xl\" />\n              <EuiStat\n                title={totalLoginSuccesses}\n                description=\"入口網成功登入次數\"\n                textAlign=\"center\"\n                reverse\n              />\n              <EuiSpacer size=\"xl\" />\n            </EuiPanel>\n          </EuiFlexItem>\n          <EuiFlexItem>\n            <EuiPanel paddingSize=\"s\" hasShadow>\n              <SingleItemTimeBarChart\n                itemName=\"入口網成功登入次數\"\n                height={130}\n                timeFormat=\"MM/DD HH:mm\"\n                data={loginSuccessesByTime}\n              />\n            </EuiPanel>\n          </EuiFlexItem>\n        </EuiFlexGroup>\n        <EuiFlexGroup>\n          <EuiFlexItem grow={false}>\n            <EuiPanel paddingSize=\"s\" hasShadow>\n              <EuiSpacer size=\"xl\" />\n              <DonutChart data={loginSuccessesByIp} width={400} height={200} />\n              <EuiSpacer size=\"xl\" />\n            </EuiPanel>\n          </EuiFlexItem>\n          <EuiFlexItem>\n            <EuiPanel paddingSize=\"s\" hasShadow>\n              <DataTable<DonutDataSchema>\n                columns={byIpColumns}\n                rows={loginSuccessesByIp}\n                pagination={{\n                  pageSize: 6,\n                  pageSizeOptions: [6]\n                }}\n              />\n            </EuiPanel>\n          </EuiFlexItem>\n        </EuiFlexGroup>\n        <EuiFlexGroup>\n          <EuiFlexItem grow={false}>\n            <EuiPanel paddingSize=\"s\" hasShadow>\n              <EuiSpacer size=\"xl\" />\n              <DonutChart\n                data={loginSuccessesByUser}\n                width={400}\n                height={200}\n              />\n              <EuiSpacer size=\"xl\" />\n            </EuiPanel>\n          </EuiFlexItem>\n          <EuiFlexItem>\n            <EuiPanel paddingSize=\"s\" hasShadow>\n              <DataTable<DonutDataSchema>\n                columns={byUserColumns}\n                rows={loginSuccessesByUser}\n                pagination={{\n                  pageSize: 6,\n                  pageSizeOptions: [6]\n                }}\n              />\n            </EuiPanel>\n          </EuiFlexItem>\n        </EuiFlexGroup>\n      </>\n    );\n  }\n}\n\nfunction useKibanaData(startTime: string, endTime: string) {\n  const { isLoading: isLoading1, totalLoginSuccesses } = useTotalLoginSuccesses(\n    startTime,\n    endTime\n  );\n\n  const {\n    isLoading: isLoading2,\n    loginSuccessesByTime\n  } = useLoginSuccessesByTime(startTime, endTime);\n\n  const { isLoading: isLoading3, loginSuccessesByIp } = useLoginSuccessesByIp(\n    startTime,\n    endTime\n  );\n\n  const {\n    isLoading: isLoading4,\n    loginSuccessesByUser\n  } = useLoginSuccessesByUser(startTime, endTime);\n\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  useEffect(() => {\n    setIsLoading(isLoading1 || isLoading2 || isLoading3 || isLoading4);\n  }, [isLoading1, isLoading2, isLoading3, isLoading4]);\n\n  return {\n    isLoading,\n    totalLoginSuccesses,\n    loginSuccessesByTime,\n    loginSuccessesByIp,\n    loginSuccessesByUser\n  };\n}\n\nfunction useTotalLoginSuccesses(startTime: string, endTime: string) {\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  const [totalLoginSuccesses, setTotalLoginSuccesses] = useState<number>(0);\n  useEffect(() => {\n    setIsLoading(true);\n    loadPortalLoginSuccessesTotal(startTime, endTime).then(total => {\n      setTotalLoginSuccesses(total);\n      setIsLoading(false);\n    });\n  }, [startTime, endTime]);\n\n  return {\n    isLoading,\n    totalLoginSuccesses\n  };\n}\n\nfunction useLoginSuccessesByTime(startTime: string, endTime: string) {\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  const [loginSuccessesByTime, setLoginSuccessesByTime] = useState<\n    TimeBarDataSchema[]\n  >([]);\n  useEffect(() => {\n    setIsLoading(true);\n    loadPortalLoginSuccessesByTime(startTime, endTime).then(dataList => {\n      setLoginSuccessesByTime(dataList);\n      setIsLoading(false);\n    });\n  }, [startTime, endTime]);\n\n  return {\n    isLoading,\n    loginSuccessesByTime\n  };\n}\n\nfunction useLoginSuccessesByIp(startTime: string, endTime: string) {\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  const [loginSuccessesByIp, setLoginSuccessesByIp] = useState<\n    DonutDataSchema[]\n  >([]);\n  useEffect(() => {\n    setIsLoading(true);\n    loadPortalLoginSuccessesByIp(startTime, endTime).then(dataList => {\n      setLoginSuccessesByIp(dataList);\n      setIsLoading(false);\n    });\n  }, [startTime, endTime]);\n\n  return {\n    isLoading,\n    loginSuccessesByIp\n  };\n}\n\nfunction useLoginSuccessesByUser(startTime: string, endTime: string) {\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  const [loginSuccessesByUser, setLoginSuccessesByUser] = useState<\n    DonutDataSchema[]\n  >([]);\n  useEffect(() => {\n    setIsLoading(true);\n    loadPortalLoginSuccessesByUser(startTime, endTime).then(dataList => {\n      setLoginSuccessesByUser(dataList);\n      setIsLoading(false);\n    });\n  }, [startTime, endTime]);\n\n  return {\n    isLoading,\n    loginSuccessesByUser\n  };\n}\n","import React, { useState, useEffect } from 'react';\nimport {\n  EuiPage,\n  EuiPageBody,\n  EuiPageContent,\n  EuiPageContentBody,\n  EuiPageHeader,\n  EuiPageHeaderSection,\n  EuiSpacer,\n  EuiTitle,\n  EuiFlexGroup,\n  EuiFlexItem,\n  EuiFormRow,\n  EuiFieldSearch,\n  EuiLoadingSpinner,\n  EuiDataGridColumn\n} from '@elastic/eui';\nimport { Moment } from 'moment';\n\nimport {\n  useTimeRangePicker,\n  TimeRangePicker\n} from 'components/TimeRangePicker';\nimport {\n  SingleItemTimeBarChart,\n  DataSchema as TimeBarDataSchema\n} from 'components/SingleItemTimeBarChart';\nimport DataTable from 'components/DataTable';\nimport {\n  DiscoverParams,\n  loadDiscoverHitsByTime,\n  loadDiscoverTableDataList\n} from 'utils/api/kibana';\n\nexport function Discover() {\n  const {\n    startTime,\n    onChangeStart,\n    endTime,\n    onChangeEnd,\n    onListItemClick\n  } = useTimeRangePicker();\n  const {\n    deviceName,\n    onChangeDeviceName,\n    keyword,\n    onChangeKeyword\n  } = useSearchParams();\n\n  return (\n    <EuiPage className=\"euiNavDrawerPage\">\n      <EuiPageBody className=\"euiNavDrawerPage__pageBody\">\n        <EuiPageHeader>\n          <EuiPageHeaderSection>\n            <EuiTitle size=\"l\">\n              <h1>Discover</h1>\n            </EuiTitle>\n          </EuiPageHeaderSection>\n        </EuiPageHeader>\n        <EuiPageContent>\n          <EuiPageContentBody>\n            <EuiFlexGroup>\n              <EuiFlexItem grow={false}>\n                <EuiFormRow label=\"時間起迄\">\n                  <TimeRangePicker\n                    startTime={startTime}\n                    onChangeStart={onChangeStart}\n                    endTime={endTime}\n                    onChangeEnd={onChangeEnd}\n                    onListItemClick={onListItemClick}\n                  />\n                </EuiFormRow>\n              </EuiFlexItem>\n              <EuiFlexItem grow={false}>\n                <EuiFormRow label=\"裝置名稱\">\n                  <EuiFieldSearch\n                    name=\"deviceName\"\n                    value={deviceName}\n                    onChange={onChangeDeviceName}\n                    isClearable\n                  />\n                </EuiFormRow>\n              </EuiFlexItem>\n              <EuiFlexItem grow={false}>\n                <EuiFormRow label=\"搜尋字串\">\n                  <EuiFieldSearch\n                    name=\"keyword\"\n                    value={keyword}\n                    onChange={onChangeKeyword}\n                    isClearable\n                  />\n                </EuiFormRow>\n              </EuiFlexItem>\n            </EuiFlexGroup>\n            <EuiSpacer size=\"xl\" />\n            <KibanaArea\n              startTime={startTime}\n              endTime={endTime}\n              deviceName={deviceName}\n              keyword={keyword}\n            />\n          </EuiPageContentBody>\n        </EuiPageContent>\n      </EuiPageBody>\n    </EuiPage>\n  );\n}\nexport default Discover;\n\ninterface onChangeHandler {\n  (event: React.FormEvent<HTMLInputElement>): void;\n}\n\nfunction useSearchParams() {\n  const [deviceName, setDeviceName] = useState<string>('protal_log-*');\n  const [keyword, setKeyword] = useState<string>('');\n  const onChangeDeviceName: onChangeHandler = event => {\n    const inputString = event.currentTarget.value;\n    if (inputString !== deviceName) {\n      setDeviceName(inputString);\n    }\n  };\n  const onChangeKeyword: onChangeHandler = event => {\n    const inputString = event.currentTarget.value;\n    if (inputString !== keyword) {\n      setKeyword(inputString);\n    }\n  };\n\n  return {\n    deviceName,\n    onChangeDeviceName,\n    keyword,\n    onChangeKeyword\n  };\n}\n\ninterface TableRowSchema {\n  time: string;\n  _source: string;\n}\nconst columns: EuiDataGridColumn[] = [\n  {\n    id: 'time',\n    display: 'Time',\n    initialWidth: 180,\n    defaultSortDirection: 'desc',\n    actions: {\n      showSortAsc: true,\n      showSortDesc: true,\n      showMoveLeft: false,\n      showMoveRight: false,\n      showHide: false\n    }\n  },\n  {\n    id: '_source',\n    display: '_source',\n    actions: false,\n    schema: 'json'\n  }\n];\ninterface KibanaAreaPropsSchema {\n  startTime: Moment;\n  endTime: Moment;\n  deviceName: string;\n  keyword: string;\n}\nfunction KibanaArea(props: KibanaAreaPropsSchema) {\n  const params: DiscoverParams = {\n    startTime: props.startTime.format(),\n    endTime: props.endTime.format(),\n    deviceName: props.deviceName,\n    keyword: props.keyword || '*'\n  };\n  const { isLoading, hitsByTime, tableDataList } = useKibanaData(params);\n\n  if (!props.deviceName) return <>請輸入裝置名稱！</>;\n  if (isLoading) return <EuiLoadingSpinner size=\"xl\" />;\n\n  return (\n    <>\n      <SingleItemTimeBarChart\n        itemName=\"Count\"\n        height={150}\n        timeFormat=\"MM/DD HH:mm\"\n        data={hitsByTime}\n      />\n      <DataTable<TableRowSchema>\n        columns={columns}\n        rows={tableDataList}\n        pagination={{\n          pageSize: 10,\n          pageSizeOptions: [10, 30, 50]\n        }}\n      />\n    </>\n  );\n}\n\nfunction useKibanaData(params: DiscoverParams) {\n  const { isLoading: isLoading1, hitsByTime } = useHitsByTime(params);\n\n  const { isLoading: isLoading2, tableDataList } = useTableDataList(params);\n\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  useEffect(() => {\n    setIsLoading(isLoading1 || isLoading2);\n  }, [isLoading1, isLoading2]);\n\n  return {\n    isLoading,\n    hitsByTime,\n    tableDataList\n  };\n}\n\nfunction useHitsByTime(params: DiscoverParams) {\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  const [hitsByTime, setHitsByTime] = useState<TimeBarDataSchema[]>([]);\n  useEffect(() => {\n    if (params.deviceName) {\n      setIsLoading(true);\n      loadDiscoverHitsByTime(params).then(hitsByTime => {\n        setHitsByTime(hitsByTime);\n        setIsLoading(false);\n      });\n    }\n    /* eslint-disable react-hooks/exhaustive-deps */\n  }, Object.values(params));\n  /* eslint-enable react-hooks/exhaustive-deps */\n\n  return {\n    isLoading,\n    hitsByTime\n  };\n}\n\nfunction useTableDataList(params: DiscoverParams) {\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  const [tableDataList, setTableDataList] = useState<TableRowSchema[]>([]);\n  useEffect(() => {\n    if (params.deviceName) {\n      setIsLoading(true);\n      loadDiscoverTableDataList(params).then(tableDataList => {\n        setTableDataList(tableDataList);\n        setIsLoading(false);\n      });\n    }\n    /* eslint-disable react-hooks/exhaustive-deps */\n  }, Object.values(params));\n  /* eslint-enable react-hooks/exhaustive-deps */\n\n  return {\n    isLoading,\n    tableDataList\n  };\n}\n","import React, { useState } from 'react';\r\nimport { EuiButton } from '@elastic/eui';\r\n\r\nimport Modal from 'components/Modal';\r\nimport { useGlobalUI } from 'contexts/GlobalUIContext';\r\n\r\ninterface Props {\r\n  active: boolean;\r\n  delRequest: () => Promise<any>;\r\n  onClose: () => void;\r\n  onDelete: () => void;\r\n}\r\nexport default function DeleteModal(props: Props) {\r\n  const { active, delRequest, onClose, onDelete } = props;\r\n  const { toast } = useGlobalUI();\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleDelete = () => {\r\n    setLoading(true);\r\n    delRequest()\r\n      .then(() => {\r\n        onDelete();\r\n        toast.addToast('success', '刪除成功');\r\n      })\r\n      .catch(() => toast.addToast('error', '刪除失敗'))\r\n      .finally(() => {\r\n        onClose();\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      active={active}\r\n      header=\"刪除\"\r\n      onClose={loading ? () => {} : onClose}\r\n      footer={\r\n        <>\r\n          <EuiButton onClick={onClose} disabled={loading}>\r\n            取消\r\n          </EuiButton>\r\n          <EuiButton onClick={handleDelete} isLoading={loading} color=\"danger\">\r\n            刪除\r\n          </EuiButton>\r\n        </>\r\n      }\r\n    >\r\n      確定要刪除嗎？\r\n    </Modal>\r\n  );\r\n}\r\n","import { AxiosResponse } from 'axios';\r\nimport { axiosLOG } from '../unilog/instance';\r\nimport { UniLogResponse } from '../unilog/model';\r\nimport {\r\n  HostGroupBody,\r\n  UniWatchGroupItem,\r\n  UniWatchGroupItem2,\r\n  UniWatchIpList,\r\n  UniWatchItem\r\n} from './model';\r\n\r\nexport function getWatchData(groupId: string = '') {\r\n  return axiosLOG\r\n    .post<UniLogResponse>('/watch/watchData', { groupId })\r\n    .then(res => JSON.parse(res.data.entity).data as UniWatchItem[]);\r\n}\r\n\r\nexport function getGroupData() {\r\n  return axiosLOG\r\n    .post<UniLogResponse>('/watch/groupData')\r\n    .then(res => JSON.parse(res.data.entity).data as UniWatchGroupItem[]);\r\n}\r\n\r\nexport function getWatchIpList(group_id: string = '') {\r\n  return axiosLOG\r\n    .post<UniLogResponse>('/watch/watchIpList', { group_id })\r\n    .then(res => JSON.parse(res.data.entity) as UniWatchIpList);\r\n}\r\n\r\nexport function testWatchIP(ip: string) {\r\n  return axiosLOG.post<UniLogResponse>('/watch/newWatch', { ip, type: 0 });\r\n}\r\n\r\nexport function getGroupList() {\r\n  return axiosLOG\r\n    .post<UniLogResponse>('/watch/groupList')\r\n    .then(res => JSON.parse(res.data.entity).data as UniWatchGroupItem2[]);\r\n}\r\n\r\nexport interface AddUniWatchData {\r\n  ip: string;\r\n  watchPath: string;\r\n  hash: {\r\n    [key: string]: boolean;\r\n  };\r\n}\r\nexport function addWatchData(data: AddUniWatchData) {\r\n  const hash = Object.keys(data.hash)\r\n    .filter(key => data.hash[key])\r\n    .join(',');\r\n  if (hash.length === 0) {\r\n    return new Promise<AxiosResponse<UniLogResponse>>((_, reject) => {\r\n      reject({\r\n        status: 403,\r\n        message: '須選擇至少一種加密方式',\r\n        content: ''\r\n      });\r\n    });\r\n  }\r\n  return axiosLOG.post<UniLogResponse>('/watch/newWatch', {\r\n    ip: data.ip,\r\n    watchPath: data.watchPath,\r\n    hash,\r\n    type: 1\r\n  });\r\n}\r\n\r\nexport function addHostGroup(body: HostGroupBody) {\r\n  const { groupName, ip, note } = body;\r\n  return axiosLOG.post('/watch/souGroup', {\r\n    groupId: '',\r\n    groupName,\r\n    ip: ip ? ip.map(item => item.label).join(',') : '',\r\n    note,\r\n    type: '1'\r\n  });\r\n}\r\n\r\nexport function editHostGroup(body: HostGroupBody) {\r\n  const { groupId, groupName, ip, note } = body;\r\n  return axiosLOG.post('/watch/souGroup', {\r\n    groupId: groupId ?? '',\r\n    groupName,\r\n    ip: ip ? ip.map(item => item.label).join(',') : '',\r\n    note,\r\n    type: '2'\r\n  });\r\n}\r\n\r\nexport function deleteWatchData(info: { pid: string; ip: string }) {\r\n  return axiosLOG.post('/watch/delWatch', { ...info });\r\n}\r\n\r\nexport function deleteHostGroup(groupId: string) {\r\n  return axiosLOG.post('/watch/delGroup', { groupId });\r\n}\r\n","import {\r\n  EuiButton,\r\n  EuiComboBox,\r\n  EuiComboBoxOptionOption,\r\n  EuiFieldText,\r\n  EuiFormRow,\r\n  EuiTextArea\r\n} from '@elastic/eui';\r\nimport Modal from 'components/Modal';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Controller, useForm } from 'react-hook-form';\r\nimport {\r\n  addHostGroup,\r\n  editHostGroup,\r\n  getGroupData,\r\n  getWatchIpList\r\n} from 'utils/api/uniwatch';\r\n\r\ntype State = 'none' | 'loading' | 'testing' | 'submitting';\r\n\r\ninterface Props {\r\n  id?: string;\r\n  active: boolean;\r\n  onClose: () => void;\r\n  onSubmit: () => void;\r\n}\r\nexport default function HostGroupEditModal(props: Props) {\r\n  const { id, active, onClose, onSubmit } = props;\r\n  const {\r\n    control,\r\n    register,\r\n    handleSubmit,\r\n    setValue,\r\n    errors,\r\n    watch\r\n  } = useForm();\r\n  const [state, setState] = useState<State>('none');\r\n  const hostMember = useHostMemberOptions(active);\r\n\r\n  const header = id ? '編輯' : '新增';\r\n\r\n  const onFormSubmit = (value: any) => {\r\n    const action = id ? editHostGroup : addHostGroup;\r\n    setState('submitting');\r\n    if (id) value.groupId = id;\r\n    action(value)\r\n      .then(() => {\r\n        onClose();\r\n        onSubmit();\r\n      })\r\n      .finally(() => setState('none'));\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!active) return;\r\n    if (!id) return;\r\n    setState('loading');\r\n    getGroupData()\r\n      .then(res => {\r\n        const item = res.find(item => item.group_id === id);\r\n        if (!item) onClose();\r\n        setValue('groupName', item?.group_name);\r\n        setValue(\r\n          'ip',\r\n          item?.ip.split(',').map(value => ({ label: value })),\r\n          { shouldDirty: true }\r\n        );\r\n        setValue('note', item?.note);\r\n      })\r\n      .finally(() => setState('none'));\r\n  }, [active, id, onClose, setValue]);\r\n\r\n  return (\r\n    <Modal\r\n      active={active}\r\n      onClose={state === 'none' ? onClose : () => {}}\r\n      header={header}\r\n      onSubmit={handleSubmit(onFormSubmit)}\r\n      footer={<Footer state={state} onClose={onClose} />}\r\n    >\r\n      <EuiFormRow\r\n        label=\"群組名稱\"\r\n        isInvalid={Boolean(errors.groupName)}\r\n        error={errors?.groupName?.message}\r\n      >\r\n        <EuiFieldText\r\n          name=\"groupName\"\r\n          inputRef={register({ required: '不能為空' })}\r\n          disabled={state !== 'none'}\r\n          isLoading={state === 'loading'}\r\n          isInvalid={Boolean(errors.groupName)}\r\n        />\r\n      </EuiFormRow>\r\n      <EuiFormRow label=\"主機成員\">\r\n        <Controller\r\n          control={control}\r\n          name=\"ip\"\r\n          defaultValue={[]}\r\n          render={({ onChange }) => (\r\n            <EuiComboBox\r\n              {...hostMember}\r\n              isLoading={hostMember.isLoading || state === 'loading'}\r\n              isDisabled={hostMember.isLoading || state === 'loading'}\r\n              selectedOptions={watch('ip')}\r\n              onChange={onChange}\r\n              inputRef={register('ip')}\r\n            />\r\n          )}\r\n        />\r\n      </EuiFormRow>\r\n      <EuiFormRow label=\"備註\">\r\n        <EuiTextArea\r\n          name=\"note\"\r\n          inputRef={register}\r\n          disabled={state !== 'none'}\r\n        />\r\n      </EuiFormRow>\r\n    </Modal>\r\n  );\r\n}\r\n\r\ninterface FooterProps {\r\n  state: State;\r\n  onClose: () => void;\r\n}\r\nfunction Footer({ state, onClose }: FooterProps) {\r\n  return (\r\n    <>\r\n      <EuiButton\r\n        type=\"submit\"\r\n        disabled={state !== 'none'}\r\n        isLoading={state === 'submitting'}\r\n      >\r\n        儲存\r\n      </EuiButton>\r\n      <EuiButton\r\n        style={{ marginLeft: '10px' }}\r\n        disabled={state !== 'none'}\r\n        onClick={onClose}\r\n      >\r\n        取消\r\n      </EuiButton>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction useHostMemberOptions(active: boolean) {\r\n  const [loading, setLoading] = useState(false);\r\n  const [options, setOptions] = useState<EuiComboBoxOptionOption<string>[]>([]);\r\n\r\n  useEffect(() => {\r\n    if (!active) return;\r\n    setLoading(true);\r\n    getWatchIpList()\r\n      .then(res => {\r\n        setOptions(res.ip.map(value => ({ label: value })));\r\n      })\r\n      .finally(() => setLoading(false));\r\n  }, [active]);\r\n\r\n  return { options, isLoading: loading };\r\n}\r\n","import {\r\n  EuiBasicTable,\r\n  EuiSpacer,\r\n  EuiFlexGroup,\r\n  EuiButton\r\n} from '@elastic/eui';\r\nimport { EuiBasicTableProps } from '@elastic/eui/src/components/basic_table/basic_table';\r\nimport React from 'react';\r\n\r\nexport type LoadingState = 'none' | 'all' | 'prev' | 'next';\r\n\r\ntype Props<T = any> = EuiBasicTableProps<T> & {\r\n  loadingState: LoadingState;\r\n  hasPrev: boolean;\r\n  hasNext: boolean;\r\n  gotoPrev: () => void;\r\n  gotoNext: () => void;\r\n};\r\nexport default function CustomTable(props: Props) {\r\n  const {\r\n    loadingState,\r\n    hasPrev,\r\n    hasNext,\r\n    gotoPrev,\r\n    gotoNext,\r\n    ...tableProps\r\n  } = props;\r\n  const loading = loadingState !== 'none';\r\n\r\n  return (\r\n    <div>\r\n      <EuiBasicTable {...{ loading, ...tableProps }} />\r\n      <EuiSpacer size=\"xs\" />\r\n      <EuiFlexGroup justifyContent=\"flexEnd\" style={{ margin: 0 }}>\r\n        <EuiButton\r\n          onClick={gotoPrev}\r\n          disabled={!hasPrev || loading}\r\n          isLoading={loadingState === 'prev'}\r\n        >\r\n          上一頁\r\n        </EuiButton>\r\n        <div style={{ width: '16px' }} />\r\n        <EuiButton\r\n          onClick={gotoNext}\r\n          disabled={!hasNext || loading}\r\n          isLoading={loadingState === 'next'}\r\n        >\r\n          下一頁\r\n        </EuiButton>\r\n      </EuiFlexGroup>\r\n    </div>\r\n  );\r\n}\r\n","import { EuiTableSortingType } from '@elastic/eui';\r\nimport {\r\n  Criteria,\r\n  EuiBasicTableColumn\r\n} from '@elastic/eui/src/components/basic_table/basic_table';\r\nimport { LoadingState } from 'components/CustomTable';\r\nimport {\r\n  SetStateAction,\r\n  useCallback,\r\n  useEffect,\r\n  useMemo,\r\n  useState\r\n} from 'react';\r\nimport { useCustomPagination } from './useCustomPagination';\r\n\r\nexport interface CustomTableOptions<T> {\r\n  size?: number;\r\n  filter?: (item: T) => boolean;\r\n  onUpdate?: (items: T[]) => void;\r\n  selection?: {\r\n    onSelectionChange: (selectedItems: T[]) => void;\r\n    initialSelected: T[];\r\n  };\r\n}\r\n\r\nexport function useCustomTable<T = any>(\r\n  loadingState: LoadingState,\r\n  setLoadingState: (value: SetStateAction<LoadingState>) => void,\r\n  fetcher: () => Promise<T[]>,\r\n  columns: EuiBasicTableColumn<T>[],\r\n  sortField: keyof T,\r\n  options?: CustomTableOptions<T>\r\n) {\r\n  const {\r\n    index,\r\n    size,\r\n    setTotal,\r\n    hasPrev,\r\n    hasNext,\r\n    gotoStart,\r\n    gotoPrev,\r\n    gotoNext\r\n  } = useCustomPagination(options?.size);\r\n  const [items, setItems] = useState<T[]>([]);\r\n  const [sorting, setSorting] = useState<EuiTableSortingType<T>>({\r\n    sort: {\r\n      field: sortField,\r\n      direction: 'asc'\r\n    }\r\n  });\r\n\r\n  const displayItems = useMemo(() => {\r\n    let _items: T[] = items;\r\n    if (options?.filter) {\r\n      _items = _items.filter(options.filter);\r\n    }\r\n    const desc = sorting.sort?.direction === 'desc';\r\n    _items = _items.sort((a, b) => (a > b ? 1 : -1) * (desc ? 1 : -1));\r\n    const range = [index * size, index * size + size];\r\n    _items = _items.filter((_, i) => i >= range[0] && i < range[1]);\r\n    return _items;\r\n  }, [index, items, options, size, sorting.sort]);\r\n\r\n  const onUpdate = useCallback<(items: T[]) => void>(\r\n    items => {\r\n      if (options?.onUpdate) {\r\n        options.onUpdate(items);\r\n      }\r\n    },\r\n    [options]\r\n  );\r\n\r\n  const update = useCallback(() => {\r\n    setLoadingState(prev => (prev === 'none' ? 'all' : prev));\r\n    fetcher()\r\n      .then(res => {\r\n        setTotal(res.length);\r\n        setItems(res);\r\n        onUpdate(res);\r\n      })\r\n      .catch(() => {\r\n        setTotal(0);\r\n        setItems([]);\r\n        onUpdate([]);\r\n      })\r\n      .finally(() => setLoadingState('none'));\r\n  }, [fetcher, onUpdate, setLoadingState, setTotal]);\r\n\r\n  const onChange = (criteria: Criteria<T>) => {\r\n    if (!criteria.sort) return;\r\n    setSorting({ sort: criteria.sort });\r\n  };\r\n\r\n  const _gotoPrev = () => {\r\n    if (!hasPrev) return;\r\n    gotoPrev();\r\n  };\r\n\r\n  const _gotoNext = () => {\r\n    if (!hasNext) return;\r\n    gotoNext();\r\n  };\r\n\r\n  useEffect(() => {\r\n    update();\r\n  }, [update]);\r\n\r\n  return {\r\n    update,\r\n    gotoStart,\r\n    tableProps: {\r\n      loadingState,\r\n      hasPrev,\r\n      hasNext,\r\n      gotoPrev: _gotoPrev,\r\n      gotoNext: _gotoNext,\r\n      items: displayItems,\r\n      columns,\r\n      sorting,\r\n      onChange,\r\n      selection: options?.selection\r\n    }\r\n  };\r\n}\r\n","import { useCallback, useState } from 'react';\r\n\r\nexport function useCustomPagination(defaultSize: number = 10) {\r\n  const [index, setIndex] = useState(0);\r\n  const [size, setSize] = useState(defaultSize);\r\n  const [total, setTotal] = useState(0);\r\n\r\n  const hasPrev = index > 0;\r\n  const hasNext = index + 1 < Math.ceil(total / size);\r\n\r\n  const gotoStart = useCallback(() => {\r\n    setIndex(0);\r\n  }, []);\r\n\r\n  const gotoPrev = useCallback(() => {\r\n    if (!hasPrev) return;\r\n    setIndex(prev => prev - 1);\r\n  }, [hasPrev]);\r\n\r\n  const gotoNext = useCallback(() => {\r\n    if (!hasNext) return;\r\n    setIndex(prev => prev + 1);\r\n  }, [hasNext]);\r\n\r\n  return {\r\n    index,\r\n    size,\r\n    total,\r\n    hasPrev,\r\n    hasNext,\r\n    setSize,\r\n    setTotal,\r\n    gotoStart,\r\n    gotoPrev,\r\n    gotoNext\r\n  };\r\n}\r\n","import React, { SetStateAction, useMemo, useRef, useState } from 'react';\r\nimport ContentLayout from 'layouts/ContentLayout';\r\nimport {\r\n  EuiBasicTableColumn,\r\n  EuiButton,\r\n  EuiButtonIcon,\r\n  EuiFlexGroup,\r\n  EuiSpacer\r\n} from '@elastic/eui';\r\nimport { useHistory } from 'react-router-dom';\r\nimport DeleteModal from 'components/MonitorChecklist/DeleteModal';\r\nimport HostGroupEditModal from 'components/Watch/HostGroupEditModal';\r\nimport { deleteHostGroup, getGroupData } from 'utils/api/uniwatch';\r\nimport { RoutePath } from 'utils/enums';\r\nimport { UniWatchGroupItem } from 'utils/api/uniwatch/model';\r\nimport CustomTable, { LoadingState } from 'components/CustomTable';\r\nimport { CustomTableOptions, useCustomTable } from 'hooks/useCustomTable';\r\nimport { useGlobalState } from 'contexts/GlobalStateContext';\r\nimport { SubAccessType } from 'utils/accessLevel';\r\n\r\ntype State = 'none' | 'add' | 'edit' | 'delete';\r\n\r\nexport default function HostGroup() {\r\n  const { getAccessLevel } = useGlobalState();\r\n  const [state, setState] = useState<State>('none');\r\n  const [id, setId] = useState<string>('');\r\n  const { tableProps, update } = useHostGroupTable(\r\n    setState,\r\n    setId,\r\n    getAccessLevel(SubAccessType.HostGroup).write\r\n  );\r\n  const {\r\n    onCancelBtnClick,\r\n    onCreateBtnClick,\r\n    handleModalClose\r\n  } = useHostGroupActions(setState, setId);\r\n\r\n  return (\r\n    <>\r\n      <ContentLayout title=\"主機群組\">\r\n        <CustomTable {...tableProps} />\r\n        <EuiSpacer size=\"l\" />\r\n        <EuiFlexGroup justifyContent=\"flexEnd\" style={{ margin: 0 }}>\r\n          {getAccessLevel(SubAccessType.HostGroup).write && (\r\n            <EuiButton onClick={onCreateBtnClick}>新增</EuiButton>\r\n          )}\r\n          <div style={{ width: '16px' }} />\r\n          <EuiButton onClick={onCancelBtnClick}>取消</EuiButton>\r\n        </EuiFlexGroup>\r\n      </ContentLayout>\r\n      <HostGroupEditModal\r\n        active={state === 'add' || state === 'edit'}\r\n        id={id}\r\n        onClose={handleModalClose}\r\n        onSubmit={update}\r\n      />\r\n      <DeleteModal\r\n        active={state === 'delete'}\r\n        delRequest={() => deleteHostGroup(id)}\r\n        onClose={handleModalClose}\r\n        onDelete={update}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\n/* 動作 */\r\nfunction useHostGroupActions(\r\n  setState: (value: SetStateAction<State>) => void,\r\n  setId: (value: SetStateAction<string>) => void\r\n) {\r\n  const { push } = useHistory();\r\n\r\n  const onCancelBtnClick = () => push(RoutePath.UniWatch);\r\n\r\n  const onCreateBtnClick = () => {\r\n    setState('add');\r\n  };\r\n\r\n  const handleModalClose = () => {\r\n    setState('none');\r\n    setId('');\r\n  };\r\n\r\n  return { onCancelBtnClick, onCreateBtnClick, handleModalClose };\r\n}\r\n\r\n/* 表單 */\r\nfunction useHostGroupTable(\r\n  setState: (value: SetStateAction<State>) => void,\r\n  setId: (value: SetStateAction<string>) => void,\r\n  write: boolean\r\n) {\r\n  const [loadingState, setLoadingState] = useState<LoadingState>('none');\r\n  const columns = useColumns(loadingState !== 'none', setState, setId, write);\r\n  const options = useRef<CustomTableOptions<UniWatchGroupItem>>({ size: 15 });\r\n  const customTable = useCustomTable(\r\n    loadingState,\r\n    setLoadingState,\r\n    getGroupData,\r\n    columns,\r\n    'group_id',\r\n    options.current\r\n  );\r\n\r\n  return customTable;\r\n}\r\n\r\nfunction useColumns(\r\n  loading: boolean,\r\n  setState: (value: SetStateAction<State>) => void,\r\n  setId: (value: SetStateAction<string>) => void,\r\n  write: boolean\r\n) {\r\n  const columns = useMemo<EuiBasicTableColumn<UniWatchGroupItem>[]>(\r\n    () => [\r\n      { field: 'group_name', name: '主機群組', sortable: !loading },\r\n      { field: 'ip', name: '群組成員' },\r\n      { field: 'note', name: '備註' },\r\n      {\r\n        name: '編輯',\r\n        render: (item: UniWatchGroupItem) =>\r\n          write ? (\r\n            <EuiButtonIcon\r\n              iconType=\"pencil\"\r\n              aria-label=\"edit\"\r\n              disabled={loading}\r\n              onClick={() => {\r\n                setState('edit');\r\n                setId(item.group_id);\r\n              }}\r\n            />\r\n          ) : null\r\n      },\r\n      {\r\n        name: '刪除',\r\n        render: (item: UniWatchGroupItem) =>\r\n          write ? (\r\n            <EuiButtonIcon\r\n              iconType=\"trash\"\r\n              color=\"danger\"\r\n              aria-label=\"delete\"\r\n              disabled={loading}\r\n              onClick={() => {\r\n                setState('delete');\r\n                setId(item.group_id);\r\n              }}\r\n            />\r\n          ) : null\r\n      }\r\n    ],\r\n    [loading, setId, setState, write]\r\n  );\r\n\r\n  return columns;\r\n}\r\n","import { EuiSelectOption } from '@elastic/eui';\r\nimport { ChangeEventHandler, useEffect, useState } from 'react';\r\n\r\nexport type OptionValue = string | number | undefined;\r\n\r\nexport function useEuiSelect(options: EuiSelectOption[]) {\r\n  const [value, setValue] = useState<OptionValue>('');\r\n\r\n  const onChange: ChangeEventHandler<HTMLSelectElement> = e => {\r\n    const { value } = e.target;\r\n    setValue(value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setValue(getFirstOption(options));\r\n  }, [options]);\r\n\r\n  return { options, value, onChange };\r\n}\r\n\r\nexport function optionValueToString(value: OptionValue) {\r\n  if (!value) return '';\r\n  if (typeof value === 'number') return value.toString();\r\n  return value;\r\n}\r\n\r\nfunction getFirstOption(options: EuiSelectOption[]) {\r\n  if (options.length === 0) {\r\n    return '';\r\n  } else if (Array.isArray(options[0].value)) {\r\n    return options[0].value[0] ?? '';\r\n  } else {\r\n    return options[0].value;\r\n  }\r\n}\r\n","import axios from 'axios';\r\n\r\nexport const axiosNOC = axios.create({\r\n  method: 'post',\r\n  data: {\r\n    id: 1,\r\n    jsonrpc: '2.0'\r\n  }\r\n});\r\n\r\nexport function setUniNocBaseUrl(url: string) {\r\n  axiosNOC.defaults.baseURL = url + '/zabbix/api_jsonrpc.php';\r\n}\r\n\r\naxiosNOC.interceptors.response.use(value => {\r\n  if (value.data.result) {\r\n    return value;\r\n  } else {\r\n    throw value.data.error;\r\n  }\r\n});\r\n","import { axiosNOC } from './instance';\r\nimport {\r\n  UniNocResponse,\r\n  UniNocHostGroup,\r\n  UniNocHost,\r\n  UniNocHostItem,\r\n  UniNocItemTimeline\r\n} from './model';\r\n\r\nexport async function getNocApiKey(account: string, password: string) {\r\n  try {\r\n    const { id, jsonrpc } = axiosNOC.defaults.data;\r\n    const res = await axiosNOC.post<UniNocResponse<string>>('', {\r\n      id,\r\n      jsonrpc,\r\n      method: 'user.login',\r\n      params: { user: account, password: password }\r\n    });\r\n    const key = res.data.result;\r\n    axiosNOC.defaults.data = { ...axiosNOC.defaults.data, auth: key };\r\n    return Promise.resolve(key);\r\n  } catch (err) {\r\n    return Promise.reject(err);\r\n  }\r\n}\r\n\r\nexport function getNocHostGroups() {\r\n  return axiosNOC.post<UniNocResponse<UniNocHostGroup[]>>('', {\r\n    ...axiosNOC.defaults.data,\r\n    method: 'hostgroup.get',\r\n    params: { output: ['name'], sortfield: 'name', real_hosts: true }\r\n  });\r\n}\r\n\r\nexport function getNocAllHosts(groupids: string[]) {\r\n  return axiosNOC.post<UniNocResponse<UniNocHost[]>>('', {\r\n    ...axiosNOC.defaults.data,\r\n    method: 'host.get',\r\n    params: { output: ['host'], groupids }\r\n  });\r\n}\r\n\r\nexport function getNocHostItem(host: string, name = '') {\r\n  return axiosNOC.post<UniNocResponse<UniNocHostItem[]>>('', {\r\n    ...axiosNOC.defaults.data,\r\n    method: 'item.get',\r\n    params: {\r\n      output: ['name', 'value_type', 'hostid', 'status', 'state'],\r\n      sortfield: 'name',\r\n      webitems: true,\r\n      filter: { value_type: [0, 3], host },\r\n      search: { name }\r\n    }\r\n  });\r\n}\r\n\r\nexport function getNocItemTimeline(\r\n  itemids: string[],\r\n  isNetWork: boolean,\r\n  time_from: number,\r\n  time_till: number\r\n) {\r\n  return axiosNOC.post<UniNocResponse<UniNocItemTimeline[]>>('', {\r\n    ...axiosNOC.defaults.data,\r\n    method: 'history.get',\r\n    params: {\r\n      output: 'extend',\r\n      history: isNetWork ? '3' : ['0', '3'],\r\n      itemids,\r\n      sortfield: 'clock',\r\n      sortorder: 'ASC',\r\n      time_from,\r\n      time_till\r\n    }\r\n  });\r\n}\r\n","import {\r\n  EuiCheckboxGroupOption,\r\n  EuiFlexGroup,\r\n  EuiFlexItem,\r\n  EuiFormRow,\r\n  EuiSelect,\r\n  EuiSelectOption\r\n} from '@elastic/eui';\r\nimport TimeRangePicker, {\r\n  useTimeRangePicker\r\n} from 'components/TimeRangePicker';\r\nimport { useEuiSelect } from 'hooks/useEuiSelect';\r\nimport React, { useMemo, useState } from 'react';\r\nimport { UniNocHostGroup, UniNocHost } from 'utils/api/uninoc/model';\r\nimport { FlexGrow } from 'utils/types';\r\n\r\ninterface Props {\r\n  timeRange: ReturnType<typeof useTimeRangePicker>;\r\n  hostGroup: ReturnType<typeof useEuiSelect>;\r\n  hostName: ReturnType<typeof useEuiSelect>;\r\n  refreshRate: ReturnType<typeof useEuiSelect>;\r\n}\r\nexport default function ControlArea(props: Props) {\r\n  const { timeRange, hostGroup, hostName, refreshRate } = props;\r\n\r\n  const items = [\r\n    {\r\n      label: '時間區間',\r\n      grow: 2,\r\n      node: <TimeRangePicker {...timeRange} style={{ minWidth: '260px' }} />\r\n    },\r\n    {\r\n      label: '主機群組',\r\n      grow: 1,\r\n      node: <EuiSelect {...hostGroup} style={{ minWidth: '100px' }} />\r\n    },\r\n    {\r\n      label: '主機名稱',\r\n      grow: 1,\r\n      node: <EuiSelect {...hostName} style={{ minWidth: '100px' }} />\r\n    },\r\n    {\r\n      label: '更新頻率',\r\n      grow: 1,\r\n      node: <EuiSelect {...refreshRate} style={{ minWidth: '100px' }} />\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <EuiFlexGroup>\r\n      {items.map(item => (\r\n        <EuiFlexItem\r\n          grow={item.grow as FlexGrow}\r\n          key={item.label}\r\n          style={{ maxWidth: '400px' }}\r\n        >\r\n          <EuiFormRow label={item.label}>{item.node}</EuiFormRow>\r\n        </EuiFlexItem>\r\n      ))}\r\n    </EuiFlexGroup>\r\n  );\r\n}\r\n\r\n/* 主機群組 */\r\nexport function useHostGroup(groups: UniNocHostGroup[]) {\r\n  const options = useMemo<EuiSelectOption[]>(\r\n    () =>\r\n      groups.map(group => ({\r\n        value: group.groupid,\r\n        text: group.name\r\n      })),\r\n    [groups]\r\n  );\r\n  const select = useEuiSelect(options);\r\n\r\n  return select;\r\n}\r\n\r\n/* 主機名稱 */\r\nexport function useHostName(hosts: UniNocHost[]) {\r\n  const options = useMemo<EuiSelectOption[]>(\r\n    () =>\r\n      hosts.map(host => ({\r\n        value: host.host,\r\n        text: host.host\r\n      })),\r\n    [hosts]\r\n  );\r\n  const select = useEuiSelect(options);\r\n\r\n  return select;\r\n}\r\n\r\n/* 篩選條件 */\r\nexport function useFilter() {\r\n  const [selected, setSelected] = useState<{ [key: string]: boolean }>({\r\n    min: true,\r\n    max: true,\r\n    avg: true,\r\n    current: true\r\n  });\r\n\r\n  const options: EuiCheckboxGroupOption[] = [\r\n    { id: 'min', label: 'min' },\r\n    { id: 'max', label: 'max' },\r\n    { id: 'avg', label: 'avg' },\r\n    { id: 'current', label: 'current' }\r\n  ];\r\n\r\n  const onChange = (id: string) => {\r\n    const key = id;\r\n    setSelected(prev => ({ ...prev, [key]: !prev[key] }));\r\n  };\r\n\r\n  return { selected, options, onChange };\r\n}\r\n\r\n/* 更新頻率 */\r\nexport function useRefreshRate() {\r\n  return useEuiSelect(refreshRateArray);\r\n}\r\n\r\nconst refreshRateArray = [\r\n  { value: '0', text: 'off' },\r\n  { value: '10', text: '10s' },\r\n  { value: '30', text: '30s' },\r\n  { value: '60', text: '1m' },\r\n  { value: '300', text: '5m' }\r\n];\r\n","import React from 'react';\r\nimport { Axis, Chart, AreaSeries, ScaleType } from '@elastic/charts';\r\nimport { EuiBasicTable, EuiHealth, EuiPanel, EuiTitle } from '@elastic/eui';\r\nimport moment from 'moment';\r\n\r\ninterface Props {\r\n  title: string;\r\n  data: NocChartData[];\r\n  unit?: string;\r\n  fixed: number;\r\n  domainX: { min: number; max: number };\r\n  domainY?: { min: number; max: number };\r\n}\r\nexport default function NocChart(props: Props) {\r\n  const { title, data, unit, fixed, domainX, domainY } = props;\r\n\r\n  return (\r\n    <EuiPanel paddingSize=\"s\">\r\n      <EuiTitle size=\"xs\">\r\n        <h3>{title}</h3>\r\n      </EuiTitle>\r\n      <Chart size={{ height: 150 }}>\r\n        {data.map(item => (\r\n          <AreaSeries\r\n            id={item.name}\r\n            key={item.name}\r\n            xScaleType={ScaleType.Time}\r\n            yScaleType={ScaleType.Linear}\r\n            xAccessor={'clock'}\r\n            yAccessors={['value']}\r\n            data={item.items}\r\n            fit=\"average\"\r\n          />\r\n        ))}\r\n        <Axis\r\n          id=\"bottom-axis\"\r\n          position=\"bottom\"\r\n          showGridLines\r\n          labelFormat={(value: number) =>\r\n            dateFormat(value, domainX.max, domainX.min)\r\n          }\r\n          tickFormat={(value: number) =>\r\n            dateFormat(value, domainX.max, domainX.min)\r\n          }\r\n        />\r\n        <Axis\r\n          id=\"left-axis\"\r\n          position=\"left\"\r\n          showGridLines\r\n          labelFormat={(value: string) => (unit ? value + unit : value)}\r\n          tickFormat={(value: string) => (unit ? value + unit : value)}\r\n          domain={domainY}\r\n        />\r\n      </Chart>\r\n      <div style={{ padding: '0 20px 0 10px' }}>\r\n        <EuiBasicTable\r\n          className=\"noc-table\"\r\n          items={data}\r\n          columns={[\r\n            {\r\n              name: '',\r\n              render: (item: NocChartData) => (\r\n                <EuiHealth color=\"#000\">{item.name}</EuiHealth>\r\n              )\r\n            },\r\n            {\r\n              name: 'min',\r\n              render: (item: NocChartData) => getMinValue(item, unit, fixed)\r\n            },\r\n            {\r\n              name: 'max',\r\n              render: (item: NocChartData) => getMaxValue(item, unit, fixed)\r\n            },\r\n            {\r\n              name: 'avg',\r\n              render: (item: NocChartData) => getAvgValue(item, unit, fixed)\r\n            },\r\n            {\r\n              name: 'current',\r\n              render: (item: NocChartData) => getCurrentValue(item, unit, fixed)\r\n            },\r\n            {\r\n              name: 'total',\r\n              render: (item: NocChartData) => item.items.length + '筆'\r\n            }\r\n          ]}\r\n        />\r\n      </div>\r\n    </EuiPanel>\r\n  );\r\n}\r\n\r\nfunction dateFormat(value: number, max: number, min: number) {\r\n  return moment(value * 1000)\r\n    .local()\r\n    .format('M/D hh:mm');\r\n}\r\n\r\nfunction getMinValue(data: NocChartData, unit = '', fixed = 2) {\r\n  let value = 0;\r\n  if (data.items.length > 0) {\r\n    value = Math.min(...data.items.map(item => Number(item.value)));\r\n  }\r\n  return value.toFixed(fixed) + unit;\r\n}\r\n\r\nfunction getMaxValue(data: NocChartData, unit = '', fixed = 2) {\r\n  let value = 0;\r\n  if (data.items.length > 0) {\r\n    value = Math.max(...data.items.map(item => Number(item.value)));\r\n  }\r\n  return value.toFixed(fixed) + unit;\r\n}\r\n\r\nfunction getAvgValue(data: NocChartData, unit = '', fixed = 2) {\r\n  let value = 0;\r\n  if (data.items.length > 0) {\r\n    value =\r\n      data.items.map(item => Number(item.value)).reduce((a, b) => a + b) /\r\n      data.items.length;\r\n  }\r\n  return value.toFixed(fixed) + unit;\r\n}\r\n\r\nfunction getCurrentValue(data: NocChartData, unit = '', fixed = 2) {\r\n  let value = 0;\r\n  if (data.items.length > 0) {\r\n    value = Number(data.items[data.items.length - 1].value);\r\n  }\r\n  return value.toFixed(fixed) + unit;\r\n}\r\n\r\nexport interface NocChartData {\r\n  name: string;\r\n  items: {\r\n    clock: number;\r\n    value: string;\r\n  }[];\r\n}\r\n","import React, {\r\n  useCallback,\r\n  useEffect,\r\n  useMemo,\r\n  useRef,\r\n  useState\r\n} from 'react';\r\nimport {\r\n  EuiPageContent,\r\n  EuiPageContentBody,\r\n  EuiFlexGroup,\r\n  EuiFlexItem,\r\n  EuiSpacer\r\n} from '@elastic/eui';\r\n\r\nimport { Moment } from 'moment';\r\nimport { OptionValue, optionValueToString } from 'hooks/useEuiSelect';\r\nimport {\r\n  getNocApiKey,\r\n  getNocHostGroups,\r\n  getNocAllHosts,\r\n  getNocHostItem,\r\n  getNocItemTimeline\r\n} from 'utils/api/uninoc';\r\nimport { UniNocHost, UniNocHostGroup } from 'utils/api/uninoc/model';\r\nimport { useNocTimeRange } from 'hooks/useNocTimeRange';\r\nimport PageLayout from 'layouts/PageLayout';\r\nimport ControlArea, {\r\n  useHostGroup,\r\n  useHostName,\r\n  useRefreshRate\r\n} from 'components/Entry/NOC/ControlArea';\r\nimport NocChart, { NocChartData } from 'components/Entry/NOC/NocChart';\r\n\r\nexport default function NOC() {\r\n  const { update, timeRange } = useNocTimeRange();\r\n  const hostGroups = useNocHostGroups();\r\n  const hostGroup = useHostGroup(hostGroups);\r\n  const hostNames = useNocHosts(hostGroup.value);\r\n  const hostName = useHostName(hostNames);\r\n  const refreshRate = useRefreshRate();\r\n  const { download, upload, cpu, memory, storage } = useNocDataSet(\r\n    String(hostName.value),\r\n    timeRange.startTime,\r\n    timeRange.endTime\r\n  );\r\n  useNocUpdater(update, refreshRate.value);\r\n\r\n  const start = timeRange.startTime.valueOf();\r\n  const end = timeRange.endTime.valueOf();\r\n\r\n  return (\r\n    <PageLayout title=\"UniNOC\">\r\n      <EuiPageContent>\r\n        <EuiPageContentBody>\r\n          <ControlArea {...{ timeRange, hostGroup, hostName, refreshRate }} />\r\n          <EuiFlexGroup>\r\n            <EuiFlexItem>\r\n              <NocChart\r\n                title=\"網路下載速度\"\r\n                data={download}\r\n                fixed={0}\r\n                domainX={{ min: start, max: end }}\r\n              />\r\n            </EuiFlexItem>\r\n            <EuiFlexItem>\r\n              <NocChart\r\n                title=\"網路上傳速度\"\r\n                data={upload}\r\n                fixed={0}\r\n                domainX={{ min: start, max: end }}\r\n              />\r\n            </EuiFlexItem>\r\n          </EuiFlexGroup>\r\n          <EuiSpacer size=\"l\" />\r\n          <NocChart\r\n            title=\"CPU使用率\"\r\n            data={cpu}\r\n            unit=\"%\"\r\n            fixed={2}\r\n            domainX={{ min: start, max: end }}\r\n            domainY={{ min: 0, max: 100 }}\r\n          />\r\n          <EuiSpacer size=\"l\" />\r\n          <NocChart\r\n            title=\"記憶體使用率\"\r\n            data={memory}\r\n            unit=\"%\"\r\n            fixed={2}\r\n            domainX={{ min: start, max: end }}\r\n            domainY={{ min: 0, max: 100 }}\r\n          />\r\n          <EuiSpacer size=\"l\" />\r\n          <NocChart\r\n            title=\"磁碟使用率\"\r\n            data={storage}\r\n            unit=\"%\"\r\n            fixed={2}\r\n            domainX={{ min: start, max: end }}\r\n            domainY={{ min: 0, max: 100 }}\r\n          />\r\n        </EuiPageContentBody>\r\n      </EuiPageContent>\r\n    </PageLayout>\r\n  );\r\n}\r\n\r\n/* 更新器 */\r\nfunction useNocUpdater(\r\n  update: (() => void) | undefined,\r\n  refreshRate: OptionValue\r\n) {\r\n  const updater = useRef(-1);\r\n\r\n  useEffect(() => {\r\n    clearInterval(updater.current);\r\n    if (!update) return;\r\n    update();\r\n    if (Number(refreshRate) <= 0) return;\r\n    updater.current = setInterval(update, Number(refreshRate) * 1000);\r\n  }, [refreshRate, update]);\r\n}\r\n\r\n/* 主機群組 */\r\nfunction useNocHostGroups() {\r\n  const [groups, setGroups] = useState<UniNocHostGroup[]>([]);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      await getNocApiKey('Admin', 'zabbix');\r\n      const res_1 = await getNocHostGroups();\r\n      setGroups(res_1.data.result);\r\n    })();\r\n  }, []);\r\n\r\n  return groups;\r\n}\r\n\r\n/* 主機列表 */\r\nfunction useNocHosts(group: OptionValue) {\r\n  const [hosts, setHosts] = useState<UniNocHost[]>([]);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      if (!group) return;\r\n      const id = optionValueToString(group);\r\n      const res = await getNocAllHosts([id]);\r\n      setHosts(res.data.result);\r\n    })();\r\n  }, [group]);\r\n\r\n  return hosts;\r\n}\r\n\r\n/* Noc資料集合 */\r\nfunction useNocDataSet(hostName: string, start: Moment, end: Moment) {\r\n  const props = useMemo<[string, number, number]>(\r\n    () => [\r\n      hostName,\r\n      Math.floor(start.valueOf() / 1000),\r\n      Math.floor(end.valueOf() / 1000)\r\n    ],\r\n    [end, hostName, start]\r\n  );\r\n\r\n  const upload = useNocData('Bits sent', true, ...props);\r\n  const download = useNocData('Bits received', true, ...props);\r\n  const memory = useNocData('Memory utilization', false, ...props);\r\n  const cpu = useNocData('CPU utilization', false, ...props);\r\n  const storage = useNocData('Storage utilization', false, ...props);\r\n\r\n  return { upload, download, memory, cpu, storage };\r\n}\r\n\r\n/* Noc資料 */\r\nfunction useNocData(\r\n  itemName: string,\r\n  isNetwork: boolean,\r\n  hostName: string,\r\n  start: number,\r\n  end: number\r\n) {\r\n  const [data, setData] = useState<NocChartData[]>([]);\r\n\r\n  const update = useCallback(async () => {\r\n    if (!hostName) return;\r\n    const res_1 = await getNocHostItem(hostName, itemName ?? '');\r\n    const items = res_1.data.result;\r\n    const itemids = items.map(item => item.itemid);\r\n    const res_2 = await Promise.all(\r\n      itemids.map(id => getNocItemTimeline([id], isNetwork, start, end))\r\n    );\r\n    setData(\r\n      res_2.map((res, i) => ({\r\n        name: items[i].name,\r\n        items: res.data.result.map(item => ({\r\n          clock: Number(item.clock),\r\n          value: item.value\r\n        }))\r\n      }))\r\n    );\r\n  }, [end, hostName, isNetwork, itemName, start]);\r\n\r\n  useEffect(() => {\r\n    update();\r\n  }, [update]);\r\n\r\n  return data;\r\n}\r\n","import moment, { Moment, unitOfTime } from 'moment';\r\nimport { useCallback, useState } from 'react';\r\n\r\nexport function useNocTimeRange() {\r\n  const [endTime, setEndTime] = useState<Moment>(moment());\r\n  const [startTime, setStartTime] = useState<Moment>(\r\n    endTime.clone().subtract(1, 'day')\r\n  );\r\n  const [range, setRange] = useState('1_d');\r\n  const onChangeEnd = (time: Moment) => {\r\n    const newUnix = time.unix();\r\n    if (endTime.unix() !== newUnix) {\r\n      setEndTime(time);\r\n      if (startTime.unix() > newUnix) {\r\n        setStartTime(moment(newUnix, 'X'));\r\n      }\r\n    }\r\n    setRange('');\r\n  };\r\n\r\n  const onChangeStart = (time: Moment) => {\r\n    const newUnix = time.unix();\r\n    if (startTime.unix() !== newUnix) {\r\n      setStartTime(time);\r\n      if (newUnix > endTime.unix()) {\r\n        setEndTime(moment(newUnix, 'X'));\r\n      }\r\n    }\r\n    setRange('');\r\n  };\r\n\r\n  const onListItemClick = (value: string[]) => {\r\n    updateTimeRange(value);\r\n    setRange(value.join('_'));\r\n  };\r\n\r\n  const updateTimeRange = useCallback((value: string[]) => {\r\n    const now = moment();\r\n    setEndTime(now);\r\n    setStartTime(\r\n      now.clone().subtract(value[0], value[1] as unitOfTime.DurationConstructor)\r\n    );\r\n  }, []);\r\n\r\n  const update = useCallback(() => {\r\n    if (!range) return;\r\n    const value = range.split('_');\r\n    updateTimeRange(value);\r\n  }, [range, updateTimeRange]);\r\n\r\n  return {\r\n    update: range ? update : undefined,\r\n    timeRange: {\r\n      startTime,\r\n      onChangeStart,\r\n      endTime,\r\n      onChangeEnd,\r\n      onListItemClick\r\n    }\r\n  };\r\n}\r\n","import { EuiLoadingSpinner } from '@elastic/eui';\r\nimport React from 'react';\r\nimport styled from 'styled-components';\r\n\r\ninterface Props {\r\n  backgroundColor?: string;\r\n}\r\n\r\nconst Wrapper = styled.div<Props>`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background: ${p => p.backgroundColor ?? '#fafbfd'};\r\n  z-index: 10000;\r\n`;\r\n\r\nexport default function AppLoading({ backgroundColor }: Props) {\r\n  return (\r\n    <Wrapper backgroundColor={backgroundColor}>\r\n      <EuiLoadingSpinner size=\"xl\" />\r\n    </Wrapper>\r\n  );\r\n}\r\n","import React, { MouseEventHandler, useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport {\r\n  EuiHeader,\r\n  EuiHeaderSection,\r\n  EuiShowFor,\r\n  EuiHeaderSectionItem,\r\n  EuiHeaderSectionItemButton,\r\n  EuiIcon,\r\n  EuiHeaderLogo,\r\n  EuiAvatar,\r\n  EuiPopover,\r\n  EuiListGroup,\r\n  EuiListGroupItem,\r\n  EuiHorizontalRule\r\n} from '@elastic/eui';\r\n\r\nimport { useGlobalState } from 'contexts/GlobalStateContext';\r\nimport { logout } from 'utils/api/unilog';\r\nimport { MainAccessType, SubAccessType } from 'utils/accessLevel';\r\nimport logo from 'assets/logo.png';\r\nimport { RoutePath } from 'utils/enums';\r\n\r\ninterface Props {\r\n  onMenuButtonClick?: () => void;\r\n}\r\nexport default function Header({ onMenuButtonClick }: Props) {\r\n  const { isLocal, getAccessLevel, isMainTitleReadable } = useGlobalState();\r\n  const {\r\n    userMenuActive,\r\n    setUserMenuActive,\r\n    onListItemClick,\r\n    handleUserMenuClose\r\n  } = useUserMenu();\r\n\r\n  return (\r\n    <EuiHeader style={{ position: 'sticky', top: 0 }}>\r\n      <EuiHeaderSection>\r\n        <EuiShowFor sizes={['xs', 's']}>\r\n          <EuiHeaderSectionItem border=\"right\">\r\n            <EuiHeaderSectionItemButton onClick={onMenuButtonClick}>\r\n              <EuiIcon type=\"apps\" href=\"#\" size=\"m\" />\r\n            </EuiHeaderSectionItemButton>\r\n          </EuiHeaderSectionItem>\r\n        </EuiShowFor>\r\n        <EuiHeaderSectionItem border=\"right\">\r\n          <EuiHeaderLogo iconType={logo} href=\"#\">\r\n            UNILOG\r\n          </EuiHeaderLogo>\r\n        </EuiHeaderSectionItem>\r\n      </EuiHeaderSection>\r\n      <EuiHeaderSection>\r\n        <EuiHeaderSectionItem>\r\n          <EuiPopover\r\n            ownFocus\r\n            button={\r\n              <EuiHeaderSectionItemButton\r\n                onClick={() => setUserMenuActive(prev => !prev)}\r\n              >\r\n                <EuiAvatar name=\"User\" />\r\n              </EuiHeaderSectionItemButton>\r\n            }\r\n            isOpen={userMenuActive}\r\n            closePopover={handleUserMenuClose}\r\n            anchorPosition=\"leftUp\"\r\n          >\r\n            <EuiListGroup flush>\r\n              <EuiListGroupItem\r\n                onClick={onListItemClick}\r\n                label=\"修改基本資料\"\r\n                name={RoutePath.Profile}\r\n                iconType=\"documentEdit\"\r\n              />\r\n              {isLocal && (\r\n                <EuiListGroupItem\r\n                  onClick={onListItemClick}\r\n                  label=\"修改密碼\"\r\n                  name={RoutePath.ChangePW}\r\n                  iconType=\"lock\"\r\n                />\r\n              )}\r\n              <EuiListGroupItem\r\n                onClick={onListItemClick}\r\n                label=\"登出\"\r\n                name=\"logout\"\r\n                iconType=\"popout\"\r\n              />\r\n              {isMainTitleReadable(MainAccessType.UserMenu) && (\r\n                <EuiHorizontalRule margin=\"s\" />\r\n              )}\r\n              {getAccessLevel(SubAccessType.User).read && (\r\n                <EuiListGroupItem\r\n                  onClick={onListItemClick}\r\n                  label=\"使用者管理\"\r\n                  name={RoutePath.User}\r\n                  iconType=\"user\"\r\n                />\r\n              )}\r\n              {getAccessLevel(SubAccessType.Authority).read && (\r\n                <EuiListGroupItem\r\n                  onClick={onListItemClick}\r\n                  label=\"權限管理\"\r\n                  name={RoutePath.Authority}\r\n                  iconType=\"tableDensityExpanded\"\r\n                />\r\n              )}\r\n            </EuiListGroup>\r\n          </EuiPopover>\r\n        </EuiHeaderSectionItem>\r\n      </EuiHeaderSection>\r\n    </EuiHeader>\r\n  );\r\n}\r\n\r\n/** 使用者頭像選單的功能 */\r\nfunction useUserMenu() {\r\n  const {\r\n    push,\r\n    location: { pathname }\r\n  } = useHistory();\r\n  const { setIsLoggedIn } = useGlobalState();\r\n  const [userMenuActive, setUserMenuActive] = useState(false);\r\n\r\n  const handleUserMenuClose = () => {\r\n    setUserMenuActive(false);\r\n  };\r\n\r\n  const onListItemClick: MouseEventHandler<HTMLButtonElement> = ev => {\r\n    const { name } = ev.currentTarget;\r\n    if (name === 'logout') {\r\n      logout();\r\n      setIsLoggedIn(false);\r\n    } else {\r\n      if (name !== pathname) push(name);\r\n    }\r\n    handleUserMenuClose();\r\n  };\r\n\r\n  return {\r\n    userMenuActive,\r\n    setUserMenuActive,\r\n    onListItemClick,\r\n    handleUserMenuClose\r\n  };\r\n}\r\n","import React, { ReactNode } from 'react';\r\nimport styled from 'styled-components';\r\n\r\ninterface Props {\r\n  children: ReactNode;\r\n}\r\nexport default function SideNavTextIcon({ children }: Props) {\r\n  return (\r\n    <span style={{ marginRight: '12px' }}>\r\n      <TextIcon>{children}</TextIcon>\r\n    </span>\r\n  );\r\n}\r\n\r\nconst TextIcon = styled.div`\r\n  height: 18px;\r\n  line-height: 18px;\r\n  width: 18px;\r\n  margin-left: -1.5px;\r\n  text-align: center;\r\n  border-radius: 4px;\r\n  font-size: 20px;\r\n  font-family: Lay Of The Land;\r\n`;\r\n","import React, { RefObject, useMemo } from 'react';\r\nimport { EuiNavDrawer, EuiNavDrawerGroup } from '@elastic/eui';\r\nimport { FlyoutMenuItem } from '@elastic/eui/src/components/nav_drawer/nav_drawer_group';\r\nimport { useGlobalState } from 'contexts/GlobalStateContext';\r\nimport { MainAccessType, SubAccessType } from 'utils/accessLevel';\r\nimport TextIcon from 'components/TextIcon';\r\n\r\ninterface Props {\r\n  navDrawerRef: RefObject<EuiNavDrawer>;\r\n}\r\nexport default function SideNav({ navDrawerRef }: Props) {\r\n  const { listItems } = useDrawer();\r\n\r\n  return (\r\n    <EuiNavDrawer ref={navDrawerRef}>\r\n      <EuiNavDrawerGroup listItems={listItems} />\r\n    </EuiNavDrawer>\r\n  );\r\n}\r\n\r\nfunction useDrawer() {\r\n  const { getAccessLevel, isMainTitleReadable } = useGlobalState();\r\n\r\n  /** 子標題 */\r\n  const subItems = useMemo<(FlyoutMenuItem & { active?: boolean })[][]>(\r\n    () => [\r\n      [\r\n        {\r\n          label: 'Discover',\r\n          iconType: 'discoverApp',\r\n          href: '/#/log/discover',\r\n          active: getAccessLevel(SubAccessType.Discover).read\r\n        },\r\n        {\r\n          label: 'fortigate:對外連線',\r\n          iconType: 'dashboardApp',\r\n          href: '/#/log/dashboard/1',\r\n          active: getAccessLevel(SubAccessType.Dashboard_1).read\r\n        },\r\n        {\r\n          label: 'fortigate:對內連線阻擋',\r\n          iconType: 'dashboardApp',\r\n          href: '/#/log/dashboard/2',\r\n          active: getAccessLevel(SubAccessType.Dashboard_2).read\r\n        },\r\n        {\r\n          label: '受攻擊次數統計及圖表',\r\n          iconType: 'dashboardApp',\r\n          href: '/#/log/dashboard/3',\r\n          active: getAccessLevel(SubAccessType.Dashboard_3).read\r\n        },\r\n        {\r\n          label: '入口網登入次數統計',\r\n          iconType: 'dashboardApp',\r\n          href: '/#/log/statistics/1',\r\n          active: getAccessLevel(SubAccessType.PortalStatistics_1).read\r\n        },\r\n        {\r\n          label: '入口網登入阻擋次數統計',\r\n          iconType: 'dashboardApp',\r\n          href: '/#/log/statistics/2',\r\n          active: getAccessLevel(SubAccessType.PortalStatistics_2).read\r\n        },\r\n        {\r\n          label: '入口網使用者成功登入次數',\r\n          iconType: 'dashboardApp',\r\n          href: '/#/log/statistics/3',\r\n          active: getAccessLevel(SubAccessType.PortalStatistics_3).read\r\n        },\r\n        {\r\n          label: '日誌報表',\r\n          iconType: 'watchesApp',\r\n          href: '/#/log/report',\r\n          active: getAccessLevel(SubAccessType.LogReport).read\r\n        },\r\n        {\r\n          label: 'Log備份',\r\n          iconType: 'watchesApp',\r\n          href: '/#/log/backup',\r\n          active: getAccessLevel(SubAccessType.LogBackup).read\r\n        },\r\n        {\r\n          label: '日誌告警',\r\n          iconType: 'watchesApp',\r\n          href: 'https://10.138.14.113:8082/',\r\n          target: '_blank',\r\n          active: getAccessLevel(SubAccessType.LogAlert).read\r\n        },\r\n        {\r\n          label: '檔案監控',\r\n          iconType: 'dashboardApp',\r\n          href: '/#/log/watchLog',\r\n          active: getAccessLevel(SubAccessType.WatchLog).read\r\n        }\r\n      ],\r\n      [\r\n        {\r\n          label: 'UniNOC',\r\n          iconType: 'dashboardApp',\r\n          href: '/#/noc',\r\n          active: getAccessLevel(SubAccessType.UniNOC).read\r\n        }\r\n      ],\r\n      [\r\n        {\r\n          label: 'UniWatch',\r\n          iconType: 'dashboardApp',\r\n          href: '/#/watch',\r\n          active: getAccessLevel(SubAccessType.UniWatch).read\r\n        }\r\n      ]\r\n    ],\r\n    [getAccessLevel]\r\n  );\r\n\r\n  /** 父標題 */\r\n  const mainItems = useMemo<(FlyoutMenuItem & { active?: boolean })[]>(\r\n    () => [\r\n      {\r\n        label: 'UniLOG',\r\n        iconType: () => <TextIcon>L</TextIcon>,\r\n        flyoutMenu: {\r\n          title: 'UniLOG',\r\n          listItems: subItems[0]\r\n            .filter(item => item.active)\r\n            .map(item => {\r\n              delete item.active;\r\n              return item;\r\n            })\r\n        },\r\n        active: isMainTitleReadable(MainAccessType.UniLOG)\r\n      },\r\n      {\r\n        label: 'UniNOC',\r\n        iconType: () => <TextIcon>N</TextIcon>,\r\n        flyoutMenu: {\r\n          title: 'UniNOC',\r\n          listItems: subItems[1]\r\n            .filter(item => item.active)\r\n            .map(item => {\r\n              delete item.active;\r\n              return item;\r\n            })\r\n        },\r\n        active: isMainTitleReadable(MainAccessType.UniNOC)\r\n      },\r\n      {\r\n        label: 'UniWatch',\r\n        iconType: () => <TextIcon>W</TextIcon>,\r\n        flyoutMenu: {\r\n          title: 'UniWatch',\r\n          listItems: subItems[2]\r\n            .filter(item => item.active)\r\n            .map(item => {\r\n              delete item.active;\r\n              return item;\r\n            })\r\n        },\r\n        active: isMainTitleReadable(MainAccessType.UniWatch)\r\n      }\r\n    ],\r\n    [isMainTitleReadable, subItems]\r\n  );\r\n\r\n  const listItems = useMemo(\r\n    () =>\r\n      mainItems\r\n        .filter(item => item.active)\r\n        .map(item => {\r\n          delete item.active;\r\n          return item;\r\n        }),\r\n    [mainItems]\r\n  );\r\n\r\n  return { listItems };\r\n}\r\n","import axios from 'axios';\r\n\r\nvar baseURL = '';\r\nexport const setLogReportURL = (url: string) => (baseURL = url);\r\nexport const getLogReportURL = () => baseURL;\r\n\r\nexport interface LogsReportResponse {\r\n  executions: LogsReport[];\r\n}\r\n\r\nexport interface LogsReport {\r\n  execution_id: string;\r\n  state: string;\r\n  hostname: string;\r\n  pid: number;\r\n  task_id: null;\r\n  description: string;\r\n  result: string;\r\n  scheduled_time: string;\r\n  updated_time: string;\r\n  job: LogsReportJob;\r\n}\r\n\r\nexport interface LogsReportJob {\r\n  job_id: string;\r\n  name: string;\r\n  task_name: string;\r\n  pub_args: JobPubArges;\r\n  month: string;\r\n  day: string;\r\n  week: string;\r\n  day_of_week: string;\r\n  hour: string;\r\n  minute: string;\r\n}\r\n\r\nexport interface JobPubArges {\r\n  '\\u6642\\u9593': string;\r\n  kibana_IP: string;\r\n  '\\u5354\\u5b9a\\u985e\\u5225': string;\r\n  '\\u5100\\u8868\\u677f\\u540d\\u7a31': string;\r\n  '\\u6536\\u4ef6\\u8005': string;\r\n}\r\n\r\nexport function getLogReport(start: string, end: string) {\r\n  const time_range_start = dateMinus8Hours(start);\r\n  const time_range_end = dateMinus8Hours(end);\r\n\r\n  return axios\r\n    .get<LogsReportResponse>(baseURL + '/api/v1/executions', {\r\n      params: { time_range_start, time_range_end }\r\n    })\r\n    .then(res => res.data.executions);\r\n}\r\n\r\nfunction dateMinus8Hours(date: string) {\r\n  let millisecond = Date.parse(date);\r\n  millisecond += (8 * 60 + 6) * 60 * 1000;\r\n  return new Date(millisecond);\r\n}\r\n","import { useState, ChangeEventHandler } from 'react';\r\n\r\nexport function useEuiInput(initValue = '') {\r\n  const [value, setValue] = useState(initValue);\r\n\r\n  const onChange: ChangeEventHandler<HTMLInputElement> = e => {\r\n    const { value } = e.target;\r\n    setValue(value);\r\n  };\r\n\r\n  return { value, onChange };\r\n}\r\n","import { EuiButton, EuiFieldText, EuiFormRow } from '@elastic/eui';\r\nimport Modal from 'components/Modal';\r\nimport { useGlobalUI } from 'contexts/GlobalUIContext';\r\nimport { useEuiInput } from 'hooks/useEuiInput';\r\nimport React, { useState } from 'react';\r\nimport { useForm, UseFormMethods } from 'react-hook-form';\r\nimport { backupRestore } from 'utils/api/unilog';\r\n\r\ninterface Props {\r\n  id: string;\r\n  active: boolean;\r\n  onClose: () => void;\r\n  onSubmit: () => void;\r\n}\r\nexport default function RecoverModal(props: Props) {\r\n  const { id, active, onClose, onSubmit } = props;\r\n  const form = useForm();\r\n  const { handleSubmit } = form;\r\n  const { toast } = useGlobalUI();\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const formEl = useFormEl(id, form);\r\n\r\n  const onFormSubmit = (value: any) => {\r\n    const data = {\r\n      ...value,\r\n      zipName: id\r\n    };\r\n    setSubmitting(true);\r\n    backupRestore(data)\r\n      .then(() => {\r\n        onClose();\r\n        onSubmit();\r\n        toast.addToast('success', '復原成功');\r\n      })\r\n      .catch(() => toast.addToast('error', '復原失敗'))\r\n      .finally(() => setSubmitting(false));\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      active={active}\r\n      onClose={submitting ? () => {} : onClose}\r\n      header=\"Log復原\"\r\n      onSubmit={handleSubmit(onFormSubmit)}\r\n      footer={\r\n        <>\r\n          <EuiButton type=\"submit\" disabled={submitting} isLoading={submitting}>\r\n            復原\r\n          </EuiButton>\r\n          <EuiButton disabled={submitting} onClick={onClose}>\r\n            取消\r\n          </EuiButton>\r\n        </>\r\n      }\r\n    >\r\n      {formEl.map(el => (\r\n        <EuiFormRow\r\n          label={el.label}\r\n          key={el.label}\r\n          isInvalid={el.isInvalid}\r\n          error={el.error}\r\n        >\r\n          <EuiFieldText\r\n            {...el.input}\r\n            name={el.name}\r\n            inputRef={el.inputRef}\r\n            disabled={submitting || el.disabled}\r\n            isInvalid={el.isInvalid}\r\n          />\r\n        </EuiFormRow>\r\n      ))}\r\n    </Modal>\r\n  );\r\n}\r\n\r\nfunction useFormEl(id: string, form: UseFormMethods) {\r\n  const pwInput = useEuiInput();\r\n  const nameInput = {\r\n    value: id,\r\n    onChange: () => {}\r\n  };\r\n\r\n  return [\r\n    {\r\n      label: '備份檔名',\r\n      name: 'zipName',\r\n      inputRef: form.register,\r\n      input: nameInput,\r\n      disabled: true\r\n    },\r\n    {\r\n      label: '檔案密碼',\r\n      name: 'zipPwd',\r\n      inputRef: form.register({ required: '不能為空' }),\r\n      input: pwInput,\r\n      isInvalid: Boolean(form.errors?.zipPwd),\r\n      error: form.errors?.zipPwd?.message\r\n    }\r\n  ];\r\n}\r\n","import { EuiFlexGroup, EuiFlexItem, EuiFormRow } from '@elastic/eui';\r\nimport React, { CSSProperties } from 'react';\r\nimport { FlexGrow } from 'utils/types';\r\n\r\ninterface Props {\r\n  controls: FlexControlSetting[];\r\n}\r\nexport default function FlexControl(props: Props) {\r\n  const { controls } = props;\r\n\r\n  return (\r\n    <EuiFlexGroup>\r\n      {controls.map(ctrl => (\r\n        <EuiFlexItem\r\n          grow={ctrl.grow as FlexGrow}\r\n          key={ctrl.label}\r\n          style={{ maxWidth: '400px', ...ctrl.style }}\r\n        >\r\n          <EuiFormRow label={ctrl.label} key={ctrl.label}>\r\n            {ctrl.render()}\r\n          </EuiFormRow>\r\n        </EuiFlexItem>\r\n      ))}\r\n    </EuiFlexGroup>\r\n  );\r\n}\r\n\r\nexport interface FlexControlSetting {\r\n  label: string;\r\n  grow: FlexGrow;\r\n  style?: CSSProperties;\r\n  render: (...value: any) => JSX.Element;\r\n}\r\n","import { useEffect, useRef, useState } from 'react';\r\n\r\nexport function useDelayValue<T>(value: T, delay: number = 500) {\r\n  const [newValue, setNewValue] = useState(value);\r\n  const timeout = useRef(-1);\r\n\r\n  useEffect(() => {\r\n    clearTimeout(timeout.current);\r\n    timeout.current = setTimeout(() => {\r\n      setNewValue(value);\r\n    }, delay);\r\n  }, [delay, value]);\r\n\r\n  return newValue;\r\n}\r\n","import { EuiCheckbox } from '@elastic/eui';\r\nimport React, { ChangeEventHandler } from 'react';\r\nimport { Dispatch, SetStateAction } from 'react';\r\n\r\ninterface Props {\r\n  id: string;\r\n  checkedId: string;\r\n  setCheckedId: Dispatch<SetStateAction<string>>;\r\n  label?: string;\r\n  disabled?: boolean;\r\n}\r\nexport function SingleChoiceCheckBox(props: Props) {\r\n  const { id, checkedId, setCheckedId, label, disabled } = props;\r\n\r\n  const onChange: ChangeEventHandler<HTMLInputElement> = e => {\r\n    const { checked } = e.target;\r\n    setCheckedId(checked ? id : '');\r\n  };\r\n\r\n  return (\r\n    <EuiCheckbox\r\n      id={id}\r\n      label={label}\r\n      checked={id === checkedId}\r\n      disabled={disabled}\r\n      onChange={onChange}\r\n    />\r\n  );\r\n}\r\n","import moment from 'moment';\r\n\r\nexport function dateTimeToString(dateTime: any) {\r\n  return moment(dateTime).locale('zh-tw').format('YYYY/MM/DD Ahh:mm:ss');\r\n}\r\n","import React, {\r\n  ChangeEventHandler,\r\n  Dispatch,\r\n  SetStateAction,\r\n  useCallback,\r\n  useMemo,\r\n  useRef,\r\n  useState\r\n} from 'react';\r\n\r\nimport PageLayout from 'layouts/PageLayout';\r\nimport {\r\n  EuiPageContent,\r\n  EuiPageContentBody,\r\n  EuiFlexGroup,\r\n  EuiSpacer,\r\n  EuiButton,\r\n  EuiFieldText,\r\n  EuiBasicTableColumn\r\n} from '@elastic/eui';\r\nimport RecoverModal from 'components/Log/Backup/RecoverModal';\r\nimport { getBackupMain } from 'utils/api/unilog';\r\nimport { RoutePath } from 'utils/enums';\r\nimport FlexControl from 'components/FlexControl';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { CustomTableOptions, useCustomTable } from 'hooks/useCustomTable';\r\nimport CustomTable, { LoadingState } from 'components/CustomTable';\r\nimport { UniLogBackupItem } from 'utils/api/unilog/model';\r\nimport { useDelayValue } from 'hooks/useDelayValue';\r\nimport { FlexGrow } from 'utils/types';\r\nimport { SingleChoiceCheckBox } from 'components/SingleChoiceCheckBox';\r\nimport { dateTimeToString } from 'utils/scripts';\r\nimport { useGlobalState } from 'contexts/GlobalStateContext';\r\nimport { SubAccessType } from 'utils/accessLevel';\r\n\r\nexport default function Backup() {\r\n  const { getAccessLevel } = useGlobalState();\r\n  const [checkedId, setCheckedId] = useState('');\r\n  const [trigger, setTrigger] = useState(false);\r\n  const [modalActive, setModalActive] = useState(false);\r\n  const {\r\n    onRefreshClick,\r\n    onBackupBtnClick,\r\n    onPolicyBtnClick,\r\n    onRecoverBtnClick\r\n  } = useBackupActions(setModalActive, setTrigger);\r\n  const controls = useFlexControl(onRefreshClick);\r\n  const { tableProps } = useBackupTable(\r\n    controls.value.fileName,\r\n    checkedId,\r\n    setCheckedId,\r\n    trigger,\r\n    () => setCheckedId('')\r\n  );\r\n\r\n  return (\r\n    <PageLayout title=\"Log備份\">\r\n      <EuiPageContent>\r\n        <EuiPageContentBody>\r\n          <FlexControl controls={controls.props} />\r\n          <EuiSpacer size=\"l\" />\r\n          <CustomTable\r\n            className=\"backup-table\"\r\n            {...tableProps}\r\n            itemId=\"zip_name\"\r\n          />\r\n          <EuiSpacer size=\"l\" />\r\n          <EuiFlexGroup justifyContent=\"flexEnd\" style={{ margin: 0 }}>\r\n            {getAccessLevel(SubAccessType.BackupList).read && (\r\n              <EuiButton onClick={onBackupBtnClick}>排程清單</EuiButton>\r\n            )}\r\n            {getAccessLevel(SubAccessType.BackupPolicy).read && (\r\n              <>\r\n                <div style={{ width: '16px' }} />\r\n                <EuiButton onClick={onPolicyBtnClick}>排程規則</EuiButton>\r\n              </>\r\n            )}\r\n            {getAccessLevel(SubAccessType.LogBackup).write && (\r\n              <>\r\n                <div style={{ width: '16px' }} />\r\n                <EuiButton onClick={onRecoverBtnClick} disabled={!checkedId}>\r\n                  復原\r\n                </EuiButton>\r\n              </>\r\n            )}\r\n          </EuiFlexGroup>\r\n        </EuiPageContentBody>\r\n      </EuiPageContent>\r\n      <RecoverModal\r\n        id={checkedId}\r\n        active={modalActive && !!checkedId}\r\n        onClose={() => setModalActive(false)}\r\n        onSubmit={() => {}}\r\n      />\r\n    </PageLayout>\r\n  );\r\n}\r\n\r\n/* 動作 */\r\nfunction useBackupActions(\r\n  setModalActive: Dispatch<SetStateAction<boolean>>,\r\n  setTrigger: Dispatch<SetStateAction<boolean>>\r\n) {\r\n  const { push } = useHistory();\r\n\r\n  const onRefreshClick = () => {\r\n    setTrigger(prev => !prev);\r\n  };\r\n\r\n  const onBackupBtnClick = () => {\r\n    push(RoutePath.LogBackupList);\r\n  };\r\n\r\n  const onPolicyBtnClick = () => {\r\n    push(RoutePath.LogBackupPolicy);\r\n  };\r\n\r\n  const onRecoverBtnClick = () => {\r\n    setModalActive(true);\r\n  };\r\n\r\n  return {\r\n    onRefreshClick,\r\n    onPolicyBtnClick,\r\n    onBackupBtnClick,\r\n    onRecoverBtnClick\r\n  };\r\n}\r\n\r\n/* 表單 */\r\nfunction useBackupTable(\r\n  zipName: string,\r\n  checkedId: string,\r\n  setCheckedId: Dispatch<SetStateAction<string>>,\r\n  trigger: boolean,\r\n  onUpdate: (items: UniLogBackupItem[]) => void\r\n) {\r\n  const [loadingState, setLoadingState] = useState<LoadingState>('none');\r\n  const columns = useColumns(loadingState, checkedId, setCheckedId);\r\n  const options = useRef<CustomTableOptions<UniLogBackupItem>>({\r\n    size: 10,\r\n    onUpdate\r\n  });\r\n\r\n  const fetcher = useCallback(() => {\r\n    trigger.valueOf();\r\n    return getBackupMain(zipName);\r\n  }, [zipName, trigger]);\r\n\r\n  return useCustomTable(\r\n    loadingState,\r\n    setLoadingState,\r\n    fetcher,\r\n    columns,\r\n    'zip_name',\r\n    options.current\r\n  );\r\n}\r\n\r\n/* 欄位格式 */\r\nfunction useColumns(\r\n  loadingState: LoadingState,\r\n  checkedId: string,\r\n  setCheckedId: Dispatch<SetStateAction<string>>\r\n) {\r\n  const columns = useMemo<EuiBasicTableColumn<UniLogBackupItem>[]>(\r\n    () => [\r\n      {\r\n        name: '',\r\n        render: (value: UniLogBackupItem) => (\r\n          <SingleChoiceCheckBox\r\n            id={value.zip_name}\r\n            checkedId={checkedId}\r\n            disabled={loadingState !== 'none'}\r\n            setCheckedId={setCheckedId}\r\n          />\r\n        ),\r\n        style: { width: '50px' }\r\n      },\r\n      { field: 'index_name', name: 'index 名稱' },\r\n      { field: 'state', name: '狀態' },\r\n      { field: 'zip_name', name: '備份檔名' },\r\n      {\r\n        field: 'start_time',\r\n        name: '備份起始時間',\r\n        render: (value: string) => dateTimeToString(value)\r\n      },\r\n      {\r\n        field: 'end_time',\r\n        name: '備份結束時間',\r\n        render: (value: string) => dateTimeToString(value)\r\n      }\r\n    ],\r\n    [checkedId, loadingState, setCheckedId]\r\n  );\r\n\r\n  return columns;\r\n}\r\n\r\n/** 搜尋條件 */\r\nfunction useFlexControl(onRefreshClick: () => void) {\r\n  const fileName = useInput('備份檔名');\r\n\r\n  const refreshBtnProps = {\r\n    label: '　',\r\n    grow: false,\r\n    style: { marginLeft: 'auto' },\r\n    render: () => (\r\n      <EuiButton onClick={onRefreshClick}>備份清單Refresh</EuiButton>\r\n    )\r\n  };\r\n\r\n  return {\r\n    value: { fileName: fileName.value },\r\n    props: [fileName.props, refreshBtnProps]\r\n  };\r\n}\r\n\r\n/** 輸入框 */\r\nfunction useInput(label: string) {\r\n  const [value, setValue] = useState('');\r\n  const delayValue = useDelayValue(value);\r\n\r\n  const onChange: ChangeEventHandler<HTMLInputElement> = e => {\r\n    const { value } = e.target;\r\n    setValue(value);\r\n  };\r\n\r\n  return {\r\n    value: delayValue,\r\n    props: {\r\n      label,\r\n      grow: 1 as FlexGrow,\r\n      render: () => <EuiFieldText {...{ value, onChange }} />\r\n    }\r\n  };\r\n}\r\n","import { LoadingState } from 'components/CustomTable';\r\nimport { useGlobalUI } from 'contexts/GlobalUIContext';\r\nimport { useState, useRef, useCallback, useEffect } from 'react';\r\n\r\nexport function useBackupRequestTable<T = any>(\r\n  name: string,\r\n  fetcher: (from: number, name: string) => Promise<T[]>\r\n) {\r\n  const { toast } = useGlobalUI();\r\n  const { addToast } = toast;\r\n  const [loadingState, setLoadingState] = useState<LoadingState>('none');\r\n  const index = useRef(0);\r\n  const size = useRef(0);\r\n  const [items, setItems] = useState<T[]>([]);\r\n\r\n  const hasPrev = index.current > 0;\r\n  const hasNext = true;\r\n\r\n  const gotoPrev = () => {\r\n    if (index.current === 0) return;\r\n    update(-1);\r\n  };\r\n\r\n  const gotoNext = () => {\r\n    update(1);\r\n  };\r\n\r\n  const update = useCallback<(value?: number) => Promise<T[]>>(\r\n    (value = 0) => {\r\n      setLoadingState(getLoadingStateByValue(value));\r\n      const from = (index.current + value) * size.current;\r\n      return fetcher(from, name)\r\n        .then(res => {\r\n          if (res.length === 0 && value === 1) {\r\n            addToast('warn', '無資料');\r\n            return res;\r\n          }\r\n          size.current = res.length > size.current ? res.length : size.current;\r\n          index.current += value;\r\n          setItems(res);\r\n          return res;\r\n        })\r\n        .finally(() => setLoadingState('none'));\r\n    },\r\n    [fetcher, name, addToast]\r\n  );\r\n\r\n  useEffect(() => {\r\n    update();\r\n  }, [update]);\r\n\r\n  return {\r\n    update,\r\n    tableProps: {\r\n      loadingState,\r\n      items,\r\n      hasPrev,\r\n      hasNext,\r\n      gotoPrev,\r\n      gotoNext\r\n    }\r\n  };\r\n}\r\n\r\nfunction getLoadingStateByValue(value: number): LoadingState {\r\n  switch (value) {\r\n    case 1:\r\n      return 'next';\r\n    case -1:\r\n      return 'prev';\r\n    default:\r\n      return 'all';\r\n  }\r\n}\r\n","import {\r\n  EuiButton,\r\n  EuiFieldText,\r\n  EuiFormRow,\r\n  EuiSelect,\r\n  EuiSelectOption\r\n} from '@elastic/eui';\r\nimport Modal from 'components/Modal';\r\nimport { useGlobalUI } from 'contexts/GlobalUIContext';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useForm, UseFormMethods } from 'react-hook-form';\r\nimport { backupIndexEdit } from 'utils/api/unilog';\r\nimport {\r\n  UniLogBackupIndexBody,\r\n  UniLogBackupIndexItem\r\n} from 'utils/api/unilog/model';\r\n\r\ninterface Props {\r\n  item?: UniLogBackupIndexItem;\r\n  active: boolean;\r\n  onClose: () => void;\r\n  onSubmit: () => void;\r\n}\r\nexport default function IndexEditModal(props: Props) {\r\n  const { item, active, onClose, onSubmit } = props;\r\n  const form = useForm<UniLogBackupIndexBody>();\r\n  const { handleSubmit } = form;\r\n  const { toast } = useGlobalUI();\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const formEl = useFormEl(item, form, submitting);\r\n\r\n  const editType = item ? '編輯' : '新增';\r\n\r\n  const onFormSubmit = (value: any) => {\r\n    setSubmitting(true);\r\n    backupIndexEdit(value)\r\n      .then(() => {\r\n        onClose();\r\n        onSubmit();\r\n        toast.addToast('success', '儲存成功');\r\n      })\r\n      .catch(() => toast.addToast('error', '儲存失敗'))\r\n      .finally(() => setSubmitting(false));\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      active={active}\r\n      onClose={submitting ? () => {} : onClose}\r\n      header={`${editType}套用規則`}\r\n      onSubmit={handleSubmit(onFormSubmit)}\r\n      footer={\r\n        <>\r\n          <EuiButton type=\"submit\" disabled={submitting} isLoading={submitting}>\r\n            儲存\r\n          </EuiButton>\r\n          <EuiButton disabled={submitting} onClick={onClose}>\r\n            取消\r\n          </EuiButton>\r\n        </>\r\n      }\r\n    >\r\n      {formEl.map(el => (\r\n        <EuiFormRow\r\n          label={el.label}\r\n          key={el.label}\r\n          isInvalid={el.isInvalid}\r\n          error={el.error}\r\n        >\r\n          {el.render()}\r\n        </EuiFormRow>\r\n      ))}\r\n    </Modal>\r\n  );\r\n}\r\n\r\nfunction useFormEl(\r\n  item: UniLogBackupIndexItem | undefined,\r\n  form: UseFormMethods<UniLogBackupIndexBody>,\r\n  submitting: boolean\r\n) {\r\n  const { setValue } = form;\r\n\r\n  useEffect(() => {\r\n    if (!item) return;\r\n  }, [item, setValue]);\r\n\r\n  return [\r\n    {\r\n      label: '索引名稱',\r\n      isInvalid: Boolean(form.errors?.indexName),\r\n      error: form.errors?.indexName?.message,\r\n      render: () => (\r\n        <EuiFieldText\r\n          name=\"indexName\"\r\n          inputRef={form.register({ required: '不能為空' })}\r\n          disabled={submitting || !!item}\r\n          isInvalid={Boolean(form.errors?.indexName)}\r\n        />\r\n      )\r\n    },\r\n    {\r\n      label: '規則名稱',\r\n      isInvalid: Boolean(form.errors?.policyName),\r\n      error: form.errors?.policyName?.message,\r\n      render: () => (\r\n        <EuiFieldText\r\n          name=\"policyName\"\r\n          inputRef={form.register({ required: '不能為空' })}\r\n          disabled={submitting}\r\n          isInvalid={Boolean(form.errors?.policyName)}\r\n        />\r\n      )\r\n    },\r\n    {\r\n      label: '密碼',\r\n      isInvalid: Boolean(form.errors?.zipPwd),\r\n      error: form.errors?.zipPwd?.message,\r\n      render: () => (\r\n        <EuiFieldText\r\n          name=\"zipPwd\"\r\n          inputRef={form.register({ required: '不能為空' })}\r\n          disabled={submitting}\r\n          isInvalid={Boolean(form.errors?.zipPwd)}\r\n        />\r\n      )\r\n    },\r\n    {\r\n      label: '自動備份週期',\r\n      isInvalid: Boolean(form.errors?.timeType),\r\n      error: form.errors?.timeType?.message,\r\n      render: () => (\r\n        <EuiSelect\r\n          name=\"timeType\"\r\n          inputRef={form.register({\r\n            validate: value => {\r\n              return value === '-1' ? '請設定備份週期' : true;\r\n            }\r\n          })}\r\n          options={backupFreqOptions}\r\n          disabled={submitting}\r\n          isInvalid={Boolean(form.errors?.timeType)}\r\n        />\r\n      )\r\n    }\r\n  ];\r\n}\r\n\r\nconst backupFreqOptions: EuiSelectOption[] = [\r\n  { text: '', value: -1 },\r\n  { text: '月', value: 0 },\r\n  { text: '季', value: 1 },\r\n  { text: '半年', value: 2 },\r\n  { text: '年', value: 3 }\r\n];\r\n","import React, { Dispatch, SetStateAction, useMemo, useState } from 'react';\r\nimport ContentLayout from 'layouts/ContentLayout';\r\nimport {\r\n  EuiBasicTableColumn,\r\n  EuiButton,\r\n  EuiButtonIcon,\r\n  EuiFieldText,\r\n  EuiFlexGroup,\r\n  EuiFlexItem,\r\n  EuiFormRow,\r\n  EuiSpacer\r\n} from '@elastic/eui';\r\nimport { useHistory } from 'react-router-dom';\r\nimport DeleteModal from 'components/MonitorChecklist/DeleteModal';\r\nimport CustomTable from 'components/CustomTable';\r\nimport { RoutePath } from 'utils/enums';\r\nimport { useEuiInput } from 'hooks/useEuiInput';\r\nimport { backupIndexDelete, getBackupIndexList } from 'utils/api/unilog';\r\nimport { UniLogBackupIndexItem } from 'utils/api/unilog/model';\r\nimport { useDelayValue } from 'hooks/useDelayValue';\r\nimport { PageState } from 'utils/types';\r\nimport { useBackupRequestTable } from 'hooks/useBackupRequestTable';\r\nimport IndexEditModal from 'components/Log/Backup/IndexEditModal';\r\nimport { useGlobalState } from 'contexts/GlobalStateContext';\r\nimport { SubAccessType } from 'utils/accessLevel';\r\n\r\nexport default function BackupList() {\r\n  const { getAccessLevel } = useGlobalState();\r\n  const [state, setState] = useState<PageState>('none');\r\n  const [selectedItem, setSelectedItem] = useState<UniLogBackupIndexItem>();\r\n  const indexName = useEuiInput();\r\n  const delayIndexName = useDelayValue(indexName.value);\r\n  const { update, tableProps } = useBackupRequestTable(\r\n    delayIndexName,\r\n    getBackupIndexList\r\n  );\r\n  const { loadingState } = tableProps;\r\n  const columns = useColumns(\r\n    loadingState !== 'none',\r\n    setState,\r\n    setSelectedItem,\r\n    getAccessLevel(SubAccessType.BackupList).write\r\n  );\r\n  const {\r\n    onCreateBtnClick,\r\n    onCancelBtnClick,\r\n    handleModalClose\r\n  } = useIndexActions(setState, setSelectedItem);\r\n\r\n  return (\r\n    <>\r\n      <ContentLayout title=\"排程清單\">\r\n        <EuiFlexGroup>\r\n          <EuiFlexItem grow={1}>\r\n            <EuiFormRow label=\"Index名稱\">\r\n              <EuiFieldText {...indexName} />\r\n            </EuiFormRow>\r\n          </EuiFlexItem>\r\n          <EuiFlexItem grow={false} style={{ marginLeft: 'auto' }}>\r\n            <EuiFormRow label=\"　\">\r\n              <EuiButton onClick={() => update()}>Refresh</EuiButton>\r\n            </EuiFormRow>\r\n          </EuiFlexItem>\r\n        </EuiFlexGroup>\r\n        <EuiSpacer size=\"l\" />\r\n        <CustomTable {...tableProps} columns={columns} />\r\n        <EuiSpacer size=\"l\" />\r\n        <EuiFlexGroup justifyContent=\"flexEnd\" style={{ margin: 0 }}>\r\n          {getAccessLevel(SubAccessType.BackupList).write && (\r\n            <EuiButton onClick={onCreateBtnClick}>新增</EuiButton>\r\n          )}\r\n          <div style={{ width: '16px' }} />\r\n          <EuiButton onClick={onCancelBtnClick}>取消</EuiButton>\r\n        </EuiFlexGroup>\r\n      </ContentLayout>\r\n      <IndexEditModal\r\n        item={selectedItem}\r\n        active={state === 'add' || state === 'edit'}\r\n        onClose={handleModalClose}\r\n        onSubmit={update}\r\n      />\r\n      <DeleteModal\r\n        active={state === 'delete'}\r\n        delRequest={() =>\r\n          backupIndexDelete(selectedItem?.index_name, selectedItem?.policy_name)\r\n        }\r\n        onClose={handleModalClose}\r\n        onDelete={update}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\n/* 動作 */\r\nfunction useIndexActions(\r\n  setState: Dispatch<SetStateAction<PageState>>,\r\n  setSelectedItem: Dispatch<SetStateAction<UniLogBackupIndexItem | undefined>>\r\n) {\r\n  const { push } = useHistory();\r\n\r\n  const onCreateBtnClick = () => {\r\n    setState('add');\r\n  };\r\n\r\n  const onCancelBtnClick = () => {\r\n    push(RoutePath.LogBackup);\r\n  };\r\n\r\n  const handleModalClose = () => {\r\n    setState('none');\r\n    setSelectedItem(undefined);\r\n  };\r\n\r\n  return { onCreateBtnClick, onCancelBtnClick, handleModalClose };\r\n}\r\n\r\n/* 欄位格式 */\r\nfunction useColumns(\r\n  loading: boolean,\r\n  setState: Dispatch<SetStateAction<PageState>>,\r\n  setSelectedItem: Dispatch<SetStateAction<UniLogBackupIndexItem | undefined>>,\r\n  write: boolean\r\n) {\r\n  return useMemo<EuiBasicTableColumn<UniLogBackupIndexItem>[]>(\r\n    () => [\r\n      { field: 'index_name', name: 'index名稱' },\r\n      { field: 'policy_name', name: '規則' },\r\n      { field: 'action', name: '動作' },\r\n      { field: 'info', name: '資訊' },\r\n      { field: 'status', name: '狀態' },\r\n      {\r\n        name: '刪除',\r\n        render: (item: UniLogBackupIndexItem) =>\r\n          write ? (\r\n            <EuiButtonIcon\r\n              iconType=\"trash\"\r\n              color=\"danger\"\r\n              aria-label=\"delete\"\r\n              disabled={loading}\r\n              onClick={() => {\r\n                setState('delete');\r\n                setSelectedItem(item);\r\n              }}\r\n            />\r\n          ) : null\r\n      }\r\n    ],\r\n    [loading, setSelectedItem, setState, write]\r\n  );\r\n}\r\n","export const ipRegex = /^((25[0-5]|(2[0-4]|1[0-9]|[1-9]|)[0-9])(\\.(?!$)|$)){4}$/;\r\n","import {\r\n  EuiButton,\r\n  EuiCheckbox,\r\n  EuiCheckboxGroupOption,\r\n  EuiFieldText,\r\n  EuiFlexGrid,\r\n  EuiFlexItem,\r\n  EuiFormRow\r\n} from '@elastic/eui';\r\nimport Modal from 'components/Modal';\r\nimport { useGlobalUI } from 'contexts/GlobalUIContext';\r\nimport React, { useState } from 'react';\r\nimport { Controller, useForm } from 'react-hook-form';\r\nimport { ApiError } from 'utils/api';\r\nimport { addWatchData, testWatchIP } from 'utils/api/uniwatch';\r\nimport { ipRegex } from 'utils/regex';\r\n\r\ntype State = 'none' | 'loading' | 'testing' | 'submitting';\r\n\r\ninterface Props {\r\n  active: boolean;\r\n  onClose: () => void;\r\n  onSubmit: () => void;\r\n}\r\nexport default function EditModal(props: Props) {\r\n  const { active, onClose, onSubmit } = props;\r\n  const {\r\n    control,\r\n    register,\r\n    errors,\r\n    handleSubmit,\r\n    watch,\r\n    getValues\r\n  } = useForm();\r\n  const {\r\n    state,\r\n    onFormSubmit,\r\n    handleClose,\r\n    handleTest,\r\n    testResult\r\n  } = useSubmitForm(onSubmit, onClose);\r\n\r\n  return (\r\n    <Modal\r\n      active={active}\r\n      onClose={state === 'none' ? handleClose : () => {}}\r\n      header=\"新增\"\r\n      onSubmit={handleSubmit(onFormSubmit)}\r\n      footer={\r\n        <>\r\n          <EuiButton\r\n            type=\"submit\"\r\n            disabled={state !== 'none'}\r\n            isLoading={state === 'submitting'}\r\n          >\r\n            儲存\r\n          </EuiButton>\r\n          <EuiButton\r\n            style={{ marginLeft: '10px' }}\r\n            disabled={state !== 'none'}\r\n            onClick={handleClose}\r\n          >\r\n            取消\r\n          </EuiButton>\r\n        </>\r\n      }\r\n    >\r\n      <EuiFormRow\r\n        label=\"主機IP\"\r\n        isInvalid={Boolean(errors.ip)}\r\n        error={errors?.ip?.message}\r\n        defaultValue=\"\"\r\n      >\r\n        <EuiFieldText\r\n          name=\"ip\"\r\n          inputRef={register({\r\n            required: '不能為空',\r\n            pattern: { value: ipRegex, message: '錯誤的IP格式' }\r\n          })}\r\n          disabled={state !== 'none'}\r\n          isLoading={state === 'loading'}\r\n          isInvalid={Boolean(errors.ip)}\r\n        />\r\n      </EuiFormRow>\r\n      <EuiFormRow>\r\n        <>\r\n          <EuiButton\r\n            disabled={state !== 'none' || !String(watch('ip')).match(ipRegex)}\r\n            isLoading={state === 'testing'}\r\n            onClick={() => handleTest(String(getValues('ip')))}\r\n          >\r\n            測試\r\n          </EuiButton>\r\n          <span style={{ marginLeft: '10px', color: testResult.color }}>\r\n            {testResult.text}\r\n          </span>\r\n        </>\r\n      </EuiFormRow>\r\n      <EuiFormRow\r\n        label=\"監控位置\"\r\n        isInvalid={Boolean(errors.watchPath)}\r\n        error={errors?.watchPath?.message}\r\n        defaultValue=\"\"\r\n      >\r\n        <EuiFieldText\r\n          name=\"watchPath\"\r\n          inputRef={register({ required: '不能為空' })}\r\n          disabled={state !== 'none'}\r\n          isLoading={state === 'loading'}\r\n          isInvalid={Boolean(errors.watchPath)}\r\n        />\r\n      </EuiFormRow>\r\n      <EuiFormRow label=\"加密方式\">\r\n        <EuiFlexGrid columns={2} gutterSize=\"none\">\r\n          {options.map((option, i) => (\r\n            <EuiFlexItem key={option.id}>\r\n              <Controller\r\n                name={`hash.${option.id}`}\r\n                control={control}\r\n                defaultValue={false}\r\n                render={({ value, onChange }) => (\r\n                  <>\r\n                    <div>{value}</div>\r\n                    <EuiCheckbox\r\n                      id={option.id}\r\n                      label={option.label}\r\n                      checked={value}\r\n                      disabled={state !== 'none'}\r\n                      onChange={e => onChange(e.target.checked)}\r\n                    />\r\n                  </>\r\n                )}\r\n              />\r\n            </EuiFlexItem>\r\n          ))}\r\n        </EuiFlexGrid>\r\n      </EuiFormRow>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nfunction useSubmitForm(onSubmit: () => void, onClose: () => void) {\r\n  const { toast } = useGlobalUI();\r\n  const [state, setState] = useState<State>('none');\r\n  const [testResult, setTestResult] = useState({\r\n    color: '',\r\n    text: ''\r\n  });\r\n\r\n  const handleTest = (ip: string) => {\r\n    if (!ip.match(ipRegex)) {\r\n      setTestResult({ color: '#BD271E', text: '錯誤的IP格式' });\r\n      return;\r\n    }\r\n    setTestResult({ color: '', text: '' });\r\n    setState('testing');\r\n    testWatchIP(ip)\r\n      .then(res => setTestResult({ color: '', text: res.data.statusInfo }))\r\n      .catch((err: ApiError) =>\r\n        setTestResult({ color: '#BD271E', text: err.message })\r\n      )\r\n      .finally(() => setState('none'));\r\n  };\r\n\r\n  const onFormSubmit = (value: any) => {\r\n    setState('submitting');\r\n    addWatchData(value)\r\n      .then(() => {\r\n        handleClose();\r\n        onSubmit();\r\n        toast.addToast('success', '新增監控介面成功');\r\n      })\r\n      .catch((err: ApiError) =>\r\n        toast.addToast(\r\n          'error',\r\n          err.status === 403 ? err.message : '新增監控介面失敗'\r\n        )\r\n      )\r\n      .finally(() => setState('none'));\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setTestResult({ color: '', text: '' });\r\n    onClose();\r\n  };\r\n\r\n  return {\r\n    state,\r\n    onFormSubmit,\r\n    handleClose,\r\n    handleTest,\r\n    testResult\r\n  };\r\n}\r\n\r\nconst options: EuiCheckboxGroupOption[] = [\r\n  { id: 'md5', label: 'md5' },\r\n  { id: 'sha1', label: 'sha1' },\r\n  { id: 'sha256', label: 'sha256' },\r\n  { id: 'sha512', label: 'sha512' },\r\n  { id: 'crc32', label: 'crc32' }\r\n];\r\n","import React, {\r\n  SetStateAction,\r\n  useCallback,\r\n  useEffect,\r\n  useMemo,\r\n  useRef,\r\n  useState\r\n} from 'react';\r\nimport ContentLayout from 'layouts/ContentLayout';\r\nimport {\r\n  EuiBasicTableColumn,\r\n  EuiButton,\r\n  EuiButtonIcon,\r\n  EuiFlexGroup,\r\n  EuiFormRow,\r\n  EuiSelect,\r\n  EuiSelectOption,\r\n  EuiSpacer\r\n} from '@elastic/eui';\r\nimport { useHistory } from 'react-router-dom';\r\nimport DeleteModal from 'components/MonitorChecklist/DeleteModal';\r\nimport EditModal from 'components/MonitorChecklist/EditModal';\r\nimport {\r\n  deleteWatchData,\r\n  getGroupList,\r\n  getWatchData\r\n} from 'utils/api/uniwatch';\r\nimport { UniWatchItem } from 'utils/api/uniwatch/model';\r\nimport { CustomTableOptions, useCustomTable } from 'hooks/useCustomTable';\r\nimport CustomTable, { LoadingState } from 'components/CustomTable';\r\nimport { RoutePath } from 'utils/enums';\r\nimport { useEuiSelect } from 'hooks/useEuiSelect';\r\nimport { useGlobalState } from 'contexts/GlobalStateContext';\r\nimport { SubAccessType } from 'utils/accessLevel';\r\n\r\ntype State = 'none' | 'add' | 'delete';\r\ninterface DelInfo {\r\n  pid: string;\r\n  ip: string;\r\n}\r\n\r\nexport default function WatchList() {\r\n  const { getAccessLevel } = useGlobalState();\r\n  const [state, setState] = useState<State>('none');\r\n  const [delInfo, setDelInfo] = useState<DelInfo>({ pid: '', ip: '' });\r\n  const { hostGroup } = useFilters();\r\n  const { tableProps, update } = useWatchTable(\r\n    String(hostGroup.value ?? ''),\r\n    setState,\r\n    setDelInfo,\r\n    getAccessLevel(SubAccessType.UniWatch).write\r\n  );\r\n  const {\r\n    onListBtnClick,\r\n    onCreateBtnClick,\r\n    handleModalClose\r\n  } = useWatchActions(setState, setDelInfo);\r\n\r\n  return (\r\n    <>\r\n      <ContentLayout title=\"檔案監控清單\">\r\n        <EuiFormRow label=\"主機群組\">\r\n          <EuiSelect {...hostGroup} />\r\n        </EuiFormRow>\r\n        <EuiSpacer size=\"l\" />\r\n        <CustomTable {...tableProps} />\r\n        <EuiSpacer size=\"l\" />\r\n        <EuiFlexGroup justifyContent=\"flexEnd\" style={{ margin: 0 }}>\r\n          {getAccessLevel(SubAccessType.HostGroup).read && (\r\n            <EuiButton onClick={onListBtnClick}>群組清單</EuiButton>\r\n          )}\r\n          {getAccessLevel(SubAccessType.UniWatch).write && (\r\n            <>\r\n              <div style={{ width: '16px' }} />\r\n              <EuiButton onClick={onCreateBtnClick}>新增</EuiButton>\r\n            </>\r\n          )}\r\n        </EuiFlexGroup>\r\n      </ContentLayout>\r\n      <EditModal\r\n        active={state === 'add'}\r\n        onClose={handleModalClose}\r\n        onSubmit={update}\r\n      />\r\n      <DeleteModal\r\n        active={state === 'delete'}\r\n        delRequest={() => deleteWatchData(delInfo)}\r\n        onClose={handleModalClose}\r\n        onDelete={update}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\n/* 動作 */\r\nfunction useWatchActions(\r\n  setState: (value: SetStateAction<State>) => void,\r\n  setDelInfo: (value: SetStateAction<DelInfo>) => void\r\n) {\r\n  const { push } = useHistory();\r\n\r\n  const onListBtnClick = () => push(RoutePath.HostGroup);\r\n\r\n  const onCreateBtnClick = () => {\r\n    setState('add');\r\n  };\r\n\r\n  const handleModalClose = () => {\r\n    setState('none');\r\n    setDelInfo({ pid: '', ip: '' });\r\n  };\r\n\r\n  return { onListBtnClick, onCreateBtnClick, handleModalClose };\r\n}\r\n\r\n/* 表單 */\r\nfunction useWatchTable(\r\n  id: string,\r\n  setState: (value: SetStateAction<State>) => void,\r\n  setDelInfo: (value: SetStateAction<DelInfo>) => void,\r\n  write: boolean\r\n) {\r\n  const [loadingState, setLoadingState] = useState<LoadingState>('none');\r\n  const columns = useColumns(\r\n    loadingState !== 'none',\r\n    setState,\r\n    setDelInfo,\r\n    write\r\n  );\r\n  const options = useRef<CustomTableOptions<UniWatchItem>>({ size: 15 });\r\n  const fetcher = useCallback(() => getWatchData(id), [id]);\r\n  const customTable = useCustomTable(\r\n    loadingState,\r\n    setLoadingState,\r\n    fetcher,\r\n    columns,\r\n    'pid',\r\n    options.current\r\n  );\r\n\r\n  return customTable;\r\n}\r\n\r\n/* 欄位格式 */\r\nfunction useColumns(\r\n  loading: boolean,\r\n  setState: (value: SetStateAction<State>) => void,\r\n  setDelInfo: (value: SetStateAction<DelInfo>) => void,\r\n  write: boolean\r\n) {\r\n  return useMemo<EuiBasicTableColumn<UniWatchItem>[]>(\r\n    () => [\r\n      { field: 'ip', name: '主機IP', sortable: !loading },\r\n      { field: 'states', name: '狀態', sortable: !loading },\r\n      { field: 'watch_path', name: '監控位置', sortable: !loading },\r\n      { field: 'hash', name: '加密方法', sortable: !loading },\r\n      {\r\n        name: '刪除',\r\n        render: (item: UniWatchItem) =>\r\n          write ? (\r\n            <EuiButtonIcon\r\n              iconType=\"trash\"\r\n              color=\"danger\"\r\n              aria-label=\"delete\"\r\n              disabled={loading}\r\n              onClick={() => {\r\n                setState('delete');\r\n                setDelInfo({ pid: item.pid, ip: item.ip });\r\n              }}\r\n            />\r\n          ) : null\r\n      }\r\n    ],\r\n    [loading, setDelInfo, setState, write]\r\n  );\r\n}\r\n\r\nfunction useFilters() {\r\n  const [options, setOptions] = useState<EuiSelectOption[]>([]);\r\n  const hostGroup = useEuiSelect(options);\r\n\r\n  useEffect(() => {\r\n    getGroupList().then(res => {\r\n      res.unshift({ group_id: '', group_name: '' });\r\n      setOptions(\r\n        res.map(item => ({ text: item.group_name, value: item.group_id }))\r\n      );\r\n    });\r\n  }, []);\r\n\r\n  return { hostGroup };\r\n}\r\n","import { EuiLoadingSpinner } from '@elastic/eui';\r\nimport React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Wrapper = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 100%;\r\n  width: 100%;\r\n  background: #fffa;\r\n  z-index: 10000;\r\n`;\r\n\r\ninterface Props {\r\n  loading: boolean;\r\n}\r\nexport default function InnerLoading({ loading }: Props) {\r\n  if (!loading) return null;\r\n\r\n  return (\r\n    <Wrapper>\r\n      <EuiLoadingSpinner size=\"xl\" />\r\n    </Wrapper>\r\n  );\r\n}\r\n","import React, { useEffect, useMemo, useRef, useState } from 'react';\r\nimport {\r\n  EuiBasicTable,\r\n  EuiComboBoxOptionOption,\r\n  EuiPanel,\r\n  EuiTableFieldDataColumnType\r\n} from '@elastic/eui';\r\nimport styled from 'styled-components';\r\nimport InnerLoading from 'components/InnerLoading';\r\nimport { loadWatchLog } from 'utils/api/kibana';\r\nimport { WatchLogHitsSrc } from 'utils/api/kibana/model';\r\nimport { dateTimeToString } from 'utils/scripts';\r\nimport { Moment } from 'moment';\r\nimport { OptionValue } from 'hooks/useEuiComboBox';\r\n\r\nconst StyledPanel = styled(EuiPanel)`\r\n  position: relative;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst Wrapper = styled.div`\r\n  position: relative;\r\n  max-height: 400px;\r\n  overflow: auto;\r\n  th {\r\n    position: sticky;\r\n    top: 0;\r\n    background: #fff;\r\n  }\r\n`;\r\n\r\ninterface Props {\r\n  timeRange: Moment[];\r\n  hostGroup: OptionValue;\r\n  ipList: EuiComboBoxOptionOption<string>[];\r\n  hostIp: string[];\r\n  encryption: string[];\r\n}\r\nexport default function FileMonitorTable(props: Props) {\r\n  const { timeRange, hostGroup, ipList, hostIp, encryption } = props;\r\n  const [loading, setLoading] = useState(false);\r\n  const [items, setItems] = useState<WatchLogHitsSrc[]>([]);\r\n  const [count, setCount] = useState(0);\r\n  const tableRef = useRef<HTMLDivElement>(null);\r\n  const observer = useRef<IntersectionObserver>();\r\n  const observedEl = useRef<Element>();\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const [start, end] = timeRange.map(time => time.format());\r\n    loadWatchLog(start, end)\r\n      .then(res => {\r\n        tableRef.current?.scrollTo({ top: 0 });\r\n        setItems(res);\r\n        setCount(Math.min(10, res.length));\r\n        tableRef.current?.scrollTo({ top: 0 });\r\n      })\r\n      .finally(() => setLoading(false));\r\n  }, [timeRange]);\r\n\r\n  useEffect(() => {\r\n    const rows = tableRef.current?.getElementsByClassName('euiTableRowCell');\r\n    if (!rows) return;\r\n    if (observedEl.current) {\r\n      observer.current?.unobserve(observedEl.current);\r\n    }\r\n    if (count >= items.length) return;\r\n    const last = rows[rows.length - 1];\r\n    observer.current?.observe(last);\r\n    observedEl.current = last;\r\n    observer.current = new IntersectionObserver(entries => {\r\n      if (!entries[0].isIntersecting) return;\r\n      setCount(prev => prev + 10);\r\n    });\r\n  }, [count, items.length]);\r\n\r\n  const displayItems = useMemo<WatchLogHitsSrc[]>(() => {\r\n    let _items = items.slice(0, count);\r\n    if (hostIp.length > 0) {\r\n      _items = _items.filter(item => hostIp.includes(item.ip));\r\n    } else if (hostIp.length === 0 && hostGroup) {\r\n      _items = _items.filter(item =>\r\n        ipList.map(ip => ip.label).includes(item.ip)\r\n      );\r\n    }\r\n    if (encryption.length > 0) {\r\n      _items = _items.filter(item => {\r\n        for (let i = 0; i < encryption.length; i++) {\r\n          const key = encryption[i] as keyof WatchLogHitsSrc;\r\n          if (item[key] === 'null') return false;\r\n        }\r\n        return true;\r\n      });\r\n    }\r\n    return _items;\r\n  }, [count, encryption, hostGroup, hostIp, ipList, items]);\r\n\r\n  return (\r\n    <StyledPanel paddingSize=\"none\">\r\n      <Wrapper ref={tableRef}>\r\n        <EuiBasicTable columns={columns} items={displayItems} />\r\n      </Wrapper>\r\n      <InnerLoading loading={loading} />\r\n    </StyledPanel>\r\n  );\r\n}\r\n\r\nconst columns: EuiTableFieldDataColumnType<WatchLogHitsSrc>[] = [\r\n  {\r\n    field: '@timestamp',\r\n    name: '更新時間',\r\n    render: value => dateTimeToString(value)\r\n  },\r\n  { field: 'ip', name: '主機IP' },\r\n  { field: 'file', name: '更新目錄' },\r\n  { field: 'md5', name: 'md5' },\r\n  { field: 'sha1', name: 'sha1' },\r\n  { field: 'sha256', name: 'sha256' },\r\n  { field: 'sha512', name: 'sha512' },\r\n  { field: 'crc32', name: 'crc32' }\r\n];\r\n","import React, { useEffect, useMemo, useState } from 'react';\r\nimport {\r\n  EuiPageContent,\r\n  EuiPageContentBody,\r\n  EuiFlexGroup,\r\n  EuiComboBox,\r\n  EuiComboBoxOptionOption,\r\n  EuiSpacer,\r\n  EuiSelectOption,\r\n  EuiSelect\r\n} from '@elastic/eui';\r\n\r\nimport TimeRangePicker, {\r\n  useTimeRangePicker\r\n} from 'components/TimeRangePicker';\r\nimport FileMonitorTable from './FileMonitorTable';\r\nimport { FlexGrow } from 'utils/types';\r\nimport { useEuiSelect } from 'hooks/useEuiSelect';\r\nimport FlexControl from 'components/FlexControl';\r\nimport { getGroupList, getWatchIpList } from 'utils/api/uniwatch';\r\n\r\nexport default function FileMonitor() {\r\n  const controls = useFlexControl();\r\n\r\n  return (\r\n    <EuiPageContent>\r\n      <EuiPageContentBody>\r\n        <EuiFlexGroup>\r\n          <FlexControl controls={controls.props} />\r\n        </EuiFlexGroup>\r\n        <EuiSpacer size=\"l\" />\r\n        <FileMonitorTable {...controls.value} />\r\n      </EuiPageContentBody>\r\n    </EuiPageContent>\r\n  );\r\n}\r\n\r\n/** 搜尋條件 */\r\nfunction useFlexControl() {\r\n  const timeRange = useTimeRange();\r\n  const hostGroup = useHostGroup();\r\n  const [ipList, setIpList] = useState<EuiComboBoxOptionOption<string>[]>([]);\r\n  const hostIp = useHostIp(ipList);\r\n  const encryption = useEncryption();\r\n\r\n  useEffect(() => {\r\n    if (!hostGroup.value) {\r\n      setIpList([]);\r\n    } else {\r\n      getWatchIpList(String(hostGroup.value)).then(res =>\r\n        setIpList(res.group_ip.split(',').map(ip => ({ label: ip })))\r\n      );\r\n    }\r\n  }, [hostGroup.value]);\r\n\r\n  return {\r\n    value: {\r\n      timeRange: timeRange.value,\r\n      hostGroup: hostGroup.value,\r\n      ipList,\r\n      hostIp: hostIp.value,\r\n      encryption: encryption.value\r\n    },\r\n    props: [timeRange.props, hostGroup.props, hostIp.props, encryption.props]\r\n  };\r\n}\r\n\r\n/** 時間區間 */\r\nfunction useTimeRange() {\r\n  const timeRange = useTimeRangePicker();\r\n\r\n  const value = useMemo(() => [timeRange.startTime, timeRange.endTime], [\r\n    timeRange.endTime,\r\n    timeRange.startTime\r\n  ]);\r\n\r\n  return {\r\n    value,\r\n    props: {\r\n      label: '時間區間',\r\n      grow: 1 as FlexGrow,\r\n      render: () => (\r\n        <TimeRangePicker {...timeRange} style={{ minWidth: '260px' }} />\r\n      )\r\n    }\r\n  };\r\n}\r\n\r\nfunction useHostGroup() {\r\n  const [options, setOptions] = useState<EuiSelectOption[]>([]);\r\n  const select = useEuiSelect(options);\r\n\r\n  useEffect(() => {\r\n    getGroupList().then(res => {\r\n      setOptions([\r\n        { text: '', value: '' },\r\n        ...res.map(group => ({ text: group.group_name, value: group.group_id }))\r\n      ]);\r\n    });\r\n  }, []);\r\n\r\n  return {\r\n    value: select.value,\r\n    props: {\r\n      label: '主機群組',\r\n      grow: 1 as FlexGrow,\r\n      render: () => <EuiSelect {...select} />\r\n    }\r\n  };\r\n}\r\n\r\n/** 主機名稱 */\r\nfunction useHostIp(options: EuiComboBoxOptionOption<string>[]) {\r\n  const [selectedOptions, setSelectedOptions] = useState<\r\n    EuiComboBoxOptionOption<string>[]\r\n  >([]);\r\n\r\n  const onChange = (options: EuiComboBoxOptionOption<string>[]) => {\r\n    setSelectedOptions(options);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setSelectedOptions([]);\r\n  }, [options]);\r\n\r\n  return {\r\n    value: selectedOptions.map(option => option.label),\r\n    props: {\r\n      label: '主機IP',\r\n      grow: 1 as FlexGrow,\r\n      render: () => <EuiComboBox {...{ options, selectedOptions, onChange }} />\r\n    }\r\n  };\r\n}\r\n\r\n/** 加密方式 */\r\nfunction useEncryption() {\r\n  const [selectedOptions, setSelectedOptions] = useState<\r\n    EuiComboBoxOptionOption<string>[]\r\n  >([]);\r\n\r\n  const options: EuiComboBoxOptionOption<string>[] = [\r\n    { label: 'md5' },\r\n    { label: 'sha1' },\r\n    { label: 'sha256' },\r\n    { label: 'sha512' },\r\n    { label: 'crc32' }\r\n  ];\r\n\r\n  const onChange = (options: EuiComboBoxOptionOption<string>[]) => {\r\n    setSelectedOptions(options);\r\n  };\r\n\r\n  return {\r\n    value: selectedOptions.map(option => option.label),\r\n    props: {\r\n      label: '加密方式',\r\n      grow: 1 as FlexGrow,\r\n      render: () => <EuiComboBox {...{ options, selectedOptions, onChange }} />\r\n    }\r\n  };\r\n}\r\n","import React from 'react';\r\n\r\nimport PageLayout from 'layouts/PageLayout';\r\nimport FileMonitor from 'components/Entry/FileMonitor';\r\n\r\nexport default function WatchLog() {\r\n  return (\r\n    <PageLayout title=\"檔案監控\">\r\n      <FileMonitor />\r\n    </PageLayout>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { getLogReportURL } from 'utils/logReport';\r\n\r\ninterface ResultLinkProps {\r\n  name: string;\r\n}\r\nexport default function ResultLink({ name }: ResultLinkProps) {\r\n  const url = getLogReportURL() + '/static/js/pdffile/' + name;\r\n\r\n  return (\r\n    <div style={{ marginRight: '20px' }}>\r\n      <a href={url} target=\"_blank\" rel=\"noopener noreferrer\">\r\n        {name.slice(((name.lastIndexOf('.') - 1) >>> 0) + 2).toUpperCase()}\r\n      </a>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { EuiBasicTable, EuiBasicTableColumn } from '@elastic/eui';\r\nimport { Moment } from 'moment';\r\nimport useSWR from 'swr';\r\n\r\nimport DashboardLayout from 'layouts/DashboardLayout';\r\nimport { useTimeRangePicker } from 'components/TimeRangePicker';\r\nimport ResultLink from 'components/ResultLink';\r\nimport { getLogReport, LogsReport } from 'utils/logReport';\r\n\r\nexport default function LogReport() {\r\n  const timeRangePicker = useTimeRangePicker();\r\n  const { startTime, endTime } = timeRangePicker;\r\n  const { loading, data } = useLogReportData(startTime, endTime);\r\n\r\n  return (\r\n    <DashboardLayout title=\"日誌報表\" {...timeRangePicker}>\r\n      <EuiBasicTable columns={columns} items={data} loading={loading} />\r\n    </DashboardLayout>\r\n  );\r\n}\r\n\r\n/** 取得日誌報表資料 */\r\nfunction useLogReportData(startTime: Moment, endTime: Moment) {\r\n  const start = startTime.toISOString();\r\n  const end = endTime.toISOString();\r\n  const { data, isValidating } = useSWR([start, end], getLogReport, {});\r\n\r\n  return { loading: isValidating, data: data ?? [] };\r\n}\r\n\r\n/** 欄位格式，固定值故不使用hook */\r\nconst columns: EuiBasicTableColumn<LogsReport>[] = [\r\n  {\r\n    field: 'job.name',\r\n    name: '排程名稱'\r\n  },\r\n  {\r\n    name: '此次排程執行時間',\r\n    render: (value: LogsReport) =>\r\n      new Date(value.scheduled_time).toLocaleString()\r\n  },\r\n  {\r\n    field: 'state',\r\n    name: '執行結果狀態'\r\n  },\r\n  {\r\n    name: '執行結果檔案',\r\n    render: (value: LogsReport) =>\r\n      value.state !== 'succeeded'\r\n        ? null\r\n        : value.result\r\n            .replace(/[\\s|[|\\]|\"]/g, '')\r\n            .split(',')\r\n            .map((fileName, i) => <ResultLink name={fileName} key={i} />)\r\n  }\r\n];\r\n","import {\r\n  EuiButton,\r\n  EuiFieldText,\r\n  EuiFormRow,\r\n  EuiSelect,\r\n  EuiSelectOption\r\n} from '@elastic/eui';\r\nimport Modal from 'components/Modal';\r\nimport { useGlobalUI } from 'contexts/GlobalUIContext';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useForm, UseFormMethods } from 'react-hook-form';\r\nimport { backupPolicyEdit } from 'utils/api/unilog';\r\nimport {\r\n  UniLogBackupPolicyBody,\r\n  UniLogBackupPolicyItem\r\n} from 'utils/api/unilog/model';\r\n\r\ninterface Props {\r\n  item?: UniLogBackupPolicyItem;\r\n  active: boolean;\r\n  onClose: () => void;\r\n  onSubmit: () => void;\r\n}\r\nexport default function PolicyEditModal(props: Props) {\r\n  const { item, active, onClose, onSubmit } = props;\r\n  const form = useForm<UniLogBackupPolicyBody>();\r\n  const { handleSubmit } = form;\r\n  const { toast } = useGlobalUI();\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const formEl = useFormEl(item, form, submitting);\r\n\r\n  const editType = item ? '編輯' : '新增';\r\n\r\n  const onFormSubmit = (value: any) => {\r\n    const data = {\r\n      type: item ? 2 : 1,\r\n      primaryTerm: item?.primary_term,\r\n      seqNo: item?.seq_no,\r\n      ...value,\r\n      policyName: form.getValues('policyName')\r\n    };\r\n    setSubmitting(true);\r\n    backupPolicyEdit(data)\r\n      .then(() => {\r\n        onClose();\r\n        onSubmit();\r\n        toast.addToast('success', '儲存成功');\r\n      })\r\n      .catch(() => toast.addToast('error', '儲存失敗'))\r\n      .finally(() => setSubmitting(false));\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      active={active}\r\n      onClose={submitting ? () => {} : onClose}\r\n      header={`${editType}排程規則`}\r\n      onSubmit={handleSubmit(onFormSubmit)}\r\n      footer={\r\n        <>\r\n          <EuiButton type=\"submit\" disabled={submitting} isLoading={submitting}>\r\n            儲存\r\n          </EuiButton>\r\n          <EuiButton disabled={submitting} onClick={onClose}>\r\n            取消\r\n          </EuiButton>\r\n        </>\r\n      }\r\n    >\r\n      {formEl.map(el => (\r\n        <EuiFormRow\r\n          label={el.label}\r\n          key={el.label}\r\n          isInvalid={el.isInvalid}\r\n          error={el.error}\r\n        >\r\n          {el.render()}\r\n        </EuiFormRow>\r\n      ))}\r\n    </Modal>\r\n  );\r\n}\r\n\r\nfunction useFormEl(\r\n  item: UniLogBackupPolicyItem | undefined,\r\n  form: UseFormMethods<UniLogBackupPolicyBody>,\r\n  submitting: boolean\r\n) {\r\n  const { setValue } = form;\r\n\r\n  useEffect(() => {\r\n    if (!item) return;\r\n    setTimeout(() => {\r\n      setValue('policyName', item.policy_name);\r\n      setValue('policyDesc', item.desc);\r\n    }, 1);\r\n  }, [item, setValue]);\r\n\r\n  return [\r\n    {\r\n      label: '規則名稱',\r\n      isInvalid: Boolean(form.errors?.policyName),\r\n      error: form.errors?.policyName?.message,\r\n      render: () => (\r\n        <EuiFieldText\r\n          name=\"policyName\"\r\n          inputRef={form.register({ required: '不能為空' })}\r\n          disabled={submitting || !!item}\r\n          isInvalid={Boolean(form.errors?.policyName)}\r\n        />\r\n      )\r\n    },\r\n    {\r\n      label: '規則說明',\r\n      isInvalid: Boolean(form.errors?.policyDesc),\r\n      error: form.errors?.policyDesc?.message,\r\n      render: () => (\r\n        <EuiFieldText\r\n          name=\"policyDesc\"\r\n          inputRef={form.register}\r\n          disabled={submitting}\r\n          isInvalid={Boolean(form.errors?.policyDesc)}\r\n        />\r\n      )\r\n    },\r\n    {\r\n      label: '自動備份週期',\r\n      isInvalid: Boolean(form.errors?.timeType),\r\n      error: form.errors?.timeType?.message,\r\n      render: () => (\r\n        <EuiSelect\r\n          name=\"timeType\"\r\n          inputRef={form.register({\r\n            validate: value => {\r\n              return value === '-1' ? '請設定備份週期' : true;\r\n            }\r\n          })}\r\n          options={backupFreqOptions}\r\n          disabled={submitting}\r\n          isInvalid={Boolean(form.errors?.timeType)}\r\n        />\r\n      )\r\n    }\r\n  ];\r\n}\r\n\r\nconst backupFreqOptions: EuiSelectOption[] = [\r\n  { text: '', value: -1 },\r\n  { text: '月', value: 0 },\r\n  { text: '季', value: 1 },\r\n  { text: '半年', value: 2 },\r\n  { text: '年', value: 3 }\r\n];\r\n","import React, { Dispatch, SetStateAction, useMemo, useState } from 'react';\r\nimport ContentLayout from 'layouts/ContentLayout';\r\nimport {\r\n  EuiBasicTableColumn,\r\n  EuiButton,\r\n  EuiButtonIcon,\r\n  EuiFieldText,\r\n  EuiFlexGroup,\r\n  EuiFormRow,\r\n  EuiSpacer\r\n} from '@elastic/eui';\r\nimport { useHistory } from 'react-router-dom';\r\nimport DeleteModal from 'components/MonitorChecklist/DeleteModal';\r\nimport CustomTable from 'components/CustomTable';\r\nimport { RoutePath } from 'utils/enums';\r\nimport { useEuiInput } from 'hooks/useEuiInput';\r\nimport { backupPolicyDelete, getBackupPolicies } from 'utils/api/unilog';\r\nimport { UniLogBackupPolicyItem } from 'utils/api/unilog/model';\r\nimport PolicyEditModal from 'components/Log/Backup/PolicyEditModal';\r\nimport { useDelayValue } from 'hooks/useDelayValue';\r\nimport { dateTimeToString } from 'utils/scripts';\r\nimport { PageState } from 'utils/types';\r\nimport { useBackupRequestTable } from 'hooks/useBackupRequestTable';\r\nimport { useGlobalState } from 'contexts/GlobalStateContext';\r\nimport { SubAccessType } from 'utils/accessLevel';\r\n\r\nexport default function BackupPolicy() {\r\n  const { getAccessLevel } = useGlobalState();\r\n  const [state, setState] = useState<PageState>('none');\r\n  const [selectedItem, setSelectedItem] = useState<UniLogBackupPolicyItem>();\r\n  const policyName = useEuiInput();\r\n  const delayPolicyName = useDelayValue(policyName.value);\r\n  const { update, tableProps } = useBackupRequestTable(\r\n    delayPolicyName,\r\n    getBackupPolicies\r\n  );\r\n  const { loadingState } = tableProps;\r\n  const columns = useColumns(\r\n    loadingState !== 'none',\r\n    setState,\r\n    setSelectedItem,\r\n    getAccessLevel(SubAccessType.BackupPolicy).write\r\n  );\r\n  const {\r\n    onCreateBtnClick,\r\n    onCancelBtnClick,\r\n    handleModalClose\r\n  } = usePolicyActions(setState, setSelectedItem);\r\n\r\n  return (\r\n    <>\r\n      <ContentLayout title=\"排程規則\">\r\n        <EuiFormRow label=\"Policy名稱\">\r\n          <EuiFieldText {...policyName} />\r\n        </EuiFormRow>\r\n        <EuiSpacer size=\"l\" />\r\n        <CustomTable {...tableProps} columns={columns} />\r\n        <EuiSpacer size=\"l\" />\r\n        <EuiFlexGroup justifyContent=\"flexEnd\" style={{ margin: 0 }}>\r\n          {getAccessLevel(SubAccessType.BackupPolicy).write && (\r\n            <EuiButton onClick={onCreateBtnClick}>新增</EuiButton>\r\n          )}\r\n          <div style={{ width: '16px' }} />\r\n          <EuiButton onClick={onCancelBtnClick}>取消</EuiButton>\r\n        </EuiFlexGroup>\r\n      </ContentLayout>\r\n      <PolicyEditModal\r\n        item={selectedItem}\r\n        active={state === 'add' || state === 'edit'}\r\n        onClose={handleModalClose}\r\n        onSubmit={update}\r\n      />\r\n      <DeleteModal\r\n        active={state === 'delete'}\r\n        delRequest={() => backupPolicyDelete(selectedItem?.policy_name)}\r\n        onClose={handleModalClose}\r\n        onDelete={update}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\n/* 動作 */\r\nfunction usePolicyActions(\r\n  setState: Dispatch<SetStateAction<PageState>>,\r\n  setSelectedItem: Dispatch<SetStateAction<UniLogBackupPolicyItem | undefined>>\r\n) {\r\n  const { push } = useHistory();\r\n\r\n  const onCreateBtnClick = () => {\r\n    setState('add');\r\n  };\r\n\r\n  const onCancelBtnClick = () => {\r\n    push(RoutePath.LogBackup);\r\n  };\r\n\r\n  const handleModalClose = () => {\r\n    setState('none');\r\n    setSelectedItem(undefined);\r\n  };\r\n\r\n  return { onCreateBtnClick, onCancelBtnClick, handleModalClose };\r\n}\r\n\r\n/* 欄位格式 */\r\nfunction useColumns(\r\n  loading: boolean,\r\n  setState: Dispatch<SetStateAction<PageState>>,\r\n  setSelectedItem: Dispatch<SetStateAction<UniLogBackupPolicyItem | undefined>>,\r\n  write: boolean\r\n) {\r\n  return useMemo<EuiBasicTableColumn<UniLogBackupPolicyItem>[]>(\r\n    () => [\r\n      { field: 'policy_name', name: 'Policy' },\r\n      { field: 'desc', name: '說明' },\r\n      {\r\n        field: 'last_updated_time',\r\n        name: '更新時間',\r\n        render: (value: string) => dateTimeToString(value)\r\n      },\r\n      {\r\n        name: '編輯',\r\n        render: (item: UniLogBackupPolicyItem) =>\r\n          write ? (\r\n            <EuiButtonIcon\r\n              iconType=\"pencil\"\r\n              color=\"primary\"\r\n              aria-label=\"edit\"\r\n              disabled={loading}\r\n              onClick={() => {\r\n                setState('edit');\r\n                setSelectedItem(item);\r\n              }}\r\n            />\r\n          ) : null\r\n      },\r\n      {\r\n        name: '刪除',\r\n        render: (item: UniLogBackupPolicyItem) =>\r\n          write ? (\r\n            <EuiButtonIcon\r\n              iconType=\"trash\"\r\n              color=\"danger\"\r\n              aria-label=\"delete\"\r\n              disabled={loading}\r\n              onClick={() => {\r\n                setState('delete');\r\n                setSelectedItem(item);\r\n              }}\r\n            />\r\n          ) : null\r\n      }\r\n    ],\r\n    [loading, setSelectedItem, setState, write]\r\n  );\r\n}\r\n","import React, { ReactNode, useEffect, useMemo, useRef, useState } from 'react';\nimport { Switch, Route, Redirect, useHistory } from 'react-router-dom';\nimport { EuiNavDrawer } from '@elastic/eui';\n\nimport { useGlobalState } from 'contexts/GlobalStateContext';\nimport EditProfile from 'pages/EditProfile';\nimport ChangePassword from 'pages/ChangePassword';\nimport UserManagement from 'pages/UserManagement';\nimport AuthorityManagement from 'pages/AuthorityManagement';\nimport Dashboard1 from 'pages/unilog/Dashboard1';\nimport Dashboard2 from 'pages/unilog/Dashboard2';\nimport Dashboard3 from 'pages/unilog/Dashboard3';\nimport PortalStatistics1 from 'pages/unilog/PortalStatistics1';\nimport PortalStatistics2 from 'pages/unilog/PortalStatistics2';\nimport PortalStatistics3 from 'pages/unilog/PortalStatistics3';\nimport Discover from 'pages/unilog/Discover';\nimport HostGroup from 'pages/uniwatch/HostGroup';\nimport NocDashboard from 'pages/uninoc/Dashboard';\nimport Loading from 'components/AppLoading';\nimport Header from 'layouts/Header';\nimport SideNav from 'layouts/SideNav';\nimport { getAccessLevel, getAccount, getConfig } from 'utils/api/unilog';\nimport { SubAccessType } from 'utils/accessLevel';\nimport { setLogReportURL } from 'utils/logReport';\nimport Backup from 'pages/unilog/Backup';\nimport BackupList from 'pages/unilog/BackupList';\nimport Watch from 'pages/uniwatch';\nimport WatchLog from 'pages/unilog/WatchLog';\nimport LogReport from 'pages/unilog/LogReport';\nimport { setKibanaURL } from 'utils/api/kibana/instance';\nimport { RoutePath } from 'utils/enums';\nimport BackupPolicy from 'pages/unilog/BackupPolicy';\nimport { setUniNocBaseUrl } from 'utils/api/uninoc/instance';\n\nexport default function BasicLayout() {\n  const { loading } = useDataInit();\n  const { routes } = useRoutes();\n  const navDrawerRef = useRef<EuiNavDrawer>(null);\n\n  if (loading) return <Loading />;\n\n  return (\n    <>\n      <Header onMenuButtonClick={navDrawerRef.current?.toggleOpen} />\n      <SideNav navDrawerRef={navDrawerRef} />\n      <Switch>\n        {routes.map(({ path, component }) => (\n          <Route exact path={path} key={path}>\n            {component}\n          </Route>\n        ))}\n        <Redirect to=\"/log/discover\" />\n      </Switch>\n    </>\n  );\n}\n\ninterface routeParams {\n  path: string;\n  component: ReactNode;\n  active: boolean;\n}\n/** 取得routes，並依照access level顯示 */\nfunction useRoutes() {\n  const { isLocal, getAccessLevel } = useGlobalState();\n\n  const routes = useMemo<routeParams[]>(\n    () => [\n      {\n        path: RoutePath.Profile,\n        component: <EditProfile />,\n        active: true\n      },\n      {\n        path: RoutePath.ChangePW,\n        component: <ChangePassword />,\n        active: isLocal\n      },\n      {\n        path: RoutePath.User,\n        component: <UserManagement />,\n        active: getAccessLevel(SubAccessType.User).read\n      },\n      {\n        path: RoutePath.Authority,\n        component: <AuthorityManagement />,\n        active: getAccessLevel(SubAccessType.Authority).read\n      },\n      {\n        path: RoutePath.Statistics1,\n        component: <PortalStatistics1 />,\n        active: getAccessLevel(SubAccessType.PortalStatistics_1).read\n      },\n      {\n        path: RoutePath.Statistics2,\n        component: <PortalStatistics2 />,\n        active: getAccessLevel(SubAccessType.PortalStatistics_2).read\n      },\n      {\n        path: RoutePath.Statistics3,\n        component: <PortalStatistics3 />,\n        active: getAccessLevel(SubAccessType.PortalStatistics_3).read\n      },\n      {\n        path: RoutePath.Discover,\n        component: <Discover />,\n        active: getAccessLevel(SubAccessType.Discover).read\n      },\n      {\n        path: RoutePath.Dashboard1,\n        component: <Dashboard1 />,\n        active: getAccessLevel(SubAccessType.Dashboard_1).read\n      },\n      {\n        path: RoutePath.Dashboard2,\n        component: <Dashboard2 />,\n        active: getAccessLevel(SubAccessType.Dashboard_2).read\n      },\n      {\n        path: RoutePath.Dashboard3,\n        component: <Dashboard3 />,\n        active: getAccessLevel(SubAccessType.Dashboard_3).read\n      },\n      {\n        path: RoutePath.LogBackup,\n        component: <Backup />,\n        active: getAccessLevel(SubAccessType.LogBackup).read\n      },\n      {\n        path: RoutePath.LogBackupList,\n        component: <BackupList />,\n        active: getAccessLevel(SubAccessType.BackupList).read\n      },\n      {\n        path: RoutePath.LogBackupPolicy,\n        component: <BackupPolicy />,\n        active: getAccessLevel(SubAccessType.BackupPolicy).read\n      },\n      {\n        path: RoutePath.LogReport,\n        component: <LogReport />,\n        active: getAccessLevel(SubAccessType.LogReport).read\n      },\n      {\n        path: RoutePath.WatchLog,\n        component: <WatchLog />,\n        active: getAccessLevel(SubAccessType.WatchLog).read\n      },\n      {\n        path: RoutePath.UniNOC,\n        component: <NocDashboard />,\n        active: getAccessLevel(SubAccessType.UniNOC).read\n      },\n      {\n        path: RoutePath.UniWatch,\n        component: <Watch />,\n        active: getAccessLevel(SubAccessType.UniWatch).read\n      },\n      {\n        path: RoutePath.HostGroup,\n        component: <HostGroup />,\n        active: getAccessLevel(SubAccessType.HostGroup).read\n      }\n    ],\n    [isLocal, getAccessLevel]\n  );\n\n  return { routes: routes.filter(item => item.active) };\n}\n\n/** 取得頁面的讀寫權限、API網址 */\nfunction useDataInit() {\n  const { push } = useHistory();\n  const {\n    hasBackend,\n    isLoggedIn,\n    setIsLocal,\n    setGroupID,\n    setAccessLevels\n  } = useGlobalState();\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    if (!isLoggedIn) return;\n    if (!hasBackend) {\n      setLoading(false);\n      return;\n    }\n\n    const init = async () => {\n      try {\n        const info = await getAccount();\n        const accessLevels = await getAccessLevel();\n        const kibanaUrl = await getConfig('KIBANA_BASE_URL');\n        const logReportUrl = await getConfig('LOG_REPORT_API_URL');\n        const uniNocUrl = await getConfig('ZIBBIX_API_URL');\n        setIsLocal(Boolean(info.isLocal));\n        setGroupID(info.groupId);\n        setAccessLevels(accessLevels);\n        setKibanaURL(kibanaUrl);\n        setLogReportURL(logReportUrl);\n        setUniNocBaseUrl(uniNocUrl);\n        setLoading(false);\n      } catch {\n        push(RoutePath.Login);\n      }\n    };\n\n    init();\n  }, [hasBackend, isLoggedIn, push, setAccessLevels, setGroupID, setIsLocal]);\n\n  return { loading };\n}\n","import React from 'react';\r\nimport {\r\n  EuiConfirmModal,\r\n  EuiGlobalToastList,\r\n  EuiOverlayMask\r\n} from '@elastic/eui';\r\n\r\nimport { useGlobalUI } from 'contexts/GlobalUIContext';\r\nimport { Toast } from '@elastic/eui/src/components/toast/global_toast_list';\r\n\r\nexport default function GlobalUI() {\r\n  const { toast, confirmModal } = useGlobalUI();\r\n\r\n  const removeToast = (target: Toast) => {\r\n    toast.removeToast(target.id);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <EuiGlobalToastList\r\n        toasts={toast.values}\r\n        dismissToast={removeToast}\r\n        toastLifeTimeMs={2000}\r\n      />\r\n      {confirmModal.active && (\r\n        <EuiOverlayMask>\r\n          <EuiConfirmModal {...confirmModal.values} />\r\n        </EuiOverlayMask>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\n\nimport { useGlobalState } from 'contexts/GlobalStateContext';\nimport Login from 'pages/Login';\nimport BasicLayout from 'layouts/BasicLayout';\nimport { useAxiosLogInit } from 'utils/api/unilog/instance';\nimport GlobalUI from 'components/GlobalUI';\nimport { RoutePath } from 'utils/enums';\n\nexport default function App() {\n  const { initialized } = useAxiosLogInit();\n\n  if (!initialized) return null;\n\n  return (\n    <>\n      <GlobalUI />\n      <Routes />\n    </>\n  );\n}\n\nfunction Routes() {\n  const { isLoggedIn } = useGlobalState();\n\n  if (isLoggedIn) {\n    return (\n      <Switch>\n        <Route path=\"/\" component={BasicLayout} />\n      </Switch>\n    );\n  } else {\n    return (\n      <Switch>\n        <Route path={RoutePath.Login} exact component={Login} />\n        <Redirect to={RoutePath.Login} />\n      </Switch>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'utils/momentInit';\nimport '@elastic/eui/dist/eui_theme_light.css';\nimport '@elastic/charts/dist/theme_light.css';\nimport './index.css';\nimport App from './App';\n\nimport { HashRouter } from 'react-router-dom';\nimport { GlobalStateProvider } from 'contexts/GlobalStateContext';\nimport { GlobalUIProvider } from 'contexts/GlobalUIContext';\n\n/** false時可跳過後端相關驗證 */\nconst HAS_BACKEND = true;\n\nReactDOM.render(\n  <GlobalStateProvider hasBackend={HAS_BACKEND}>\n    <GlobalUIProvider>\n      <HashRouter>\n        <App />\n      </HashRouter>\n    </GlobalUIProvider>\n  </GlobalStateProvider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}